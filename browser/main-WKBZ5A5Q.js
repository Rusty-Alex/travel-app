import{a as L,b as ve,c as Yf,d as R}from"./chunk-4CLCTAJ7.js";function ep(n,e){return Object.is(n,e)}var lt=null,yl=!1,tp=1,Lt=Symbol("SIGNAL");function ce(n){let e=lt;return lt=n,e}function np(){return lt}var ra={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ia(n){if(yl)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(n);let e=lt.nextProducerIndex++;if(El(lt),e<lt.producerNode.length&&lt.producerNode[e]!==n&&na(lt)){let t=lt.producerNode[e];wl(t,lt.producerIndexOfThis[e])}lt.producerNode[e]!==n&&(lt.producerNode[e]=n,lt.producerIndexOfThis[e]=na(lt)?LE(n,lt,e):0),lt.producerLastReadVersion[e]=n.version}function VE(){tp++}function rp(n){if(!(na(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===tp)){if(!n.producerMustRecompute(n)&&!ap(n)){Jf(n);return}n.producerRecomputeValue(n),Jf(n)}}function ip(n){if(n.liveConsumerNode===void 0)return;let e=yl;yl=!0;try{for(let t of n.liveConsumerNode)t.dirty||zx(t)}finally{yl=e}}function op(){return lt?.consumerAllowSignalWrites!==!1}function zx(n){n.dirty=!0,ip(n),n.consumerMarkedDirty?.(n)}function Jf(n){n.dirty=!1,n.lastCleanEpoch=tp}function _l(n){return n&&(n.nextProducerIndex=0),ce(n)}function sp(n,e){if(ce(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(na(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)wl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ap(n){El(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(rp(t),r!==t.version))return!0}return!1}function cp(n){if(El(n),na(n))for(let e=0;e<n.producerNode.length;e++)wl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function LE(n,e,t){if(jE(n),n.liveConsumerNode.length===0&&BE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=LE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function wl(n,e){if(jE(n),n.liveConsumerNode.length===1&&BE(n))for(let r=0;r<n.producerNode.length;r++)wl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];El(i),i.producerIndexOfThis[r]=e}}function na(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function El(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function jE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function BE(n){return n.producerNode!==void 0}function bl(n,e){let t=Object.create(Hx);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(rp(t),ia(t),t.value===vl)throw t.error;return t.value};return r[Lt]=t,r}var Zf=Symbol("UNSET"),Xf=Symbol("COMPUTING"),vl=Symbol("ERRORED"),Hx=ve(L({},ra),{value:Zf,dirty:!0,error:null,equal:ep,kind:"computed",producerMustRecompute(n){return n.value===Zf||n.value===Xf},producerRecomputeValue(n){if(n.value===Xf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Xf;let t=_l(n),r,i=!1;try{r=n.computation(),ce(null),i=e!==Zf&&e!==vl&&r!==vl&&n.equal(e,r)}catch(o){r=vl,n.error=o}finally{sp(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function qx(){throw new Error}var UE=qx;function $E(n){UE(n)}function lp(n){UE=n}var Gx=null;function up(n,e){let t=Object.create(Il);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(ia(t),t.value);return r[Lt]=t,r}function oa(n,e){op()||$E(n),n.equal(n.value,e)||(n.value=e,Wx(n))}function dp(n,e){op()||$E(n),oa(n,e(n.value))}var Il=ve(L({},ra),{equal:ep,value:void 0,kind:"signal"});function Wx(n){n.version++,VE(),ip(n),Gx?.()}function hp(n){let e=ce(null);try{return n()}finally{ce(e)}}var fp;function sa(){return fp}function Jn(n){let e=fp;return fp=n,e}var Dl=Symbol("NotFound");function oe(n){return typeof n=="function"}function so(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Cl=so(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function li(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ye=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof Cl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zE(o)}catch(s){e=e??[],s instanceof Cl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Cl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&li(t,e)}remove(e){let{_finalizers:t}=this;t&&li(t,e),e instanceof n&&e._removeParent(this)}};Ye.EMPTY=(()=>{let n=new Ye;return n.closed=!0,n})();var pp=Ye.EMPTY;function Tl(n){return n instanceof Ye||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function zE(n){oe(n)?n():n.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ao={setTimeout(n,e,...t){let{delegate:r}=ao;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ao;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Sl(n){ao.setTimeout(()=>{let{onUnhandledError:e}=mn;if(e)e(n);else throw n})}function aa(){}var HE=gp("C",void 0,void 0);function qE(n){return gp("E",void 0,n)}function GE(n){return gp("N",n,void 0)}function gp(n,e,t){return{kind:n,value:e,error:t}}var ui=null;function co(n){if(mn.useDeprecatedSynchronousErrorHandling){let e=!ui;if(e&&(ui={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ui;if(ui=null,t)throw r}}else n()}function WE(n){mn.useDeprecatedSynchronousErrorHandling&&ui&&(ui.errorThrown=!0,ui.error=n)}var di=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tl(e)&&e.add(this)):this.destination=Jx}static create(e,t,r){return new lo(e,t,r)}next(e){this.isStopped?yp(GE(e),this):this._next(e)}error(e){this.isStopped?yp(qE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yp(HE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Zx=Function.prototype.bind;function mp(n,e){return Zx.call(n,e)}var vp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Al(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Al(r)}else Al(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Al(t)}}},lo=class extends di{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mp(e.next,o),error:e.error&&mp(e.error,o),complete:e.complete&&mp(e.complete,o)}):i=e}this.destination=new vp(i)}};function Al(n){mn.useDeprecatedSynchronousErrorHandling?WE(n):Sl(n)}function Xx(n){throw n}function yp(n,e){let{onStoppedNotification:t}=mn;t&&ao.setTimeout(()=>t(n,e))}var Jx={closed:!0,next:aa,error:Xx,complete:aa};var uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Kt(n){return n}function _p(...n){return wp(n)}function wp(n){return n.length===0?Kt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=tR(t)?t:new lo(t,r,i);return co(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=KE(r),new r((i,o)=>{let s=new lo({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[uo](){return this}pipe(...t){return wp(t)(this)}toPromise(t){return t=KE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function KE(n){var e;return(e=n??mn.Promise)!==null&&e!==void 0?e:Promise}function eR(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function tR(n){return n&&n instanceof di||eR(n)&&Tl(n)}function Ep(n){return oe(n?.lift)}function be(n){return e=>{if(Ep(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(n,e,t,r,i){return new bp(n,e,t,r,i)}var bp=class extends di{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ho(){return be((n,e)=>{let t=null;n._refCount++;let r=we(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var fo=class extends Ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ep(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let t=this.getSubject();e.add(this.source.subscribe(we(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return ho()(this)}};var QE=so(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class n extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ml(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new QE}next(t){co(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){co(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){co(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pp:(this.currentObservers=null,o.push(t),new Ye(()=>{this.currentObservers=null,li(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ce;return t.source=this,t}}return n.create=(e,t)=>new Ml(e,t),n})(),Ml=class extends tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:pp}};var nt=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ip={now(){return(Ip.delegate||Date).now()},delegate:void 0};var xl=class extends Ye{constructor(e,t){super()}schedule(e,t=0){return this}};var ca={setInterval(n,e,...t){let{delegate:r}=ca;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ca;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Rl=class extends xl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ca.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,li(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var nR=1,Dp,Cp={};function YE(n){return n in Cp?(delete Cp[n],!0):!1}var ZE={setImmediate(n){let e=nR++;return Cp[e]=!0,Dp||(Dp=Promise.resolve()),Dp.then(()=>YE(e)&&n()),e},clearImmediate(n){YE(n)}};var{setImmediate:rR,clearImmediate:iR}=ZE,la={setImmediate(...n){let{delegate:e}=la;return(e?.setImmediate||rR)(...n)},clearImmediate(n){let{delegate:e}=la;return(e?.clearImmediate||iR)(n)},delegate:void 0};var Nl=class extends Rl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=la.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(la.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}};var po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};po.now=Ip.now;var Pl=class extends po{constructor(e,t=po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ol=class extends Pl{flush(e){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var Tp=new Ol(Nl);var jt=new Ce(n=>n.complete());function XE(n){return n&&oe(n.schedule)}function JE(n){return n[n.length-1]}function kl(n){return oe(JE(n))?n.pop():void 0}function Pr(n){return XE(JE(n))?n.pop():void 0}function t0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function e0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hi(n){return this instanceof hi?(this.v=n,this):new hi(n)}function n0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(_){return Promise.resolve(_).then(m,p)}}function a(m,_){r[m]&&(i[m]=function(D){return new Promise(function(A,k){o.push([m,D,A,k])>1||l(m,D)})},_&&(i[m]=_(i[m])))}function l(m,_){try{u(r[m](_))}catch(D){g(o[0][3],D)}}function u(m){m.value instanceof hi?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){l("next",m)}function p(m){l("throw",m)}function g(m,_){m(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function r0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof e0=="function"?e0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Fl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Vl(n){return oe(n?.then)}function Ll(n){return oe(n[uo])}function jl(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function Bl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function oR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ul=oR();function $l(n){return oe(n?.[Ul])}function zl(n){return n0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield hi(t.read());if(i)return yield hi(void 0);yield yield hi(r)}}finally{t.releaseLock()}})}function Hl(n){return oe(n?.getReader)}function rt(n){if(n instanceof Ce)return n;if(n!=null){if(Ll(n))return sR(n);if(Fl(n))return aR(n);if(Vl(n))return cR(n);if(jl(n))return i0(n);if($l(n))return lR(n);if(Hl(n))return uR(n)}throw Bl(n)}function sR(n){return new Ce(e=>{let t=n[uo]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aR(n){return new Ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function cR(n){return new Ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Sl)})}function lR(n){return new Ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function i0(n){return new Ce(e=>{dR(n,e).catch(t=>e.error(t))})}function uR(n){return i0(zl(n))}function dR(n,e){var t,r,i,o;return t0(this,void 0,void 0,function*(){try{for(t=r0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Bt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ql(n,e=0){return be((t,r)=>{t.subscribe(we(r,i=>Bt(r,n,()=>r.next(i),e),()=>Bt(r,n,()=>r.complete(),e),i=>Bt(r,n,()=>r.error(i),e)))})}function Gl(n,e=0){return be((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function o0(n,e){return rt(n).pipe(Gl(e),ql(e))}function s0(n,e){return rt(n).pipe(Gl(e),ql(e))}function a0(n,e){return new Ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function c0(n,e){return new Ce(t=>{let r;return Bt(t,e,()=>{r=n[Ul](),Bt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Wl(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ce(t=>{Bt(t,e,()=>{let r=n[Symbol.asyncIterator]();Bt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function l0(n,e){return Wl(zl(n),e)}function u0(n,e){if(n!=null){if(Ll(n))return o0(n,e);if(Fl(n))return a0(n,e);if(Vl(n))return s0(n,e);if(jl(n))return Wl(n,e);if($l(n))return c0(n,e);if(Hl(n))return l0(n,e)}throw Bl(n)}function ze(n,e){return e?u0(n,e):rt(n)}function ne(...n){let e=Pr(n);return ze(n,e)}function go(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new Ce(e?i=>e.schedule(r,0,i):r)}function Sp(n){return!!n&&(n instanceof Ce||oe(n.lift)&&oe(n.subscribe))}var er=so(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function he(n,e){return be((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:hR}=Array;function fR(n,e){return hR(e)?n(...e):n(e)}function Kl(n){return he(e=>fR(n,e))}var{isArray:pR}=Array,{getPrototypeOf:gR,prototype:mR,keys:yR}=Object;function Ql(n){if(n.length===1){let e=n[0];if(pR(e))return{args:e,keys:null};if(vR(e)){let t=yR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function vR(n){return n&&typeof n=="object"&&gR(n)===mR}function Yl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function mo(...n){let e=Pr(n),t=kl(n),{args:r,keys:i}=Ql(n);if(r.length===0)return ze([],e);let o=new Ce(_R(r,e,i?s=>Yl(i,s):Kt));return t?o.pipe(Kl(t)):o}function _R(n,e,t=Kt){return r=>{d0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)d0(e,()=>{let u=ze(n[l],e),h=!1;u.subscribe(we(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function d0(n,e,t){n?Bt(t,n,e):e()}function h0(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,p=!1,g=()=>{p&&!l.length&&!u&&e.complete()},m=D=>u<r?_(D):l.push(D),_=D=>{o&&e.next(D),u++;let A=!1;rt(t(D,h++)).subscribe(we(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;l.length&&u<r;){let k=l.shift();s?Bt(e,s,()=>_(k)):_(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(we(e,m,()=>{p=!0,g()})),()=>{a?.()}}function ut(n,e,t=1/0){return oe(e)?ut((r,i)=>he((o,s)=>e(r,o,i,s))(rt(n(r,i))),t):(typeof e=="number"&&(t=e),be((r,i)=>h0(r,i,n,t)))}function f0(n=1/0){return ut(Kt,n)}function p0(){return f0(1)}function yo(...n){return p0()(ze(n,Pr(n)))}function Zl(n){return new Ce(e=>{rt(n()).subscribe(e)})}function Ap(...n){let e=kl(n),{args:t,keys:r}=Ql(n),i=new Ce(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;rt(t[h]).subscribe(we(o,g=>{p||(p=!0,u--),a[h]=g},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?Yl(r,a):a),o.complete())}))}});return e?i.pipe(Kl(e)):i}function Qt(n,e){return be((t,r)=>{let i=0;t.subscribe(we(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Or(n){return be((e,t)=>{let r=null,i=!1,o;r=e.subscribe(we(t,void 0,void 0,s=>{o=rt(n(s,Or(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function g0(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(we(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function kr(n,e){return oe(e)?ut(n,e,1):ut(n,1)}function Fr(n){return be((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function tr(n){return n<=0?()=>jt:be((e,t)=>{let r=0;e.subscribe(we(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Xl(n=wR){return be((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wR(){return new er}function Vr(n){return be((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function nr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qt((i,o)=>n(i,o,r)):Kt,tr(1),t?Fr(e):Xl(()=>new er))}function vo(n){return n<=0?()=>jt:be((e,t)=>{let r=[];e.subscribe(we(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Mp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qt((i,o)=>n(i,o,r)):Kt,vo(1),t?Fr(e):Xl(()=>new er))}function xp(n,e){return be(g0(n,e,arguments.length>=2,!0))}function Rp(...n){let e=Pr(n);return be((t,r)=>{(e?yo(n,t,e):yo(n,t)).subscribe(r)})}function Tt(n,e){return be((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(we(r,l=>{i?.unsubscribe();let u=0,h=o++;rt(n(l,h)).subscribe(i=we(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Np(n){return be((e,t)=>{rt(n).subscribe(we(t,()=>t.complete(),aa)),!t.closed&&e.subscribe(t)})}function wt(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?be((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Kt}var rb="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,t){super(ib(e,t)),this.code=e}};function ER(n){return`NG0${Math.abs(n)}`}function ib(n,e){return`${ER(n)}${e?": "+e:""}`}var ob=Symbol("InputSignalNode#UNSET"),bR=ve(L({},Il),{transformFn:void 0,applyValueToInputSignal(n,e){oa(n,e)}});function sb(n,e){let t=Object.create(bR);t.value=n,t.transformFn=e?.transform;function r(){if(ia(t),t.value===ob){let i=null;throw new F(-950,i)}return t.value}return r[Lt]=t,r}function Mu(n){return{toString:n}.toString()}function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function IR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ut(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ut).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function m0(n,e){return n?e?`${n} ${e}`:n:e||""}var DR=Fe({__forward_ref__:Fe});function xa(n){return n.__forward_ref__=xa,n.toString=function(){return Ut(this())},n}function kt(n){return ab(n)?n():n}function ab(n){return typeof n=="function"&&n.hasOwnProperty(DR)&&n.__forward_ref__===xa}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wn(n){return{providers:n.providers||[],imports:n.imports||[]}}function xu(n){return y0(n,lb)||y0(n,ub)}function cb(n){return xu(n)!==null}function y0(n,e){return n.hasOwnProperty(e)?n[e]:null}function CR(n){let e=n&&(n[lb]||n[ub]);return e||null}function v0(n){return n&&(n.hasOwnProperty(_0)||n.hasOwnProperty(TR))?n[_0]:null}var lb=Fe({\u0275prov:Fe}),_0=Fe({\u0275inj:Fe}),ub=Fe({ngInjectableDef:Fe}),TR=Fe({ngInjectorDef:Fe}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function db(n){return n&&!!n.\u0275providers}var SR=Fe({\u0275cmp:Fe}),AR=Fe({\u0275dir:Fe}),MR=Fe({\u0275pipe:Fe}),xR=Fe({\u0275mod:Fe}),su=Fe({\u0275fac:Fe}),fa=Fe({__NG_ELEMENT_ID__:Fe}),w0=Fe({__NG_ENV_ID__:Fe});function pa(n){return typeof n=="string"?n:n==null?"":String(n)}function RR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():pa(n)}function hb(n,e){throw new F(-200,n)}function zg(n,e){throw new F(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),Kp;function fb(){return Kp}function on(n){let e=Kp;return Kp=n,e}function pb(n,e,t){let r=xu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&de.Optional)return null;if(e!==void 0)return e;zg(n,"Injector")}var NR={},fi=NR,PR="__NG_DI_FLAG__",au=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Dl:fi,r)}},cu="ngTempTokenPath",OR="ngTokenPath",kR=/\n/gm,FR="\u0275",E0="__source";function VR(n,e=de.Default){if(sa()===void 0)throw new F(-203,!1);if(sa()===null)return pb(n,void 0,e);{let t=sa(),r;return t instanceof au?r=t.injector:r=t,r.get(n,e&de.Optional?null:void 0,e)}}function X(n,e=de.Default){return(fb()||VR)(kt(n),e)}function V(n,e=de.Default){return X(n,Ru(e))}function Ru(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Qp(n){let e=[];for(let t=0;t<n.length;t++){let r=kt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let a=r[s],l=LR(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(X(i,o))}else e.push(X(r))}return e}function LR(n){return n[PR]}function jR(n,e,t,r){let i=n[cu];throw e[E0]&&i.unshift(e[E0]),n.message=BR(`
`+n.message,i,t,r),n[OR]=i,n[cu]=null,n}function BR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==FR?n.slice(2):n;let i=Ut(e);if(Array.isArray(e))i=e.map(Ut).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ut(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(kR,`
  `)}`}function Io(n,e){let t=n.hasOwnProperty(su);return t?n[su]:null}function UR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function $R(n){return n.flat(Number.POSITIVE_INFINITY)}function Hg(n,e){n.forEach(t=>Array.isArray(t)?Hg(t,e):e(t))}function gb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function lu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function HR(n,e,t){let r=Ra(n,e);return r>=0?n[r|1]=t:(r=~r,zR(n,r,e,t)),r}function Pp(n,e){let t=Ra(n,e);if(t>=0)return n[t|1]}function Ra(n,e){return qR(n,e,1)}function qR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var gi={},Yt=[],ga=new G(""),mb=new G("",-1),yb=new G(""),uu=class{get(e,t=fi){if(t===fi){let r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return t}};function vb(n,e){let t=n[xR]||null;if(!t&&e===!0)throw new Error(`Type ${Ut(n)} does not have '\u0275mod' property.`);return t}function Do(n){return n[SR]||null}function GR(n){return n[AR]||null}function WR(n){return n[MR]||null}function Na(n){return{\u0275providers:n}}function KR(...n){return{\u0275providers:_b(!0,n),\u0275fromNgModule:!0}}function _b(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Hg(e,s=>{let a=s;Yp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&wb(i,o),t}function wb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];qg(i,o=>{e(o,r)})}}function Yp(n,e,t,r){if(n=kt(n),!n)return!1;let i=null,o=v0(n),s=!o&&Do(n);if(!o&&!s){let l=n.ngModule;if(o=v0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Yp(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Hg(o.imports,h=>{Yp(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&wb(u,e)}if(!a){let u=Io(i)||(()=>new i);e({provide:i,useFactory:u,deps:Yt},i),e({provide:yb,useValue:i,multi:!0},i),e({provide:ga,useValue:()=>X(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;qg(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function qg(n,e){for(let t of n)db(t)&&(t=t.\u0275providers),Array.isArray(t)?qg(t,e):e(t)}var QR=Fe({provide:String,useValue:Fe});function Eb(n){return n!==null&&typeof n=="object"&&QR in n}function YR(n){return!!(n&&n.useExisting)}function ZR(n){return!!(n&&n.useFactory)}function Co(n){return typeof n=="function"}function XR(n){return!!n.useClass}var Nu=new G(""),eu={},b0={},Op;function Gg(){return Op===void 0&&(Op=new uu),Op}var $t=class{},ma=class extends $t{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Xp(e,s=>this.processProvider(s)),this.records.set(mb,_o(void 0,this)),i.has("environment")&&this.records.set($t,_o(void 0,this));let o=this.records.get(Nu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yb,Yt,de.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Dl:fi,r)}destroy(){da(this),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return da(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){da(this);let t=Jn(this),r=on(void 0),i;try{return e()}finally{Jn(t),on(r)}}get(e,t=fi,r=de.Default){if(da(this),e.hasOwnProperty(w0))return e[w0](this);r=Ru(r);let i,o=Jn(this),s=on(void 0);try{if(!(r&de.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=rN(e)&&xu(e);u&&this.injectableDefInScope(u)?l=_o(Zp(e),eu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&de.Self?Gg():this.parent;return t=r&de.Optional&&t===fi?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[cu]=a[cu]||[]).unshift(Ut(e)),o)throw a;return jR(a,e,"R3InjectorError",this.source)}else throw a}finally{on(s),Jn(o)}}resolveInjectorInitializers(){let e=ce(null),t=Jn(this),r=on(void 0),i;try{let o=this.get(ga,Yt,de.Self);for(let s of o)s()}finally{Jn(t),on(r),ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=kt(e);let t=Co(e)?e:kt(e&&e.provide),r=eN(e);if(!Co(e)&&e.multi===!0){let i=this.records.get(t);i||(i=_o(void 0,eu,!0),i.factory=()=>Qp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ce(null);try{return t.value===b0?hb(Ut(e)):t.value===eu&&(t.value=b0,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&nN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=kt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Zp(n){let e=xu(n),t=e!==null?e.factory:Io(n);if(t!==null)return t;if(n instanceof G)throw new F(204,!1);if(n instanceof Function)return JR(n);throw new F(204,!1)}function JR(n){if(n.length>0)throw new F(204,!1);let t=CR(n);return t!==null?()=>t.factory(n):()=>new n}function eN(n){if(Eb(n))return _o(void 0,n.useValue);{let e=bb(n);return _o(e,eu)}}function bb(n,e,t){let r;if(Co(n)){let i=kt(n);return Io(i)||Zp(i)}else if(Eb(n))r=()=>kt(n.useValue);else if(ZR(n))r=()=>n.useFactory(...Qp(n.deps||[]));else if(YR(n))r=(i,o)=>X(kt(n.useExisting),o!==void 0&&o&de.Optional?de.Optional:void 0);else{let i=kt(n&&(n.useClass||n.provide));if(tN(n))r=()=>new i(...Qp(n.deps));else return Io(i)||Zp(i)}return r}function da(n){if(n.destroyed)throw new F(205,!1)}function _o(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function tN(n){return!!n.deps}function nN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function rN(n){return typeof n=="function"||typeof n=="object"&&n instanceof G}function Xp(n,e){for(let t of n)Array.isArray(t)?Xp(t,e):t&&db(t)?Xp(t.\u0275providers,e):e(t)}function Zt(n,e){let t;n instanceof ma?(da(n),t=n):t=new au(n);let r,i=Jn(t),o=on(void 0);try{return e()}finally{Jn(i),on(o)}}function iN(){return fb()!==void 0||sa()!=null}function oN(n){return typeof n=="function"}var sr=0,le=1,se=2,At=3,vn=4,En=5,ya=6,du=7,dt=8,To=9,rr=10,ht=11,va=12,I0=13,xo=14,_n=15,mi=16,wo=17,ir=18,Pu=19,Ib=20,Lr=21,kp=22,hu=23,sn=24,Fp=25,an=26,Db=1;var yi=7,fu=8,So=9,St=10;function jr(n){return Array.isArray(n)&&typeof n[Db]=="object"}function ar(n){return Array.isArray(n)&&n[Db]===!0}function Cb(n){return(n.flags&4)!==0}function Ro(n){return n.componentOffset>-1}function Wg(n){return(n.flags&1)===1}function xn(n){return!!n.template}function pu(n){return(n[se]&512)!==0}function No(n){return(n[se]&256)===256}var Jp=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Tb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ii=(()=>{let n=()=>Sb;return n.ngInherit=!0,n})();function Sb(n){return n.type.prototype.ngOnChanges&&(n.setInput=aN),sN}function sN(){let n=Mb(this),e=n?.current;if(e){let t=n.previous;if(t===gi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function aN(n,e,t,r,i){let o=this.declaredInputs[r],s=Mb(n)||cN(n,{previous:gi,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Jp(u&&u.currentValue,t,l===gi),Tb(n,e,i,t)}var Ab="__ngSimpleChanges__";function Mb(n){return n[Ab]||null}function cN(n,e){return n[Ab]=e}var D0=null;var Ve=function(n,e=null,t){D0?.(n,e,t)},lN="svg",uN="math";function Rn(n){for(;Array.isArray(n);)n=n[sr];return n}function xb(n,e){return Rn(e[n])}function cr(n,e){return Rn(e[n.index])}function Kg(n,e){return n.data[e]}function Nn(n,e){let t=e[n];return jr(t)?t:t[sr]}function Qg(n){return(n[se]&128)===128}function dN(n){return ar(n[At])}function Ao(n,e){return e==null?null:n[e]}function Rb(n){n[wo]=0}function Nb(n){n[se]&1024||(n[se]|=1024,Qg(n)&&ku(n))}function hN(n,e){for(;n>0;)e=e[xo],n--;return e}function Ou(n){return!!(n[se]&9216||n[sn]?.dirty)}function eg(n){n[rr].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),Ou(n)&&ku(n)}function ku(n){n[rr].changeDetectionScheduler?.notify(0);let e=vi(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Qg(e)));)e=vi(e)}function Pb(n,e){if(No(n))throw new F(911,!1);n[Lr]===null&&(n[Lr]=[]),n[Lr].push(e)}function fN(n,e){if(n[Lr]===null)return;let t=n[Lr].indexOf(e);t!==-1&&n[Lr].splice(t,1)}function vi(n){let e=n[At];return ar(e)?e[At]:e}function Yg(n){return n[du]??=[]}function Zg(n){return n.cleanup??=[]}function pN(n,e,t,r){let i=Yg(e);i.push(t),n.firstCreatePass&&Zg(n).push(r,i.length-1)}var me={lFrame:Ub(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var tg=!1;function gN(){return me.lFrame.elementDepthCount}function mN(){me.lFrame.elementDepthCount++}function yN(){me.lFrame.elementDepthCount--}function Ob(){return me.bindingsEnabled}function vN(){return me.skipHydrationRootTNode!==null}function _N(n){return me.skipHydrationRootTNode===n}function wN(){me.skipHydrationRootTNode=null}function Ae(){return me.lFrame.lView}function Ft(){return me.lFrame.tView}function it(n){return me.lFrame.contextLView=n,n[dt]}function ot(n){return me.lFrame.contextLView=null,n}function cn(){let n=kb();for(;n!==null&&n.type===64;)n=n.parent;return n}function kb(){return me.lFrame.currentTNode}function EN(){let n=me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Pa(n,e){let t=me.lFrame;t.currentTNode=n,t.isParent=e}function Fb(){return me.lFrame.isParent}function bN(){me.lFrame.isParent=!1}function Vb(){return tg}function C0(n){let e=tg;return tg=n,e}function IN(){return me.lFrame.bindingIndex}function DN(n){return me.lFrame.bindingIndex=n}function Oa(){return me.lFrame.bindingIndex++}function Lb(n){let e=me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function CN(){return me.lFrame.inI18n}function TN(n,e){let t=me.lFrame;t.bindingIndex=t.bindingRootIndex=n,ng(e)}function SN(){return me.lFrame.currentDirectiveIndex}function ng(n){me.lFrame.currentDirectiveIndex=n}function AN(n){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function MN(){return me.lFrame.currentQueryIndex}function Xg(n){me.lFrame.currentQueryIndex=n}function xN(n){let e=n[le];return e.type===2?e.declTNode:e.type===1?n[En]:null}function jb(n,e,t){if(t&de.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&de.Host);)if(i=xN(o),i===null||(o=o[xo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=me.lFrame=Bb();return r.currentTNode=e,r.lView=n,!0}function Jg(n){let e=Bb(),t=n[le];me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Bb(){let n=me.lFrame,e=n===null?null:n.child;return e===null?Ub(n):e}function Ub(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function $b(){let n=me.lFrame;return me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var zb=$b;function em(){let n=$b();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function RN(n){return(me.lFrame.contextLView=hN(n,me.lFrame.contextLView))[dt]}function zr(){return me.lFrame.selectedIndex}function _i(n){me.lFrame.selectedIndex=n}function tm(){let n=me.lFrame;return Kg(n.tView,n.selectedIndex)}function NN(){return me.lFrame.currentNamespace}var Hb=!0;function nm(){return Hb}function rm(n){Hb=n}function PN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Sb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function qb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function tu(n,e,t){Gb(n,e,3,t)}function nu(n,e,t,r){(n[se]&3)===t&&Gb(n,e,t,r)}function Vp(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function Gb(n,e,t,r){let i=r!==void 0?n[wo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[wo]+=65536),(a<o||o==-1)&&(ON(n,t,e,l),n[wo]=(n[wo]&4294901760)+l+2),l++}function T0(n,e){Ve(4,n,e);let t=ce(null);try{e.call(n)}finally{ce(t),Ve(5,n,e)}}function ON(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[wo]>>16&&(n[se]&3)===e&&(n[se]+=16384,T0(a,o)):T0(a,o)}var bo=-1,wi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function kN(n){return(n.flags&8)!==0}function FN(n){return(n.flags&16)!==0}function VN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];jN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function LN(n){return n===3||n===4||n===6}function jN(n){return n.charCodeAt(0)===64}function _a(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?S0(n,t,i,null,e[++r]):S0(n,t,i,null,null))}}return n}function S0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Wb(n){return n!==bo}function gu(n){return n&32767}function BN(n){return n>>16}function mu(n,e){let t=BN(n),r=e;for(;t>0;)r=r[xo],t--;return r}var rg=!0;function A0(n){let e=rg;return rg=n,e}var UN=256,Kb=UN-1,Qb=5,$N=0,Mn={};function zN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(fa)&&(r=t[fa]),r==null&&(r=t[fa]=$N++);let i=r&Kb,o=1<<i;e.data[n+(i>>Qb)]|=o}function yu(n,e){let t=Yb(n,e);if(t!==-1)return t;let r=e[le];r.firstCreatePass&&(n.injectorIndex=e.length,Lp(r.data,n),Lp(e,null),Lp(r.blueprint,null));let i=im(n,e),o=n.injectorIndex;if(Wb(i)){let s=gu(i),a=mu(i,e),l=a[le].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Lp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Yb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function im(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=tI(i),r===null)return bo;if(t++,i=i[xo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return bo}function ig(n,e,t){zN(n,e,t)}function Zb(n,e,t){if(t&de.Optional||n!==void 0)return n;zg(e,"NodeInjector")}function Xb(n,e,t,r){if(t&de.Optional&&r===void 0&&(r=null),(t&(de.Self|de.Host))===0){let i=n[To],o=on(void 0);try{return i?i.get(e,r,t&de.Optional):pb(e,r,t&de.Optional)}finally{on(o)}}return Zb(r,e,t)}function Jb(n,e,t,r=de.Default,i){if(n!==null){if(e[se]&2048&&!(r&de.Self)){let s=WN(n,e,t,r,Mn);if(s!==Mn)return s}let o=eI(n,e,t,r,Mn);if(o!==Mn)return o}return Xb(e,t,r,i)}function eI(n,e,t,r,i){let o=qN(t);if(typeof o=="function"){if(!jb(e,n,r))return r&de.Host?Zb(i,t,r):Xb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))zg(t);else return s}finally{zb()}}else if(typeof o=="number"){let s=null,a=Yb(n,e),l=bo,u=r&de.Host?e[_n][En]:null;for((a===-1||r&de.SkipSelf)&&(l=a===-1?im(n,e):e[a+8],l===bo||!x0(r,!1)?a=-1:(s=e[le],a=gu(l),e=mu(l,e)));a!==-1;){let h=e[le];if(M0(o,a,h.data)){let p=HN(a,e,t,s,r,u);if(p!==Mn)return p}l=e[a+8],l!==bo&&x0(r,e[le].data[a+8]===u)&&M0(o,a,e)?(s=h,a=gu(l),e=mu(l,e)):a=-1}}return i}function HN(n,e,t,r,i,o){let s=e[le],a=s.data[n+8],l=r==null?Ro(a)&&rg:r!=s&&(a.type&3)!==0,u=i&de.Host&&o===a,h=ru(a,s,t,l,u);return h!==null?wa(e,s,h,a,i):Mn}function ru(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:u;for(let m=p;m<g;m++){let _=s[m];if(m<l&&t===_||m>=l&&_.type===t)return m}if(i){let m=s[l];if(m&&xn(m)&&m.type===t)return l}return null}function wa(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof wi){let a=o;a.resolving&&hb(RR(s[t]));let l=A0(a.canSeeViewProviders);a.resolving=!0;let u,h=a.injectImpl?on(a.injectImpl):null,p=jb(n,r,de.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&PN(t,s[t],e)}finally{h!==null&&on(h),A0(l),a.resolving=!1,zb()}}return o}function qN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(fa)?n[fa]:void 0;return typeof e=="number"?e>=0?e&Kb:GN:e}function M0(n,e,t){let r=1<<n;return!!(t[e+(n>>Qb)]&r)}function x0(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var pi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Jb(this._tNode,this._lView,e,Ru(r),t)}};function GN(){return new pi(cn(),Ae())}function ka(n){return Mu(()=>{let e=n.prototype.constructor,t=e[su]||og(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[su]||og(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function og(n){return ab(n)?()=>{let e=og(kt(n));return e&&e()}:Io(n)}function WN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!pu(s);){let a=eI(o,s,t,r|de.Self,Mn);if(a!==Mn)return a;let l=o.parent;if(!l){let u=s[Ib];if(u){let h=u.get(t,Mn,r);if(h!==Mn)return h}l=tI(s),s=s[xo]}o=l}return i}function tI(n){let e=n[le],t=e.type;return t===2?e.declTNode:t===1?n[En]:null}function R0(n,e=null,t=null,r){let i=nI(n,e,t,r);return i.resolveInjectorInitializers(),i}function nI(n,e=null,t=null,r,i=new Set){let o=[t||Yt,KR(n)];return r=r||(typeof n=="object"?void 0:Ut(n)),new ma(o,e||Gg(),r||null,i)}var or=class n{static THROW_IF_NOT_FOUND=fi;static NULL=new uu;static create(e,t){if(Array.isArray(e))return R0({name:""},t,e,"");{let r=e.name??"";return R0({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:n,providedIn:"any",factory:()=>X(mb)});static __NG_ELEMENT_ID__=-1};var KN=new G("");KN.__NG_ELEMENT_ID__=n=>{let e=cn();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new F(204,!1)};var rI=!1,Po=(()=>{class n{static __NG_ELEMENT_ID__=QN;static __NG_ENV_ID__=t=>t}return n})(),sg=class extends Po{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return No(t)?(e(),()=>{}):(Pb(t,e),()=>fN(t,e))}};function QN(){return new sg(Ae())}var Ea=class{},om=new G("",{providedIn:"root",factory:()=>!1});var iI=new G(""),oI=new G(""),lr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new nt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();var ag=class extends tt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,iN()&&(this.destroyRef=V(Po,{optional:!0})??void 0,this.pendingTasks=V(lr,{optional:!0})??void 0)}emit(e){let t=ce(null);try{super.next(e)}finally{ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ye&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},pt=ag;function vu(...n){}function sI(n){let e,t;function r(){n=vu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function N0(n){return queueMicrotask(()=>n()),()=>{n=vu}}var sm="isAngularZone",_u=sm+"_ID",YN=0,Ge=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pt(!1);onMicrotaskEmpty=new pt(!1);onStable=new pt(!1);onError=new pt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=rI}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,JN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new F(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ZN,vu,vu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},ZN={};function am(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function XN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){sI(()=>{n.callbackScheduled=!1,cg(n),n.isCheckStableRunning=!0,am(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),cg(n)}function JN(n){let e=()=>{XN(n)},t=YN++;n._inner=n._inner.fork({name:"angular",properties:{[sm]:!0,[_u]:t,[_u+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(e1(l))return r.invokeTask(o,s,a,l);try{return P0(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),O0(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return P0(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!t1(l)&&e(),O0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,cg(n),am(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function cg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function P0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function O0(n){n._nesting--,am(n)}var lg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pt;onMicrotaskEmpty=new pt;onStable=new pt;onError=new pt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function e1(n){return aI(n,"__ignore_ng_zone__")}function t1(n){return aI(n,"__scheduler_tick__")}function aI(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Pn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},n1=new G("",{providedIn:"root",factory:()=>{let n=V(Ge),e=V(Pn);return t=>n.runOutsideAngular(()=>e.handleError(t))}}),ug=class{destroyed=!1;listeners=null;errorHandler=V(Pn,{optional:!0});destroyRef=V(Po);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new F(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(ib(953,!1));return}if(this.listeners===null)return;let t=ce(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ce(t)}}};function cI(n){return new ug}function k0(n,e){return sb(n,e)}function r1(n){return sb(ob,n)}var Le=(k0.required=r1,k0);function i1(){return Oo(cn(),Ae())}function Oo(n,e){return new Hr(cr(n,e))}var Hr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=i1}return n})();function o1(n){return n instanceof Hr?n.nativeElement:n}function s1(n){return typeof n=="function"&&n[Lt]!==void 0}function Di(n,e){let t=up(n,e?.equal),r=t[Lt];return t.set=i=>oa(r,i),t.update=i=>dp(r,i),t.asReadonly=a1.bind(t),t}function a1(){let n=this[Lt];if(n.readonlyFn===void 0){let e=()=>this();e[Lt]=n,n.readonlyFn=e}return n.readonlyFn}function lI(n){return s1(n)&&typeof n.set=="function"}function c1(){return this._results[Symbol.iterator]()}var dg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new tt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=$R(e);(this._changesDetected=!UR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=c1};function uI(n){return(n.flags&128)===128}var dI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dI||{}),hI=new Map,l1=0;function u1(){return l1++}function d1(n){hI.set(n[Pu],n)}function hg(n){hI.delete(n[Pu])}var F0="__ngContext__";function Fa(n,e){jr(e)?(n[F0]=e[Pu],d1(e)):n[F0]=e}function fI(n){return gI(n[va])}function pI(n){return gI(n[vn])}function gI(n){for(;n!==null&&!ar(n);)n=n[vn];return n}var fg;function mI(n){fg=n}function h1(){if(fg!==void 0)return fg;if(typeof document<"u")return document;throw new F(210,!1)}var cm=new G("",{providedIn:"root",factory:()=>f1}),f1="ng",lm=new G(""),Ci=new G("",{providedIn:"platform",factory:()=>"unknown"});var um=new G(""),dm=new G("",{providedIn:"root",factory:()=>h1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var p1="h",g1="b";var yI=!1,m1=new G("",{providedIn:"root",factory:()=>yI});var vI=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(vI||{}),Fu=new G(""),V0=new Set;function Ti(n){V0.has(n)||(V0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var y1=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();var v1=(n,e,t,r)=>{};function _1(n,e,t,r){v1(n,e,t,r)}var w1=()=>null;function _I(n,e,t=!1){return w1(n,e,t)}function wI(n,e){let t=n.contentQueries;if(t!==null){let r=ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Xg(o),a.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function pg(n,e,t){Xg(0);let r=ce(null);try{e(n,t)}finally{ce(r)}}function EI(n,e,t){if(Cb(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{ce(r)}}}var On=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(On||{});var wu=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rb})`}};function bI(n){return n instanceof wu?n.changingThisBreaksApplicationSecurity:n}function E1(n,e){let t=b1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rb})`)}return t===e}function b1(n){return n instanceof wu&&n.getTypeName()||null}var I1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function D1(n){return n=String(n),n.match(I1)?n:"unsafe:"+n}var II=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(II||{});function ln(n){let e=C1();return e?e.sanitize(II.URL,n)||"":E1(n,"URL")?bI(n):D1(pa(n))}function C1(){let n=Ae();return n&&n[rr].sanitizer}function DI(n){return n instanceof Function?n():n}function T1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var CI="ng-template";function S1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&T1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(hm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function hm(n){return n.type===4&&n.value!==CI}function A1(n,e,t){let r=n.type===4&&!t?CI:n.value;return e===r}function M1(n,e,t){let r=4,i=n.attrs,o=i!==null?N1(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!yn(r)&&!yn(l))return!1;if(s&&yn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!A1(n,l,t)||l===""&&e.length===1){if(yn(r))return!1;s=!0}}else if(r&8){if(i===null||!S1(n,i,l,t)){if(yn(r))return!1;s=!0}}else{let u=e[++a],h=x1(l,i,hm(n),t);if(h===-1){if(yn(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(yn(r))return!1;s=!0}}}}return yn(r)||s}function yn(n){return(n&1)===0}function x1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return P1(e,n)}function R1(n,e,t=!1){for(let r=0;r<e.length;r++)if(M1(n,e[r],t))return!0;return!1}function N1(n){for(let e=0;e<n.length;e++){let t=n[e];if(LN(t))return e}return n.length}function P1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function L0(n,e){return n?":not("+e.trim()+")":e}function O1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!yn(s)&&(e+=L0(o,i),i=""),r=s,o=o||!yn(r);t++}return i!==""&&(e+=L0(o,i)),e}function k1(n){return n.map(O1).join(",")}function F1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!yn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var kn={};function V1(n,e){return n.createText(e)}function L1(n,e,t){n.setValue(e,t)}function TI(n,e,t){return n.createElement(e,t)}function Eu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function SI(n,e,t){n.appendChild(e,t)}function j0(n,e,t,r,i){r!==null?Eu(n,e,t,r,i):SI(n,e,t)}function j1(n,e,t){n.removeChild(null,e,t)}function B1(n,e,t){n.setAttribute(e,"style",t)}function U1(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function AI(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&VN(n,e,r),i!==null&&U1(n,e,i),o!==null&&B1(n,e,o)}function fm(n,e,t,r,i,o,s,a,l,u,h){let p=an+r,g=p+i,m=$1(p,g),_=typeof u=="function"?u():u;return m[le]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:h}}function $1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:kn);return t}function z1(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=fm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function pm(n,e,t,r,i,o,s,a,l,u,h){let p=e.blueprint.slice();return p[sr]=i,p[se]=r|4|128|8|64|1024,(u!==null||n&&n[se]&2048)&&(p[se]|=2048),Rb(p),p[At]=p[xo]=n,p[dt]=t,p[rr]=s||n&&n[rr],p[ht]=a||n&&n[ht],p[To]=l||n&&n[To]||null,p[En]=o,p[Pu]=u1(),p[ya]=h,p[Ib]=u,p[_n]=e.type==2?n[_n]:p,p}function H1(n,e,t){let r=cr(e,n),i=z1(t),o=n[rr].rendererFactory,s=gm(n,pm(n,i,null,MI(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function MI(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function xI(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function gm(n,e){return n[va]?n[I0][vn]=e:n[va]=e,n[I0]=e,e}function q(n=1){RI(Ft(),Ae(),zr()+n,!1)}function RI(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&tu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&nu(e,o,0,t)}_i(t)}var Vu=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Vu||{});function gg(n,e,t,r){let i=ce(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Vu.SignalBased)!==0&&(l=e[o][Lt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):Tb(e,l,o,r)}finally{ce(i)}}function NI(n,e,t,r,i){let o=zr(),s=r&2;try{_i(-1),s&&e.length>an&&RI(n,e,an,!1),Ve(s?2:0,i),t(r,i)}finally{_i(o),Ve(s?3:1,i)}}function mm(n,e,t){Y1(n,e,t),(t.flags&64)===64&&Z1(n,e,t)}function PI(n,e,t=cr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function q1(n,e,t,r){let o=r.get(m1,yI)||t===On.ShadowDom,s=n.selectRootElement(e,o);return G1(s),s}function G1(n){W1(n)}var W1=()=>null;function K1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ym(n,e,t,r,i,o,s,a){if(!a&&vm(e,n,t,r,i)){Ro(e)&&Q1(t,e.index);return}if(e.type&3){let l=cr(e,t);r=K1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function Q1(n,e){let t=Nn(e,n);t[se]&16||(t[se]|=64)}function Y1(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ro(t)&&H1(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||yu(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=wa(e,n,s,t);if(Fa(l,e),o!==null&&J1(e,s-r,l,a,t,o),xn(a)){let u=Nn(t.index,e);u[dt]=wa(e,n,s,t)}}}function Z1(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=SN();try{_i(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];ng(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&X1(l,u)}}finally{_i(-1),ng(s)}}function X1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function OI(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];R1(e,o.selectors,!1)&&(r??=[],xn(o)?r.unshift(o):r.push(o))}return r}function J1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];gg(r,t,l,u)}}function eP(n,e){let t=n[To],r=t?t.get(Pn,null):null;r&&r.handleError(e)}function vm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],h=s[l+1],p=e.data[u];gg(p,t[u],h,i),a=!0}if(o)for(let l of o){let u=t[l],h=e.data[l];gg(h,u,r,i),a=!0}return a}function tP(n,e){let t=Nn(e,n),r=t[le];nP(r,t);let i=t[sr];i!==null&&t[ya]===null&&(t[ya]=_I(i,t[To])),Ve(18),_m(r,t,t[dt]),Ve(19,t[dt])}function nP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function _m(n,e,t){Jg(e);try{let r=n.viewQuery;r!==null&&pg(1,r,t);let i=n.template;i!==null&&NI(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ir]?.finishViewCreation(n),n.staticContentQueries&&wI(n,e),n.staticViewQueries&&pg(2,n.viewQuery,t);let o=n.components;o!==null&&rP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,em()}}function rP(n,e){for(let t=0;t<e.length;t++)tP(n,e[t])}function Lu(n,e,t,r){let i=ce(null);try{let o=e.tView,a=n[se]&4096?4096:16,l=pm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[mi]=u;let h=n[ir];return h!==null&&(l[ir]=h.createEmbeddedView(o)),_m(o,l,t),l}finally{ce(i)}}function ba(n,e){return!e||e.firstChild===null||uI(n)}var iP;function wm(n,e){return iP(n,e)}var Br=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Br||{});function kI(n){return(n.flags&32)===32}function Eo(n,e,t,r,i){if(r!=null){let o,s=!1;ar(r)?o=r:jr(r)&&(s=!0,r=r[sr]);let a=Rn(r);n===0&&t!==null?i==null?SI(e,t,a):Eu(e,t,a,i||null,!0):n===1&&t!==null?Eu(e,t,a,i||null,!0):n===2?j1(e,a,s):n===3&&e.destroyNode(a),o!=null&&mP(e,n,o,t,i)}}function oP(n,e){FI(n,e),e[sr]=null,e[En]=null}function sP(n,e,t,r,i,o){r[sr]=i,r[En]=e,Bu(n,r,t,1,i,o)}function FI(n,e){e[rr].changeDetectionScheduler?.notify(9),Bu(n,e,e[ht],2,null,null)}function aP(n){let e=n[va];if(!e)return jp(n[le],n);for(;e;){let t=null;if(jr(e))t=e[va];else{let r=e[St];r&&(t=r)}if(!t){for(;e&&!e[vn]&&e!==n;)jr(e)&&jp(e[le],e),e=e[At];e===null&&(e=n),jr(e)&&jp(e[le],e),t=e&&e[vn]}e=t}}function Em(n,e){let t=n[So],r=t.indexOf(e);t.splice(r,1)}function ju(n,e){if(No(e))return;let t=e[ht];t.destroyNode&&Bu(n,e,t,3,null,null),aP(e)}function jp(n,e){if(No(e))return;let t=ce(null);try{e[se]&=-129,e[se]|=256,e[sn]&&cp(e[sn]),lP(n,e),cP(n,e),e[le].type===1&&e[ht].destroy();let r=e[mi];if(r!==null&&ar(e[At])){r!==e[At]&&Em(r,e);let i=e[ir];i!==null&&i.detachView(n)}hg(e)}finally{ce(t)}}function cP(n,e){let t=n.cleanup,r=e[du];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[du]=null);let i=e[Lr];if(i!==null){e[Lr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[hu];if(o!==null){e[hu]=null;for(let s of o)s.destroy()}}function lP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof wi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ve(4,a,l);try{l.call(a)}finally{Ve(5,a,l)}}else{Ve(4,i,o);try{o.call(i)}finally{Ve(5,i,o)}}}}}function uP(n,e,t){return dP(n,e.parent,t)}function dP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[sr];if(Ro(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===On.None||i===On.Emulated)return null}return cr(r,t)}function hP(n,e,t){return pP(n,e,t)}function fP(n,e,t){return n.type&40?cr(n,t):null}var pP=fP,B0;function bm(n,e,t,r){let i=uP(n,r,e),o=e[ht],s=r.parent||e[En],a=hP(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)j0(o,i,t[l],a,!1);else j0(o,i,t,a,!1);B0!==void 0&&B0(o,r,e,t,i)}function ha(n,e){if(e!==null){let t=e.type;if(t&3)return cr(e,n);if(t&4)return mg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ha(n,r);{let i=n[e.index];return ar(i)?mg(-1,i):Rn(i)}}else{if(t&128)return ha(n,e.next);if(t&32)return wm(e,n)()||Rn(n[e.index]);{let r=VI(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=vi(n[_n]);return ha(i,r)}else return ha(n,e.next)}}}return null}function VI(n,e){if(e!==null){let r=n[_n][En],i=e.projection;return r.projection[i]}return null}function mg(n,e){let t=St+n+1;if(t<e.length){let r=e[t],i=r[le].firstChild;if(i!==null)return ha(r,i)}return e[yi]}function Im(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Fa(Rn(a),r),t.flags|=2),!kI(t))if(l&8)Im(n,e,t.child,r,i,o,!1),Eo(e,n,i,a,o);else if(l&32){let u=wm(t,r),h;for(;h=u();)Eo(e,n,i,h,o);Eo(e,n,i,a,o)}else l&16?gP(n,e,r,t,i,o):Eo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Bu(n,e,t,r,i,o){Im(t,r,n.firstChild,e,i,o,!1)}function gP(n,e,t,r,i,o){let s=t[_n],l=s[En].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];Eo(e,n,i,h,o)}else{let u=l,h=s[At];uI(r)&&(u.flags|=128),Im(n,e,u,h,i,o,!0)}}function mP(n,e,t,r,i){let o=t[yi],s=Rn(t);o!==s&&Eo(e,n,r,o,i);for(let a=St;a<t.length;a++){let l=t[a];Bu(l[le],l,n,e,r,o)}}function yP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Br.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Br.Important),n.setStyle(t,r,i,o))}}function bu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Rn(o)),ar(o)&&vP(o,r);let s=t.type;if(s&8)bu(n,e,t.child,r);else if(s&32){let a=wm(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=VI(e,t);if(Array.isArray(a))r.push(...a);else{let l=vi(e[_n]);bu(l[le],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function vP(n,e){for(let t=St;t<n.length;t++){let r=n[t],i=r[le].firstChild;i!==null&&bu(r[le],r,i,e)}n[yi]!==n[sr]&&e.push(n[yi])}function LI(n){if(n[Fp]!==null){for(let e of n[Fp])e.impl.addSequence(e);n[Fp].length=0}}var jI=[];function _P(n){return n[sn]??wP(n)}function wP(n){let e=jI.pop()??Object.create(bP);return e.lView=n,e}function EP(n){n.lView[sn]!==n&&(n.lView=null,jI.push(n))}var bP=ve(L({},ra),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ku(n.lView)},consumerOnSignalRead(){this.lView[sn]=this}});function IP(n){let e=n[sn]??Object.create(DP);return e.lView=n,e}var DP=ve(L({},ra),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=vi(n.lView);for(;e&&!BI(e[le]);)e=vi(e);e&&Nb(e)},consumerOnSignalRead(){this.lView[sn]=this}});function BI(n){return n.type!==2}function UI(n){if(n[hu]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[hu])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[se]&8192)}}var CP=100;function $I(n,e=!0,t=0){let i=n[rr].rendererFactory,o=!1;o||i.begin?.();try{TP(n,t)}catch(s){throw e&&eP(n,s),s}finally{o||i.end?.()}}function TP(n,e){let t=Vb();try{C0(!0),yg(n,e);let r=0;for(;Ou(n);){if(r===CP)throw new F(103,!1);r++,yg(n,1)}}finally{C0(t)}}function SP(n,e,t,r){if(No(e))return;let i=e[se],o=!1,s=!1;Jg(e);let a=!0,l=null,u=null;o||(BI(n)?(u=_P(e),l=_l(u)):np()===null?(a=!1,u=IP(e),l=_l(u)):e[sn]&&(cp(e[sn]),e[sn]=null));try{Rb(e),DN(n.bindingStartIndex),t!==null&&NI(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&tu(e,m,null)}else{let m=n.preOrderHooks;m!==null&&nu(e,m,0,null),Vp(e,0)}if(s||AP(e),UI(e),zI(e,0),n.contentQueries!==null&&wI(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&tu(e,m)}else{let m=n.contentHooks;m!==null&&nu(e,m,1),Vp(e,1)}xP(n,e);let p=n.components;p!==null&&qI(e,p,0);let g=n.viewQuery;if(g!==null&&pg(2,g,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&tu(e,m)}else{let m=n.viewHooks;m!==null&&nu(e,m,2),Vp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[kp]){for(let m of e[kp])m();e[kp]=null}o||(LI(e),e[se]&=-73)}catch(h){throw o||ku(e),h}finally{u!==null&&(sp(u,l),a&&EP(u)),em()}}function zI(n,e){for(let t=fI(n);t!==null;t=pI(t))for(let r=St;r<t.length;r++){let i=t[r];HI(i,e)}}function AP(n){for(let e=fI(n);e!==null;e=pI(e)){if(!(e[se]&2))continue;let t=e[So];for(let r=0;r<t.length;r++){let i=t[r];Nb(i)}}}function MP(n,e,t){Ve(18);let r=Nn(e,n);HI(r,t),Ve(19,r[dt])}function HI(n,e){Qg(n)&&yg(n,e)}function yg(n,e){let r=n[le],i=n[se],o=n[sn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ap(o)),s||=!1,o&&(o.dirty=!1),n[se]&=-9217,s)SP(r,n,r.template,n[dt]);else if(i&8192){UI(n),zI(n,1);let a=r.components;a!==null&&qI(n,a,1),LI(n)}}function qI(n,e,t){for(let r=0;r<e.length;r++)MP(n,e[r],t)}function xP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)_i(~i);else{let o=i,s=t[++r],a=t[++r];TN(s,o);let l=e[o];Ve(24,l),a(2,l),Ve(25,l)}}}finally{_i(-1)}}function Dm(n,e){let t=Vb()?64:1088;for(n[rr].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=vi(n);if(pu(n)&&!r)return n;n=r}return null}function GI(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function WI(n,e){let t=St+e;if(t<n.length)return n[t]}function Uu(n,e,t,r=!0){let i=e[le];if(RP(i,e,n,t),r){let s=mg(t,n),a=e[ht],l=a.parentNode(n[yi]);l!==null&&sP(i,n[En],a,e,l,s)}let o=e[ya];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function KI(n,e){let t=Ia(n,e);return t!==void 0&&ju(t[le],t),t}function Ia(n,e){if(n.length<=St)return;let t=St+e,r=n[t];if(r){let i=r[mi];i!==null&&i!==n&&Em(i,r),e>0&&(n[t-1][vn]=r[vn]);let o=lu(n,St+e);oP(r[le],r);let s=o[ir];s!==null&&s.detachView(o[le]),r[At]=null,r[vn]=null,r[se]&=-129}return r}function RP(n,e,t,r){let i=St+r,o=t.length;r>0&&(t[i-1][vn]=e),r<o-St?(e[vn]=t[i],gb(t,St+r,e)):(t.push(e),e[vn]=null),e[At]=t;let s=e[mi];s!==null&&t!==s&&QI(s,e);let a=e[ir];a!==null&&a.insertView(n),eg(e),e[se]|=128}function QI(n,e){let t=n[So],r=e[At];if(jr(r))n[se]|=2;else{let i=r[At][_n];e[_n]!==i&&(n[se]|=2)}t===null?n[So]=[e]:t.push(e)}var Da=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[le];return bu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[dt]}set context(e){this._lView[dt]=e}get destroyed(){return No(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(ar(e)){let t=e[fu],r=t?t.indexOf(this):-1;r>-1&&(Ia(e,r),lu(t,r))}this._attachedToViewContainer=!1}ju(this._lView[le],this._lView)}onDestroy(e){Pb(this._lView,e)}markForCheck(){Dm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){eg(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,$I(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pu(this._lView),t=this._lView[mi];t!==null&&!e&&Em(t,this._lView),FI(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let t=pu(this._lView),r=this._lView[mi];r!==null&&!t&&QI(r,this._lView),eg(this._lView)}};var Ca=(()=>{class n{static __NG_ELEMENT_ID__=OP}return n})(),NP=Ca,PP=class extends NP{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Lu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Da(i)}};function OP(){return Cm(cn(),Ae())}function Cm(n,e){return n.type&4?new PP(e,n,Oo(n,e)):null}function Tm(n,e,t,r,i){let o=n.data[e];if(o===null)o=kP(n,e,t,r,i),CN()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=EN();o.injectorIndex=s===null?-1:s.injectorIndex}return Pa(o,!0),o}function kP(n,e,t,r,i){let o=kb(),s=Fb(),a=s?o:o&&o.parent,l=n.data[e]=VP(n,a,t,e,r,i);return FP(n,l,o,s),l}function FP(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function VP(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return vN()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var uq=new RegExp(`^(\\d+)*(${g1}|${p1})*(.*)`);var LP=()=>null;function Ta(n,e){return LP(n,e)}var jP=class{},YI=class{},vg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ut(e)}.`)}},$u=class{static NULL=new vg},Ur=class{},zu=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>BP()}return n})();function BP(){let n=Ae(),e=cn(),t=Nn(e.index,n);return(jr(t)?t:n)[ht]}var UP=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();var Bp={},_g=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ru(r);let i=this.injector.get(e,Bp,r);return i!==Bp||t===Bp?i:this.parentInjector.get(e,t,r)}};function U0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=m0(i,a);else if(o==2){let l=a,u=e[++s];r=m0(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Q(n,e=de.Default){let t=Ae();if(t===null)return X(n,e);let r=cn();return Jb(r,t,kt(n),e)}function ZI(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,l=null,u=null,h=zP(s);h===null?a=s:[a,l,u]=h,GP(n,e,t,a,o,l,u)}o!==null&&r!==null&&$P(t,r,o)}function $P(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}function zP(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&xn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,HP(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function HP(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function qP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function GP(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let g=0;g<a;g++){let m=r[g];!l&&xn(m)&&(l=!0,qP(n,t,g)),ig(yu(t,e),n,m.type)}XP(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let u=!1,h=!1,p=xI(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=_a(t.mergedAttrs,m.hostAttrs),KP(n,t,e,p,m),ZP(p,m,i),s!==null&&s.has(m)){let[D,A]=s.get(m);t.directiveToIndex.set(m.type,[p,D+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let _=m.type.prototype;!u&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}WP(n,t,o)}function WP(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))$0(0,e,i,r),$0(1,e,i,r),H0(e,r,!1);else{let o=t.get(i);z0(0,e,o,r),z0(1,e,o,r),H0(e,r,!0)}}}function $0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),XI(e,o)}}function z0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),XI(e,s)}}function XI(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function H0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||hm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let h of u)if(h===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function KP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Io(i.type,!0)),s=new wi(o,xn(i),Q);n.blueprint[r]=s,t[r]=s,QP(n,e,r,xI(n,t,i.hostVars,kn),i)}function QP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;YP(s)!=a&&s.push(a),s.push(t,r,o)}}function YP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function ZP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;xn(e)&&(t[""]=n)}}function XP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function JI(n,e,t,r,i,o,s,a){let l=e.consts,u=Ao(l,s),h=Tm(e,n,2,r,u);return o&&ZI(e,t,h,Ao(l,a),i),h.mergedAttrs=_a(h.mergedAttrs,h.attrs),h.attrs!==null&&U0(h,h.attrs,!1),h.mergedAttrs!==null&&U0(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function eD(n,e){qb(n,e),Cb(e)&&n.queries.elementEnd(e)}var Iu=class extends $u{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Do(e);return new Sa(t,this.ngModule)}};function JP(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Vu.SignalBased)!==0};return i&&(o.transform=i),o})}function eO(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function tO(n,e,t){let r=e instanceof $t?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new _g(t,r):t}function nO(n){let e=n.get(Ur,null);if(e===null)throw new F(407,!1);let t=n.get(UP,null),r=n.get(Ea,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function rO(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return TI(e,t,t==="svg"?lN:t==="math"?uN:null)}var Sa=class extends YI{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=JP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=eO(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=k1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ve(22);let o=ce(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:F1(this.componentDef.selectors[0]),l=fm(0,null,null,1,0,null,null,null,null,[a],null),u=tO(s,i||this.ngModule,e),h=nO(u),p=h.rendererFactory.createRenderer(null,s),g=r?q1(p,r,s.encapsulation,u):rO(s,p),m=pm(null,l,null,512|MI(s),null,null,h,p,u,null,_I(g,u,!0));m[an]=g,Jg(m);let _=null;try{let D=JI(an,l,m,"#host",()=>[this.componentDef],!0,0);g&&(AI(p,g,D),Fa(g,m)),mm(l,m,D),EI(l,D,m),eD(l,D),t!==void 0&&iO(D,this.ngContentSelectors,t),_=Nn(D.index,m),m[dt]=_[dt],_m(l,m,null)}catch(D){throw _!==null&&hg(_),hg(m),D}finally{Ve(23),em()}return new wg(this.componentType,m)}finally{ce(o)}}},wg=class extends jP{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Kg(t[le],an),this.location=Oo(this._tNode,t),this.instance=Nn(this._tNode.index,t)[dt],this.hostView=this.changeDetectorRef=new Da(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=vm(r,i[le],i,e,t);this.previousInputValues.set(e,t);let s=Nn(r.index,i);Dm(s,1)}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function iO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ko=(()=>{class n{static __NG_ELEMENT_ID__=oO}return n})();function oO(){let n=cn();return nD(n,Ae())}var sO=ko,tD=class extends sO{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Oo(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){let e=im(this._hostTNode,this._hostLView);if(Wb(e)){let t=mu(e,this._hostLView),r=gu(e),i=t[le].data[r+8];return new pi(i,t)}else return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=q0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-St}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ta(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ba(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!oN(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?e:new Sa(Do(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let D=(s?u:this.parentInjector).get($t,null);D&&(o=D)}let h=Do(l.componentType??{}),p=Ta(this._lContainer,h?.id??null),g=p?.firstChild??null,m=l.create(u,i,g,o);return this.insertImpl(m.hostView,a,ba(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(dN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[At],u=new tD(l,l[En],l[At]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Uu(s,i,o,r),e.attachToViewContainerRef(),gb(Up(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=q0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ia(this._lContainer,t);r&&(lu(Up(this._lContainer),t),ju(r[le],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ia(this._lContainer,t);return r&&lu(Up(this._lContainer),t)!=null?new Da(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function q0(n){return n[fu]}function Up(n){return n[fu]||(n[fu]=[])}function nD(n,e){let t,r=e[n.index];return ar(r)?t=r:(t=GI(r,e,null,n),e[n.index]=t,gm(e,t)),cO(t,e,n,r),new tD(t,n,e)}function aO(n,e){let t=n[ht],r=t.createComment(""),i=cr(e,n),o=t.parentNode(i);return Eu(t,o,r,t.nextSibling(i),!1),r}var cO=dO,lO=()=>!1;function uO(n,e,t){return lO(n,e,t)}function dO(n,e,t,r){if(n[yi])return;let i;t.type&8?i=Rn(r):i=aO(e,t),n[yi]=i}var Eg=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},bg=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)oD(e,t).matches!==null&&this.queries[t].setDirty()}},Ig=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=vO(e):this.predicate=e}},Dg=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Cg=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,hO(t,o)),this.matchTNodeWithReadOption(e,t,ru(t,e,o,!1,!1))}else r===Ca?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ru(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Hr||i===ko||i===Ca&&t.type&4)this.addMatch(t.index,-2);else{let o=ru(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function hO(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function fO(n,e){return n.type&11?Oo(n,e):n.type&4?Cm(n,e):null}function pO(n,e,t,r){return t===-1?fO(e,n):t===-2?gO(n,e,r):wa(n,n[le],t,e)}function gO(n,e,t){if(t===Hr)return Oo(e,n);if(t===Ca)return Cm(e,n);if(t===ko)return nD(e,n)}function rD(n,e,t,r){let i=e[ir].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let h=o[u];a.push(pO(e,h,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function Tg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=rD(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],h=e[-l];for(let p=St;p<h.length;p++){let g=h[p];g[mi]===g[At]&&Tg(g[le],g,u,r)}if(h[So]!==null){let p=h[So];for(let g=0;g<p.length;g++){let m=p[g];Tg(m[le],m,u,r)}}}}}return r}function iD(n,e){return n[ir].queries[e].queryList}function mO(n,e,t){let r=new dg((t&4)===4);return pN(n,e,r,r.destroy),(e[ir]??=new bg).queries.push(new Eg(r))-1}function yO(n,e,t){let r=Ft();return r.firstCreatePass&&(_O(r,new Ig(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),mO(r,Ae(),e)}function vO(n){return n.split(",").map(e=>e.trim())}function _O(n,e,t){n.queries===null&&(n.queries=new Dg),n.queries.track(new Cg(e,t))}function oD(n,e){return n.queries.getByIndex(e)}function wO(n,e){let t=n[le],r=oD(t,e);return r.crossesNgTemplate?Tg(t,n,e,[]):rD(t,n,r,e)}function sD(n,e,t){let r,i=bl(()=>{r._dirtyCounter();let o=DO(r,n);if(e&&o===void 0)throw new F(-951,!1);return o});return r=i[Lt],r._dirtyCounter=Di(0),r._flatValue=void 0,i}function EO(n){return sD(!0,!1,n)}function bO(n){return sD(!0,!0,n)}function IO(n,e){let t=n[Lt];t._lView=Ae(),t._queryIndex=e,t._queryList=iD(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function DO(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[se]&4)return e?void 0:Yt;let i=iD(t,r),o=wO(t,r);return i.reset(o,o1),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}function G0(n,e){return EO(e)}function CO(n,e){return bO(e)}var aD=(G0.required=CO,G0);var Aa=class{},Sm=class{};var Sg=class extends Aa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Iu(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=vb(e);this._bootstrapComponents=DI(o.bootstrap),this._r3Injector=nI(e,t,[{provide:Aa,useValue:this},{provide:$u,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ag=class extends Sm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Sg(this.moduleType,e,[])}};var Du=class extends Aa{injector;componentFactoryResolver=new Iu(this);instance=null;constructor(e){super();let t=new ma([...e.providers,{provide:Aa,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],e.parent||Gg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Hu(n,e,t=null){return new Du({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var TO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=_b(!1,t.type),i=r.length>0?Hu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(X($t))})}return n})();function Se(n){return Mu(()=>{let e=cD(n),t=ve(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(TO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||On.Emulated,styles:n.styles||Yt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Ti("NgStandalone"),lD(t);let r=n.dependencies;return t.directiveDefs=W0(r,!1),t.pipeDefs=W0(r,!0),t.id=RO(t),t})}function SO(n){return Do(n)||GR(n)}function AO(n){return n!==null}function bn(n){return Mu(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function MO(n,e){if(n==null)return gi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Vu.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function xO(n){if(n==null)return gi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ur(n){return Mu(()=>{let e=cD(n);return lD(e),e})}function cD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||gi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MO(n.inputs,e),outputs:xO(n.outputs),debugInfo:null}}function lD(n){n.features?.forEach(e=>e(n))}function W0(n,e){if(!n)return null;let t=e?WR:SO;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(AO)}function RO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function NO(n){return Object.getPrototypeOf(n.prototype).constructor}function Fo(n){let e=NO(n.type),t=!0,r=[n];for(;e;){let i;if(xn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=$p(n.inputs),s.declaredInputs=$p(n.declaredInputs),s.outputs=$p(n.outputs);let a=i.hostBindings;a&&VO(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&kO(n,l),u&&FO(n,u),PO(n,i),IR(n.outputs,i.outputs),xn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Fo&&(t=!1)}}e=Object.getPrototypeOf(e)}OO(r)}function PO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function OO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_a(i.hostAttrs,t=_a(t,i.hostAttrs))}}function $p(n){return n===gi?{}:n===Yt?[]:n}function kO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function FO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function VO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function $r(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function LO(n,e,t,r){let i=$r(n,e,t);return $r(n,e+1,r)||i}function jO(n,e,t,r,i,o,s,a,l){let u=e.consts,h=Tm(e,n,4,s||null,a||null);Ob()&&ZI(e,t,h,Ao(u,l),OI),h.mergedAttrs=_a(h.mergedAttrs,h.attrs),qb(e,h);let p=h.tView=fm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Mg(n,e,t,r,i,o,s,a,l,u){let h=t+an,p=e.firstCreatePass?jO(h,e,n,r,i,o,s,a,l):e.data[h];Pa(p,!1);let g=BO(e,n,p,t);nm()&&bm(e,n,g,p),Fa(g,n);let m=GI(g,n,g,p);return n[h]=m,gm(n,m),uO(m,p,n),Wg(p)&&mm(e,n,p),l!=null&&PI(n,p,u),p}function $e(n,e,t,r,i,o,s,a){let l=Ae(),u=Ft(),h=Ao(u.consts,o);return Mg(l,u,n,e,t,r,i,h,s,a),$e}var BO=UO;function UO(n,e,t,r){return rm(!0),e[ht].createComment("")}var uD=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var dD=new G("");var $O=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new xg})}return n})(),xg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Vo(n){return!!n&&typeof n.then=="function"}function zO(n){return!!n&&typeof n.subscribe=="function"}var HO=new G("");var hD=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=V(HO,{optional:!0})??[];injector=V(or);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Zt(this.injector,i);if(Vo(o))t.push(o);else if(zO(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Am=new G("");function qO(){lp(()=>{throw new F(600,!1)})}function GO(n){return n.isBoundToModule}var WO=10;var Ei=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(n1);afterRenderManager=V(y1);zonelessEnabled=V(om);rootEffectScheduler=V($O);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new tt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=V(lr).hasPendingTasks.pipe(he(t=>!t));constructor(){V(Fu,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=V($t);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=or.NULL){Ve(10);let o=t instanceof YI;if(!this._injector.get(hD).done){let m="";throw new F(405,m)}let a;o?a=t:a=this._injector.get($u).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=GO(a)?void 0:this._injector.get(Aa),u=r||a.selector,h=a.create(i,[],u,l),p=h.location.nativeElement,g=h.injector.get(dD,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),iu(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),Ve(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(vI.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let t=ce(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ce(t),this.afterTick.next(),Ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ur,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<WO;)Ve(14),this.synchronizeOnce(),Ve(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)KO(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ou(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;iu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Am,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>iu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KO(n,e,t,r){if(!t&&!Ou(n))return;$I(n,e,t&&!r?0:1)}function fD(n,e,t,r){return $r(n,Oa(),t)?e+pa(t)+r:kn}function QO(n,e,t,r,i,o){let s=IN(),a=LO(n,s,t,i);return Lb(2),a?e+pa(t)+r+pa(i)+o:kn}function Jl(n,e){return n<<17|e<<2}function bi(n){return n>>17&32767}function YO(n){return(n&2)==2}function ZO(n,e){return n&131071|e<<17}function Rg(n){return n|2}function Mo(n){return(n&131068)>>2}function zp(n,e){return n&-131069|e<<2}function XO(n){return(n&1)===1}function Ng(n){return n|1}function JO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=bi(s),l=Mo(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ra(p,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let g=bi(n[a+1]);n[r+1]=Jl(g,a),g!==0&&(n[g+1]=zp(n[g+1],r)),n[a+1]=ZO(n[a+1],r)}else n[r+1]=Jl(a,0),a!==0&&(n[a+1]=zp(n[a+1],r)),a=r;else n[r+1]=Jl(l,0),a===0?a=r:n[l+1]=zp(n[l+1],r),l=r;u&&(n[r+1]=Rg(n[r+1])),K0(n,h,r,!0),K0(n,h,r,!1),ek(e,h,n,r,o),s=Jl(a,l),o?e.classBindings=s:e.styleBindings=s}function ek(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ra(o,e)>=0&&(t[r+1]=Ng(t[r+1]))}function K0(n,e,t,r){let i=n[t+1],o=e===null,s=r?bi(i):Mo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];tk(l,e)&&(a=!0,n[s+1]=r?Ng(u):Rg(u)),s=r?bi(u):Mo(u)}a&&(n[t+1]=r?Rg(i):Ng(i))}function tk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ra(n,e)>=0:!1}function Et(n,e,t){let r=Ae(),i=Oa();if($r(r,i,e)){let o=Ft(),s=tm();ym(o,s,r,n,e,r[ht],t,!1)}return Et}function Q0(n,e,t,r,i){vm(e,n,t,i?"class":"style",r)}function Mm(n,e){return nk(n,e,null,!0),Mm}function nk(n,e,t,r){let i=Ae(),o=Ft(),s=Lb(2);if(o.firstUpdatePass&&ik(o,n,s,r),e!==kn&&$r(i,s,e)){let a=o.data[zr()];lk(o,a,i,i[ht],n,i[s+1]=uk(e,t),r,s)}}function rk(n,e){return e>=n.expandoStartIndex}function ik(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[zr()],s=rk(n,t);dk(o,r)&&e===null&&!s&&(e=!1),e=ok(i,o,e,r),JO(i,o,e,t,s,r)}}function ok(n,e,t,r){let i=AN(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Hp(null,n,e,t,r),t=Ma(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Hp(i,n,e,t,r),o===null){let l=sk(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Hp(null,n,e,l[1],r),l=Ma(l,e.attrs,r),ak(n,e,r,l))}else o=ck(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function sk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Mo(r)!==0)return n[bi(r)]}function ak(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[bi(i)]=r}function ck(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ma(r,s,t)}return Ma(r,e.attrs,t)}function Hp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ma(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ma(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),HR(n,s,t?!0:e[++o]))}return n===void 0?null:n}function lk(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=XO(u)?Y0(l,e,t,i,Mo(u),s):void 0;if(!Cu(h)){Cu(o)||YO(u)&&(o=Y0(l,null,t,i,a,s));let p=xb(zr(),t);yP(r,s,p,i,o)}}function Y0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,g=t[i+1];g===kn&&(g=p?Yt:void 0);let m=p?Pp(g,r):h===r?g:void 0;if(u&&!Cu(m)&&(m=Pp(l,r)),Cu(m)&&(a=m,s))return a;let _=n[i+1];i=s?bi(_):Mo(_)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Pp(l,r))}return a}function Cu(n){return n!==void 0}function uk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ut(bI(n)))),n}function dk(n,e){return(n.flags&(e?8:16))!==0}var Pg=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function qp(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function hk(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let u=n.at(o),h=e[o],p=qp(o,u,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),m=e[l],_=qp(s,g,l,m,t);if(_!==0){_<0&&n.updateValue(s,m),s--,l--;continue}let D=t(o,u),A=t(s,g),k=t(o,h);if(Object.is(k,A)){let U=t(l,m);Object.is(U,D)?(n.swap(o,s),n.updateValue(s,m),l--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new Tu,i??=X0(n,o,s,t),Og(n,r,o,k))n.updateValue(o,h),o++,s++;else if(i.has(k))r.set(D,n.detach(o)),s--;else{let U=n.create(o,e[o]);n.attach(o,U),o++,s++}}for(;o<=l;)Z0(n,r,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let h=n.at(o),p=u.value,g=qp(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,u=l.next();else{r??=new Tu,i??=X0(n,o,s,t);let m=t(o,p);if(Og(n,r,o,m))n.updateValue(o,p),o++,s++,u=l.next();else if(!i.has(m))n.attach(o,n.create(o,p)),o++,s++,u=l.next();else{let _=t(o,h);r.set(_,n.detach(o)),s--}}}for(;!u.done;)Z0(n,r,t,n.length,u.value),u=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function Og(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Z0(n,e,t,r,i){if(Og(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function X0(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Tu=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Me(n,e){Ti("NgControlFlow");let t=Ae(),r=Oa(),i=t[r]!==kn?t[r]:-1,o=i!==-1?Su(t,an+i):void 0,s=0;if($r(t,r,n)){let a=ce(null);try{if(o!==void 0&&KI(o,s),n!==-1){let l=an+n,u=Su(t,l),h=Lg(t[le],l),p=Ta(u,h.tView.ssrId),g=Lu(t,h,e,{dehydratedView:p});Uu(u,g,s,ba(h,p))}}finally{ce(a)}}else if(o!==void 0){let a=WI(o,s);a!==void 0&&(a[dt]=e)}}var kg=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-St}};function Si(n){return n}var Fg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Ai(n,e,t,r,i,o,s,a,l,u,h,p,g){Ti("NgControlFlow");let m=Ae(),_=Ft(),D=l!==void 0,A=Ae(),k=a?s.bind(A[_n][dt]):s,U=new Fg(D,k);A[an+n]=U,Mg(m,_,n+1,e,t,r,i,Ao(_.consts,o)),D&&Mg(m,_,n+2,l,u,h,p,Ao(_.consts,g))}var Vg=class extends Pg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-St}at(e){return this.getLView(e)[dt].$implicit}attach(e,t){let r=t[ya];this.needsIndexUpdate||=e!==this.length,Uu(this.lContainer,t,e,ba(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,fk(this.lContainer,e)}create(e,t){let r=Ta(this.lContainer,this.templateTNode.tView.ssrId),i=Lu(this.hostLView,this.templateTNode,new kg(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ju(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[dt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[dt].$index=e}getLView(e){return pk(this.lContainer,e)}};function Mi(n){let e=ce(null),t=zr();try{let r=Ae(),i=r[le],o=r[t],s=t+1,a=Su(r,s);if(o.liveCollection===void 0){let u=Lg(i,s);o.liveCollection=new Vg(a,r,u)}else o.liveCollection.reset();let l=o.liveCollection;if(hk(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=Oa(),h=l.length===0;if($r(r,u,h)){let p=t+2,g=Su(r,p);if(h){let m=Lg(i,p),_=Ta(g,m.tView.ssrId),D=Lu(r,m,void 0,{dehydratedView:_});Uu(g,D,0,ba(m,_))}else KI(g,0)}}}finally{ce(e)}}function Su(n,e){return n[e]}function fk(n,e){return Ia(n,e)}function pk(n,e){return WI(n,e)}function Lg(n,e){return Kg(n,e)}function N(n,e,t,r){let i=Ae(),o=Ft(),s=an+n,a=i[ht],l=o.firstCreatePass?JI(s,o,i,e,OI,Ob(),t,r):o.data[s],u=gk(o,i,l,a,e,n);i[s]=u;let h=Wg(l);return Pa(l,!0),AI(a,u,l),!kI(l)&&nm()&&bm(o,i,u,l),(gN()===0||h)&&Fa(u,i),mN(),h&&(mm(o,i,l),EI(o,l,i)),r!==null&&PI(i,l),N}function x(){let n=cn();Fb()?bN():(n=n.parent,Pa(n,!1));let e=n;_N(e)&&wN(),yN();let t=Ft();return t.firstCreatePass&&eD(t,e),e.classesWithoutHost!=null&&kN(e)&&Q0(t,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FN(e)&&Q0(t,e,Ae(),e.stylesWithoutHost,!1),x}function re(n,e,t,r){return N(n,e,t,r),x(),re}var gk=(n,e,t,r,i,o)=>(rm(!0),TI(r,i,NN()));function gt(){return Ae()}var Au="en-US";var mk=Au;function yk(n){typeof n=="string"&&(mk=n.toLowerCase().replace(/_/g,"-"))}function J0(n,e,t){return function r(i){if(i===Function)return t;let o=Ro(n)?Nn(n.index,e):e;Dm(o,5);let s=e[dt],a=eb(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=eb(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function eb(n,e,t,r){let i=ce(null);try{return Ve(6,e,t),t(r)!==!1}catch(o){return vk(n,o),!1}finally{Ve(7,e,t),ce(i)}}function vk(n,e){let t=n[To],r=t?t.get(Pn,null):null;r&&r.handleError(e)}function tb(n,e,t,r,i,o){let s=e[t],a=e[le],u=a.data[t].outputs[r],h=s[u],p=a.firstCreatePass?Zg(a):null,g=Yg(e),m=h.subscribe(o),_=g.length;g.push(o,m),p&&p.push(i,n.index,_,-(_+1))}function Re(n,e,t,r){let i=Ae(),o=Ft(),s=cn();return pD(o,i,i[ht],s,n,e,r),Re}function _k(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[du],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function pD(n,e,t,r,i,o,s){let a=Wg(r),u=n.firstCreatePass?Zg(n):null,h=Yg(e),p=!0;if(r.type&3||s){let g=cr(r,e),m=s?s(g):g,_=h.length,D=s?k=>s(Rn(k[r.index])):r.index,A=null;if(!s&&a&&(A=_k(n,e,i,r.index)),A!==null){let k=A.__ngLastListenerFn__||A;k.__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,p=!1}else{o=J0(r,e,o),_1(e,m,i,o);let k=t.listen(m,i,o);h.push(o,k),u&&u.push(i,D,_,_+1)}}else o=J0(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let _=0;_<m.length;_+=2){let D=m[_],A=m[_+1];tb(r,e,D,A,i,o)}if(g&&g.length)for(let _ of g)tb(r,e,_,i,i,o)}}function _e(n=1){return RN(n)}function xm(n,e,t){return gD(n,"",e,"",t),xm}function gD(n,e,t,r,i){let o=Ae(),s=fD(o,e,t,r);if(s!==kn){let a=Ft(),l=tm();ym(a,l,o,n,s,o[ht],i,!1)}return gD}function mD(n,e,t,r){IO(n,yO(e,t,r))}function yD(n=1){Xg(MN()+n)}function $(n,e=""){let t=Ae(),r=Ft(),i=n+an,o=r.firstCreatePass?Tm(r,i,1,e,null):r.data[i],s=wk(r,t,o,e,n);t[i]=s,nm()&&bm(r,t,s,o),Pa(o,!1)}var wk=(n,e,t,r,i)=>(rm(!0),V1(e[ht],r));function Rm(n){return Pe("",n,""),Rm}function Pe(n,e,t){let r=Ae(),i=fD(r,n,e,t);return i!==kn&&vD(r,zr(),i),Pe}function Nm(n,e,t,r,i){let o=Ae(),s=QO(o,n,e,t,r,i);return s!==kn&&vD(o,zr(),s),Nm}function vD(n,e,t){let r=xb(e,n);L1(n[ht],r,t)}function Va(n,e,t){lI(e)&&(e=e());let r=Ae(),i=Oa();if($r(r,i,e)){let o=Ft(),s=tm();ym(o,s,r,n,e,r[ht],t,!1)}return Va}function qu(n,e){let t=lI(n);return t&&n.set(e),t}function La(n,e){let t=Ae(),r=Ft(),i=cn();return pD(r,t,t[ht],i,n,e),La}function Ek(n,e,t){let r=Ft();if(r.firstCreatePass){let i=xn(n);jg(t,r.data,r.blueprint,i,!0),jg(e,r.data,r.blueprint,i,!1)}}function jg(n,e,t,r,i){if(n=kt(n),Array.isArray(n))for(let o=0;o<n.length;o++)jg(n[o],e,t,r,i);else{let o=Ft(),s=Ae(),a=cn(),l=Co(n)?n:kt(n.provide),u=bb(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Co(n)||!n.multi){let m=new wi(u,i,Q),_=Wp(l,e,i?h:h+g,p);_===-1?(ig(yu(a,s),o,l),Gp(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[_]=m,s[_]=m)}else{let m=Wp(l,e,h+g,p),_=Wp(l,e,h,h+g),D=m>=0&&t[m],A=_>=0&&t[_];if(i&&!A||!i&&!D){ig(yu(a,s),o,l);let k=Dk(i?Ik:bk,t.length,i,r,u);!i&&A&&(t[_].providerFactory=k),Gp(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=_D(t[i?_:m],u,!i&&r);Gp(o,n,m>-1?m:_,k)}!i&&r&&A&&t[_].componentProviders++}}}function Gp(n,e,t,r){let i=Co(e),o=XR(e);if(i||o){let l=(o?kt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function _D(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Wp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function bk(n,e,t,r,i){return Bg(this.multi,[])}function Ik(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=wa(r,r[le],this.providerFactory.index,i);s=l.slice(0,a),Bg(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],Bg(o,s);return s}function Bg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Dk(n,e,t,r,i){let o=new wi(n,t,Q);return o.multi=[],o.index=e,o.componentProviders=0,_D(o,i,r&&!t),o}function Pm(n,e=[]){return t=>{t.providersResolver=(r,i)=>Ek(r,i?i(n):n,e)}}var Ug=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},wD=(()=>{class n{compileModuleSync(t){return new Ag(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=vb(t),o=DI(i.declarations).reduce((s,a)=>{let l=Do(a);return l&&s.push(new Sa(l)),s},[]);return new Ug(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ck=(()=>{class n{zone=V(Ge);changeDetectionScheduler=V(Ea);applicationRef=V(Ei);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tk=new G("",{factory:()=>!1});function ED({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ge(ve(L({},ID()),{scheduleInRootZone:t})),[{provide:Ge,useFactory:n},{provide:ga,multi:!0,useFactory:()=>{let r=V(Ck,{optional:!0});return()=>r.initialize()}},{provide:ga,multi:!0,useFactory:()=>{let r=V(Sk);return()=>{r.initialize()}}},e===!0?{provide:iI,useValue:!0}:[],{provide:oI,useValue:t??rI}]}function bD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=ED({ngZoneFactory:()=>{let i=ID(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ti("NgZone_CoalesceEvent"),new Ge(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Na([{provide:Tk,useValue:!0},{provide:om,useValue:!1},r])}function ID(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Sk=(()=>{class n{subscription=new Ye;initialized=!1;zone=V(Ge);pendingTasks=V(lr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ak=(()=>{class n{appRef=V(Ei);taskService=V(lr);ngZone=V(Ge);zonelessEnabled=V(om);tracing=V(Fu,{optional:!0});disableScheduling=V(iI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ye;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_u):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(oI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?N0:sI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_u+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,N0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mk(){return typeof $localize<"u"&&$localize.locale||Au}var DD=new G("",{providedIn:"root",factory:()=>V(DD,de.Optional|de.SkipSelf)||Mk()});var $g=new G(""),xk=new G("");function ua(n){return!n.moduleRef}function Rk(n){let e=ua(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ge);return t.run(()=>{ua(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Pn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),ua(n)){let o=()=>e.destroy(),s=n.platformInjector.get($g);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get($g);s.add(o),n.moduleRef.onDestroy(()=>{iu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Pk(r,t,()=>{let o=e.get(hD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(DD,Au);if(yk(s||Au),!e.get(xk,!0))return ua(n)?e.get(Ei):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ua(n)){let l=e.get(Ei);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return Nk(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Nk(n,e){let t=n.injector.get(Ei);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new F(-403,!1);e.push(n)}function Pk(n,e,t){try{let r=t();return Vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ou=null;function Ok(n=[],e){return or.create({name:e,providers:[{provide:Nu,useValue:"platform"},{provide:$g,useValue:new Set([()=>ou=null])},...n]})}function kk(n=[]){if(ou)return ou;let e=Ok(n);return ou=e,qO(),Fk(e),e}function Fk(n){let e=n.get(lm,null);Zt(n,()=>{e?.forEach(t=>t())})}var xi=(()=>{class n{static __NG_ELEMENT_ID__=Vk}return n})();function Vk(n){return Lk(cn(),Ae(),(n&16)===16)}function Lk(n,e,t){if(Ro(n)&&!t){let r=Nn(n.index,e);return new Da(r,r)}else if(n.type&175){let r=e[_n];return new Da(r,e)}return null}function CD(n){Ve(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=kk(r),o=[ED({}),{provide:Ea,useExisting:Ak},...t||[]],s=new Du({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Rk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ve(9)}}function Om(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ri(n){return hp(n)}function Gu(n,e){return bl(n,e?.equal)}var nb=class{[Lt];constructor(e){this[Lt]=e}destroy(){this[Lt].destroy()}};var st=new G("");var AD=null;function un(){return AD}function km(n){AD??=n}var ja=class{},Fm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(MD),providedIn:"platform"})}return n})();var MD=(()=>{class n extends Fm{_location;_history;_doc=V(st);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return un().getBaseHref(this._doc)}onPopState(t){let r=un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function xD(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function TD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function qr(n){return n&&n[0]!=="?"?`?${n}`:n}var Wu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(ND),providedIn:"root"})}return n})(),RD=new G(""),ND=(()=>{class n extends Wu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(st).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xD(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+qr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+qr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+qr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(Fm),X(RD,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lo=(()=>{class n{_subject=new tt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Uk(TD(SD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qr(r))}normalize(t){return n.stripTrailingSlash(Bk(this._basePath,SD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qr;static joinWithSlash=xD;static stripTrailingSlash=TD;static \u0275fac=function(r){return new(r||n)(X(Wu))};static \u0275prov=W({token:n,factory:()=>jk(),providedIn:"root"})}return n})();function jk(){return new Lo(X(Wu))}function Bk(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function SD(n){return n.replace(/\/index.html$/,"")}function Uk(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var dn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=bn({type:n});static \u0275inj=wn({})}return n})();function Ba(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ku="browser",PD="server";function Vm(n){return n===Ku}function Qu(n){return n===PD}var Ni=class{};var Xu=new G(""),Um=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(X(Xu),X(Ge))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Ua=class{_doc;constructor(e){this._doc=e}manager},Yu="ng-app-id";function OD(n){for(let e of n)e.remove()}function kD(n,e){let t=e.createElement("style");return t.textContent=n,t}function zk(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Yu}="${e}"],link[${Yu}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Yu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function jm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var $m=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Qu(o),zk(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,kD);r?.forEach(i=>this.addUsage(i,this.external,jm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(OD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])OD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,kD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,jm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Yu,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(X(st),X(cm),X(dm,8),X(Ci))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Lm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zm=/%COMP%/g;var VD="%COMP%",Hk=`_nghost-${VD}`,qk=`_ngcontent-${VD}`,Gk=!0,Wk=new G("",{providedIn:"root",factory:()=>Gk});function Kk(n){return qk.replace(zm,n)}function Qk(n){return Hk.replace(zm,n)}function LD(n,e){return e.map(t=>t.replace(zm,n))}var Ha=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,u=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=h,this.platformIsServer=Qu(a),this.defaultRenderer=new $a(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===On.ShadowDom&&(r=ve(L({},r),{encapsulation:On.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Zu?i.applyToHost(t):i instanceof za&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case On.Emulated:o=new Zu(l,u,r,this.appId,h,s,a,p,g);break;case On.ShadowDom:return new Bm(l,u,t,r,s,a,this.nonce,p,g);default:o=new za(l,u,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(X(Um),X($m),X(cm),X(Wk),X(st),X(Ci),X(Ge),X(dm),X(Fu,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),$a=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Lm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(FD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(FD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Lm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Lm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Br.DashCase|Br.Important)?e.style.setProperty(t,r,i&Br.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Br.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=un().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function FD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Bm=class extends $a{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=LD(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=jm(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},za=class extends $a{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?LD(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zu=class extends za{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,u){let h=i+"-"+r.id;super(e,t,r,o,s,a,l,u,h),this.contentAttr=Kk(h),this.hostAttr=Qk(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ju=class n extends ja{supportsDOMEvents=!0;static makeCurrent(){km(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Yk();return t==null?null:Zk(t)}resetBaseElement(){qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ba(document.cookie,e)}},qa=null;function Yk(){return qa=qa||document.head.querySelector("base"),qa?qa.getAttribute("href"):null}function Zk(n){return new URL(n,document.baseURI).pathname}var Xk=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),BD=(()=>{class n extends Ua{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(X(st))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),jD=["alt","control","meta","shift"],Jk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},UD=(()=>{class n extends Ua{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>un().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),jD.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=Jk[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jD.forEach(s=>{if(s!==i){let a=eF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(X(st))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function Hm(n,e){return CD(L({rootComponent:n},tF(e)))}function tF(n){return{appProviders:[...sF,...n?.providers??[]],platformProviders:oF}}function nF(){Ju.makeCurrent()}function rF(){return new Pn}function iF(){return mI(document),document}var oF=[{provide:Ci,useValue:Ku},{provide:lm,useValue:nF,multi:!0},{provide:st,useFactory:iF}];var sF=[{provide:Nu,useValue:"root"},{provide:Pn,useFactory:rF},{provide:Xu,useClass:BD,multi:!0,deps:[st]},{provide:Xu,useClass:UD,multi:!0,deps:[st]},Ha,$m,Um,{provide:Ur,useExisting:Ha},{provide:Ni,useClass:Xk},[]];var Bo=class{},Ga=class{},Gr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var td=class{encodeKey(e){return $D(e)}encodeValue(e){return $D(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function aF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var cF=/%(\d[a-f0-9])/gi,lF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $D(n){return encodeURIComponent(n).replace(cF,(e,t)=>lF[t]??e)}function ed(n){return`${n}`}var dr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new td,e.fromString){if(e.fromObject)throw new F(2805,!1);this.map=aF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(ed):[ed(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ed(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ed(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var nd=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function uF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function HD(n){return typeof Blob<"u"&&n instanceof Blob}function qD(n){return typeof FormData<"u"&&n instanceof FormData}function dF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var GD="Content-Type",WD="Accept",QD="X-Request-URL",YD="text/plain",ZD="application/json",hF=`${ZD}, ${YD}, */*`,jo=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(uF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Gr,this.context??=new nd,!this.params)this.params=new dr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zD(this.body)||HD(this.body)||qD(this.body)||dF(this.body)?this.body:this.body instanceof dr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||qD(this.body)?null:HD(this.body)?this.body.type||null:zD(this.body)?null:typeof this.body=="string"?YD:this.body instanceof dr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?ZD:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:u,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Pi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Pi||{}),Uo=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Gr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},rd=class n extends Uo{constructor(e={}){super(e)}type=Pi.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wa=class n extends Uo{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Pi.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ka=class extends Uo{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fF=200,pF=204;function qm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var $o=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof jo)o=t;else{let l;i.headers instanceof Gr?l=i.headers:l=new Gr(i.headers);let u;i.params&&(i.params instanceof dr?u=i.params:u=new dr({fromObject:i.params})),o=new jo(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ne(o).pipe(kr(l=>this.handler.handle(l)));if(t instanceof jo||i.observe==="events")return s;let a=s.pipe(Qt(l=>l instanceof Wa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new F(2806,!1);return l.body}));case"blob":return a.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new F(2807,!1);return l.body}));case"text":return a.pipe(he(l=>{if(l.body!==null&&typeof l.body!="string")throw new F(2808,!1);return l.body}));case"json":default:return a.pipe(he(l=>l.body))}case"response":return a;default:throw new F(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new dr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,qm(i,r))}post(t,r,i={}){return this.request("POST",t,qm(i,r))}put(t,r,i={}){return this.request("PUT",t,qm(i,r))}static \u0275fac=function(r){return new(r||n)(X(Bo))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();var gF=new G("");function XD(n,e){return e(n)}function mF(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function yF(n,e,t){return(r,i)=>Zt(t,()=>e(r,o=>n(o,i)))}var JD=new G(""),Wm=new G(""),eC=new G(""),Km=new G("",{providedIn:"root",factory:()=>!0});function vF(){let n=null;return(e,t)=>{n===null&&(n=(V(JD,{optional:!0})??[]).reduceRight(mF,XD));let r=V(lr);if(V(Km)){let o=r.add();return n(e,t).pipe(Vr(()=>r.remove(o)))}else return n(e,t)}}var id=(()=>{class n extends Bo{backend;injector;chain=null;pendingTasks=V(lr);contributeToStability=V(Km);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Wm),...this.injector.get(eC,[])]));this.chain=r.reduceRight((i,o)=>yF(i,o,this.injector),XD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Vr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(X(Ga),X($t))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();var _F=/^\)\]\}',?\n/,wF=RegExp(`^${QD}:`,"m");function EF(n){return"responseURL"in n&&n.responseURL?n.responseURL:wF.test(n.getAllResponseHeaders())?n.getResponseHeader(QD):null}var Gm=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new F(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ze(r.\u0275loadImpl()):ne(null)).pipe(Tt(()=>new Ce(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,A)=>s.setRequestHeader(D,A.join(","))),t.headers.has(WD)||s.setRequestHeader(WD,hF),!t.headers.has(GD)){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader(GD,D)}if(t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),l=null,u=()=>{if(l!==null)return l;let D=s.statusText||"OK",A=new Gr(s.getAllResponseHeaders()),k=EF(s)||t.url;return l=new rd({headers:A,status:s.status,statusText:D,url:k}),l},h=()=>{let{headers:D,status:A,statusText:k,url:U}=u(),B=null;A!==pF&&(B=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=B?fF:0);let te=A>=200&&A<300;if(t.responseType==="json"&&typeof B=="string"){let Je=B;B=B.replace(_F,"");try{B=B!==""?JSON.parse(B):null}catch(ge){B=Je,te&&(te=!1,B={error:ge,text:B})}}te?(o.next(new Wa({body:B,headers:D,status:A,statusText:k,url:U||void 0})),o.complete()):o.error(new Ka({error:B,headers:D,status:A,statusText:k,url:U||void 0}))},p=D=>{let{url:A}=u(),k=new Ka({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(k)},g=!1,m=D=>{g||(o.next(u()),g=!0);let A={type:Pi.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},_=D=>{let A={type:Pi.UploadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),o.next(A)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Pi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(X(Ni))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),tC=new G(""),bF="XSRF-TOKEN",IF=new G("",{providedIn:"root",factory:()=>bF}),DF="X-XSRF-TOKEN",CF=new G("",{providedIn:"root",factory:()=>DF}),Qa=class{},TF=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ba(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(X(st),X(IF))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function SF(n,e){let t=n.url.toLowerCase();if(!V(tC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=V(Qa).getToken(),i=V(CF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Qm=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Qm||{});function AF(n,e){return{\u0275kind:n,\u0275providers:e}}function Ym(...n){let e=[$o,Gm,id,{provide:Bo,useExisting:id},{provide:Ga,useFactory:()=>V(gF,{optional:!0})??V(Gm)},{provide:Wm,useValue:SF,multi:!0},{provide:tC,useValue:!0},{provide:Qa,useClass:TF}];for(let t of n)e.push(...t.\u0275providers);return Na(e)}var KD=new G("");function Zm(){return AF(Qm.LegacyInterceptors,[{provide:KD,useFactory:vF},{provide:Wm,useExisting:KD,multi:!0}])}var rC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(X(st))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ue="primary",lc=Symbol("RouteTitle"),ny=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Fi(n){return new ny(n)}function dC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function xF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fn(n[t],e[t]))return!1;return!0}function Fn(n,e){let t=n?ry(n):void 0,r=e?ry(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!hC(n[i],e[i]))return!1;return!0}function ry(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function fC(n){return n.length>0?n[n.length-1]:null}function Qr(n){return Sp(n)?n:Vo(n)?ze(Promise.resolve(n)):ne(n)}var RF={exact:gC,subset:mC},pC={exact:NF,subset:PF,ignored:()=>!0};function iC(n,e,t){return RF[t.paths](n.root,e.root,t.matrixParams)&&pC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function NF(n,e){return Fn(n,e)}function gC(n,e,t){if(!Oi(n.segments,e.segments)||!ad(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!gC(n.children[r],e.children[r],t))return!1;return!0}function PF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hC(n[t],e[t]))}function mC(n,e,t){return yC(n,e,e.segments,t)}function yC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Oi(i,t)||e.hasChildren()||!ad(i,t,r))}else if(n.segments.length===t.length){if(!Oi(n.segments,t)||!ad(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!mC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Oi(n.segments,i)||!ad(n.segments,i,r)||!n.children[ue]?!1:yC(n.children[ue],e,o,r)}}function ad(n,e,t){return e.every((r,i)=>pC[t](n[i].parameters,r.parameters))}var Ln=class{root;queryParams;fragment;_queryParamMap;constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fi(this.queryParams),this._queryParamMap}toString(){return FF.serialize(this)}},xe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cd(this)}},Wr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Fi(this.parameters),this._parameterMap}toString(){return _C(this)}};function OF(n,e){return Oi(n,e)&&n.every((t,r)=>Fn(t.parameters,e[r].parameters))}function Oi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function kF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var uc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new Vi,providedIn:"root"})}return n})(),Vi=class{parse(e){let t=new oy(e);return new Ln(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ya(e.root,!0)}`,r=jF(e.queryParams),i=typeof e.fragment=="string"?`#${VF(e.fragment)}`:"";return`${t}${r}${i}`}},FF=new Vi;function cd(n){return n.segments.map(e=>_C(e)).join("/")}function Ya(n,e){if(!n.hasChildren())return cd(n);if(e){let t=n.children[ue]?Ya(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${Ya(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=kF(n,(r,i)=>i===ue?[Ya(n.children[ue],!1)]:[`${i}:${Ya(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${cd(n)}/${t[0]}`:`${cd(n)}/(${t.join("//")})`}}function vC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function od(n){return vC(n).replace(/%3B/gi,";")}function VF(n){return encodeURI(n)}function iy(n){return vC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ld(n){return decodeURIComponent(n)}function oC(n){return ld(n.replace(/\+/g,"%20"))}function _C(n){return`${iy(n.path)}${LF(n.parameters)}`}function LF(n){return Object.entries(n).map(([e,t])=>`;${iy(e)}=${iy(t)}`).join("")}function jF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${od(t)}=${od(i)}`).join("&"):`${od(t)}=${od(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var BF=/^[^\/()?;#]+/;function Xm(n){let e=n.match(BF);return e?e[0]:""}var UF=/^[^\/()?;=#]+/;function $F(n){let e=n.match(UF);return e?e[0]:""}var zF=/^[^=?&#]+/;function HF(n){let e=n.match(zF);return e?e[0]:""}var qF=/^[^&#]+/;function GF(n){let e=n.match(qF);return e?e[0]:""}var oy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new xe(e,t)),r}parseSegment(){let e=Xm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Wr(ld(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=$F(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Xm(this.remaining);i&&(r=i,this.capture(r))}e[ld(t)]=ld(r)}parseQueryParam(e){let t=HF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=GF(this.remaining);s&&(r=s,this.capture(r))}let i=oC(t),o=oC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ue]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function wC(n){return n.segments.length>0?new xe([],{[ue]:n}):n}function EC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=EC(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new xe(n.segments,e);return WF(t)}function WF(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new xe(n.segments.concat(e.segments),e.children)}return n}function Wo(n){return n instanceof Ln}function bC(n,e,t=null,r=null){let i=IC(n);return DC(i,e,t,r)}function IC(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new xe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=wC(r);return e??i}function DC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Jm(i,i,i,t,r);let o=KF(e);if(o.toRoot())return Jm(i,i,new xe([],{}),t,r);let s=QF(o,i,n),a=s.processChildren?Xa(s.segmentGroup,s.index,o.commands):TC(s.segmentGroup,s.index,o.commands);return Jm(i,s.segmentGroup,a,t,r)}function dd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ec(n){return typeof n=="object"&&n!=null&&n.outlets}function Jm(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=CC(n,e,t);let a=wC(EC(s));return new Ln(a,o,i)}function CC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=CC(o,e,t)}),new xe(n.segments,r)}var hd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dd(r[0]))throw new F(4003,!1);let i=r.find(ec);if(i&&i!==fC(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function KF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new hd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hd(t,e,r)}var qo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function QF(n,e,t){if(n.isAbsolute)return new qo(e,!0,0);if(!t)return new qo(e,!1,NaN);if(t.parent===null)return new qo(t,!0,0);let r=dd(n.commands[0])?0:1,i=t.segments.length-1+r;return YF(t,i,n.numberOfDoubleDots)}function YF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new qo(r,!1,i-o)}function ZF(n){return ec(n[0])?n[0].outlets:{[ue]:n}}function TC(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return Xa(n,e,t);let r=XF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new xe(n.segments.slice(r.pathIndex),n.children),Xa(o,0,i)}else return r.match&&i.length===0?new xe(n.segments,{}):r.match&&!n.hasChildren()?sy(n,e,t):r.match?Xa(n,0,i):sy(n,e,t)}function Xa(n,e,t){if(t.length===0)return new xe(n.segments,{});{let r=ZF(t),i={};if(Object.keys(r).some(o=>o!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let o=Xa(n.children[ue],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(n.segments,i)}}function XF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(ec(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!aC(l,u,s))return o;r+=2}else{if(!aC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ec(o)){let l=JF(o.outlets);return new xe(r,l)}if(i===0&&dd(t[0])){let l=n.segments[e];r.push(new Wr(l.path,sC(t[0]))),i++;continue}let s=ec(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&dd(a)?(r.push(new Wr(s,sC(a))),i+=2):(r.push(new Wr(s,{})),i++)}return new xe(r,{})}function JF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=sy(new xe([],{}),0,r))}),e}function sC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function aC(n,e,t){return n==t.path&&Fn(e,t.parameters)}var ud="imperative",mt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(mt||{}),Jt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Li=class extends Jt{type=mt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hr=class extends Jt{urlAfterRedirects;type=mt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(zt||{}),tc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(tc||{}),Vn=class extends Jt{reason;code;type=mt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fr=class extends Jt{reason;code;type=mt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ko=class extends Jt{error;target;type=mt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nc=class extends Jt{urlAfterRedirects;state;type=mt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fd=class extends Jt{urlAfterRedirects;state;type=mt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pd=class extends Jt{urlAfterRedirects;state;shouldActivate;type=mt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gd=class extends Jt{urlAfterRedirects;state;type=mt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},md=class extends Jt{urlAfterRedirects;state;type=mt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yd=class{route;type=mt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vd=class{route;type=mt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_d=class{snapshot;type=mt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wd=class{snapshot;type=mt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ed=class{snapshot;type=mt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bd=class{snapshot;type=mt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var rc=class{},Qo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function eV(n,e){return n.providers&&!n._injector&&(n._injector=Hu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function In(n){return n.outlet||ue}function tV(n,e){let t=n.filter(r=>In(r)===e);return t.push(...n.filter(r=>In(r)!==e)),t}function dc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Id=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return dc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Xo(this.rootInjector)}},Xo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Id(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(X($t))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ay(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ay(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=cy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cy(e,this._root).map(t=>t.value)}};function ay(n,e){if(n===e.value)return e;for(let t of e.children){let r=ay(n,t);if(r)return r}return null}function cy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=cy(n,t);if(r.length)return r.unshift(e),r}return[]}var Xt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ho(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ic=class extends Dd{snapshot;constructor(e,t){super(e),this.snapshot=t,my(this,e)}toString(){return this.snapshot.toString()}};function SC(n){let e=nV(n),t=new nt([new Wr("",{})]),r=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),a=new Kr(t,r,o,s,i,ue,n,e.root);return a.snapshot=e.root,new ic(new Xt(a,[]),e)}function nV(n){let e={},t={},r={},i="",o=new ki([],e,r,i,t,ue,n,null,{});return new oc("",new Xt(o,[]))}var Kr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(he(u=>u[lc]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>Fi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>Fi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&MC(i)&&(r.resolve[lc]=i.title),r}var ki=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lc]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},oc=class extends Dd{url;constructor(e,t){super(t),this.url=e,my(this,t)}toString(){return AC(this._root)}};function my(n,e){e.value._routerState=n,e.children.forEach(t=>my(n,t))}function AC(n){let e=n.children.length>0?` { ${n.children.map(AC).join(", ")} } `:"";return`${n.value}${e}`}function ey(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Fn(e.params,t.params)||n.paramsSubject.next(t.params),xF(e.url,t.url)||n.urlSubject.next(t.url),Fn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ly(n,e){let t=Fn(n.params,e.params)&&OF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ly(n.parent,e.parent))}function MC(n){return typeof n.title=="string"||n.title===null}var xC=new G(""),hc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new pt;deactivateEvents=new pt;attachEvents=new pt;detachEvents=new pt;routerOutletData=Le(void 0);parentContexts=V(Xo);location=V(ko);changeDetector=V(xi);inputBinder=V(Md,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new uy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ur({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ii]})}return n})(),uy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Kr?this.route:e===Xo?this.childContexts:e===xC?this.outletData:this.parent.get(e,t)}},Md=new G("");var yy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Se({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[hc],encapsulation:2})}return n})();function vy(n){let e=n.children&&n.children.map(vy),t=e?ve(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=yy),t}function rV(n,e,t){let r=sc(n,e._root,t?t._root:void 0);return new ic(r,e)}function sc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=iV(n,e,t);return new Xt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>sc(n,a)),s}}let r=oV(e.value),i=e.children.map(o=>sc(n,o));return new Xt(r,i)}}function iV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sc(n,r,i);return sc(n,r)})}function oV(n){return new Kr(new nt(n.url),new nt(n.params),new nt(n.queryParams),new nt(n.fragment),new nt(n.data),n.outlet,n.component,n)}var Yo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},RC="ngNavigationCancelingError";function Td(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Wo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NC(!1,zt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function NC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[RC]=!0,t.cancellationCode=e,t}function sV(n){return PC(n)&&Wo(n.url)}function PC(n){return!!n&&n[RC]}var aV=(n,e,t,r)=>he(i=>(new dy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),dy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ey(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ho(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ho(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ey(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ey(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Sd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Go=class{component;route;constructor(e,t){this.component=e,this.route=t}};function cV(n,e,t){let r=n._root,i=e?e._root:null;return Za(r,i,t,[r.value])}function lV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Jo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!cb(n)?n:e.get(n):r}function Za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ho(e);return n.children.forEach(s=>{uV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ja(a,t.getContext(s),i)),i}function uV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=dV(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Sd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Za(n,e,a?a.children:null,r,i):Za(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Go(a.outlet.component,s))}else s&&Ja(e,a,i),i.canActivateChecks.push(new Sd(r)),o.component?Za(n,null,a?a.children:null,r,i):Za(n,null,t,r,i);return i}function dV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Oi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oi(n.url,e.url)||!Fn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ly(n,e)||!Fn(n.queryParams,e.queryParams);case"paramsChange":default:return!ly(n,e)}}function Ja(n,e,t){let r=Ho(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ja(s,e.children.getContext(o),t):Ja(s,null,t):Ja(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Go(e.outlet.component,i)):t.canDeactivateChecks.push(new Go(null,i)):t.canDeactivateChecks.push(new Go(null,i))}function fc(n){return typeof n=="function"}function hV(n){return typeof n=="boolean"}function fV(n){return n&&fc(n.canLoad)}function pV(n){return n&&fc(n.canActivate)}function gV(n){return n&&fc(n.canActivateChild)}function mV(n){return n&&fc(n.canDeactivate)}function yV(n){return n&&fc(n.canMatch)}function OC(n){return n instanceof er||n?.name==="EmptyError"}var sd=Symbol("INITIAL_VALUE");function Zo(){return Tt(n=>mo(n.map(e=>e.pipe(tr(1),Rp(sd)))).pipe(he(e=>{for(let t of e)if(t!==!0){if(t===sd)return sd;if(t===!1||vV(t))return t}return!0}),Qt(e=>e!==sd),tr(1)))}function vV(n){return Wo(n)||n instanceof Yo}function _V(n,e){return ut(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(ve(L({},t),{guardsResult:!0})):wV(s,r,i,n).pipe(ut(a=>a&&hV(a)?EV(r,o,n,e):ne(a)),he(a=>ve(L({},t),{guardsResult:a})))})}function wV(n,e,t,r){return ze(n).pipe(ut(i=>TV(i.component,i.route,t,e,r)),nr(i=>i!==!0,!0))}function EV(n,e,t,r){return ze(e).pipe(kr(i=>yo(IV(i.route.parent,r),bV(i.route,r),CV(n,i.path,t),DV(n,i.route,t))),nr(i=>i!==!0,!0))}function bV(n,e){return n!==null&&e&&e(new Ed(n)),ne(!0)}function IV(n,e){return n!==null&&e&&e(new _d(n)),ne(!0)}function DV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>Zl(()=>{let s=dc(e)??t,a=Jo(o,s),l=pV(a)?a.canActivate(e,n):Zt(s,()=>a(e,n));return Qr(l).pipe(nr())}));return ne(i).pipe(Zo())}function CV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>lV(s)).filter(s=>s!==null).map(s=>Zl(()=>{let a=s.guards.map(l=>{let u=dc(s.node)??t,h=Jo(l,u),p=gV(h)?h.canActivateChild(r,n):Zt(u,()=>h(r,n));return Qr(p).pipe(nr())});return ne(a).pipe(Zo())}));return ne(o).pipe(Zo())}function TV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let l=dc(e)??i,u=Jo(a,l),h=mV(u)?u.canDeactivate(n,e,t,r):Zt(l,()=>u(n,e,t,r));return Qr(h).pipe(nr())});return ne(s).pipe(Zo())}function SV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=Jo(s,n),l=fV(a)?a.canLoad(e,t):Zt(n,()=>a(e,t));return Qr(l)});return ne(o).pipe(Zo(),kC(r))}function kC(n){return _p(wt(e=>{if(typeof e!="boolean")throw Td(n,e)}),he(e=>e===!0))}function AV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=Jo(s,n),l=yV(a)?a.canMatch(e,t):Zt(n,()=>a(e,t));return Qr(l)});return ne(o).pipe(Zo(),kC(r))}var ac=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},cc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function zo(n){return go(new ac(n))}function MV(n){return go(new F(4e3,!1))}function xV(n){return go(NC(!1,zt.GuardRejected))}var hy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[ue])return MV(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:g,params:m,data:_,title:D}=i,A=Zt(o,()=>a({params:m,data:_,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:g,title:D}));if(A instanceof Ln)throw new cc(A);t=A}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new cc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ln(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},fy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RV(n,e,t,r,i){let o=FC(n,e,t);return o.matched?(r=eV(e,r),AV(r,e,t,i).pipe(he(s=>s===!0?o:L({},fy)))):ne(o)}function FC(n,e,t){if(e.path==="**")return NV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},fy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dC)(t,n,e);if(!i)return L({},fy);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function NV(n){return{matched:!0,parameters:n.length>0?fC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function cC(n,e,t,r){return t.length>0&&kV(n,t,r)?{segmentGroup:new xe(e,OV(r,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&FV(n,t,r)?{segmentGroup:new xe(n.segments,PV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function PV(n,e,t,r){let i={};for(let o of t)if(xd(n,e,o)&&!r[In(o)]){let s=new xe([],{});i[In(o)]=s}return L(L({},r),i)}function OV(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&In(r)!==ue){let i=new xe([],{});t[In(r)]=i}return t}function kV(n,e,t){return t.some(r=>xd(n,e,r)&&In(r)!==ue)}function FV(n,e,t){return t.some(r=>xd(n,e,r))}function xd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function VV(n,e,t){return e.length===0&&!n.children[t]}var py=class{};function LV(n,e,t,r,i,o,s="emptyOnly"){return new gy(n,e,t,r,i,s,o).recognize()}var jV=31,gy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hy(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=cC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(({children:t,rootSnapshot:r})=>{let i=new Xt(r,t),o=new oc("",i),s=bC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ki([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(he(r=>({children:r,rootSnapshot:t})),Or(r=>{if(r instanceof cc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ac?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(he(s=>s instanceof Xt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ze(o).pipe(kr(s=>{let a=r.children[s],l=tV(t,s);return this.processSegmentGroup(e,l,a,s,i)}),xp((s,a)=>(s.push(...a),s)),Fr(null),Mp(),ut(s=>{if(s===null)return zo(r);let a=VC(s);return BV(a),ne(a)}))}processSegment(e,t,r,i,o,s,a){return ze(t).pipe(kr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Or(u=>{if(u instanceof ac)return ne(null);throw u}))),nr(l=>!!l),Or(l=>{if(OC(l))return VV(r,i,o)?ne(new py):zo(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return In(r)!==s&&(s===ue||!xd(i,o,r))?zo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):zo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=FC(t,i,o);if(!l)return zo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jV&&(this.allowRedirects=!1));let m=new ki(o,u,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,lC(i),In(i),i.component??i._loadedComponent??null,i,uC(i)),_=Cd(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(_.params),m.data=Object.freeze(_.data);let D=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,D).pipe(ut(A=>this.processSegment(e,r,t,A.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=RV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Tt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Tt(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=l,_=new ki(g,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,lC(r),In(r),r.component??r._loadedComponent??null,r,uC(r)),D=Cd(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(D.params),_.data=Object.freeze(D.data);let{segmentGroup:A,slicedSegments:k}=cC(t,g,m,u);if(k.length===0&&A.hasChildren())return this.processChildren(h,u,A,_).pipe(he(B=>new Xt(_,B)));if(u.length===0&&k.length===0)return ne(new Xt(_,[]));let U=In(r)===o;return this.processSegment(h,u,A,k,U?ue:o,!0,_).pipe(he(B=>new Xt(_,B instanceof Xt?[B]:[])))}))):zo(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):SV(e,t,r,this.urlSerializer).pipe(ut(i=>i?this.configLoader.loadChildren(e,t).pipe(wt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):xV(t))):ne({routes:[],injector:e})}};function BV(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function UV(n){let e=n.value.routeConfig;return e&&e.path===""}function VC(n){let e=[],t=new Set;for(let r of n){if(!UV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=VC(r.children);e.push(new Xt(r.value,i))}return e.filter(r=>!t.has(r))}function lC(n){return n.data||{}}function uC(n){return n.resolve||{}}function $V(n,e,t,r,i,o){return ut(s=>LV(n,e,t,r,s.extractedUrl,i,o).pipe(he(({state:a,tree:l})=>ve(L({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function zV(n,e){return ut(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of LC(l))s.add(u);let a=0;return ze(s).pipe(kr(l=>o.has(l)?HV(l,r,n,e):(l.data=Cd(l,l.parent,n).resolve,ne(void 0))),wt(()=>a++),vo(1),ut(l=>a===s.size?ne(t):jt))})}function LC(n){let e=n.children.map(t=>LC(t)).flat();return[n,...e]}function HV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!MC(i)&&(o[lc]=i.title),qV(o,n,e,r).pipe(he(s=>(n._resolvedData=s,n.data=Cd(n,n.parent,t).resolve,null)))}function qV(n,e,t,r){let i=ry(n);if(i.length===0)return ne({});let o={};return ze(i).pipe(ut(s=>GV(n[s],e,t,r).pipe(nr(),wt(a=>{if(a instanceof Yo)throw Td(new Vi,a);o[s]=a}))),vo(1),he(()=>o),Or(s=>OC(s)?jt:go(s)))}function GV(n,e,t,r){let i=dc(e)??r,o=Jo(n,i),s=o.resolve?o.resolve(e,t):Zt(i,()=>o(e,t));return Qr(s)}function ty(n){return Tt(e=>{let t=n(e);return t?ze(t).pipe(he(()=>e)):ne(e)})}var _y=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[lc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(jC),providedIn:"root"})}return n})(),jC=(()=>{class n extends _y{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(X(rC))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pc=new G("",{providedIn:"root",factory:()=>({})}),gc=new G(""),BC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(wD);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Qr(t.loadComponent()).pipe(he($C),wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Vr(()=>{this.componentLoaders.delete(t)})),i=new fo(r,()=>new tt).pipe(ho());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=UC(r,this.compiler,t,this.onLoadEndListener).pipe(Vr(()=>{this.childrenLoaders.delete(r)})),s=new fo(o,()=>new tt).pipe(ho());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UC(n,e,t,r){return Qr(n.loadChildren()).pipe(he($C),ut(i=>i instanceof Sm||Array.isArray(i)?ne(i):ze(e.compileModuleAsync(i))),he(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(gc,[],{optional:!0,self:!0}).flat()),{routes:s.map(vy),injector:o}}))}function WV(n){return n&&typeof n=="object"&&"default"in n}function $C(n){return WV(n)?n.default:n}var Rd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(KV),providedIn:"root"})}return n})(),KV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zC=new G("");var HC=new G(""),qC=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new tt;transitionAbortSubject=new tt;configLoader=V(BC);environmentInjector=V($t);destroyRef=V(Po);urlSerializer=V(uc);rootContexts=V(Xo);location=V(Lo);inputBindingEnabled=V(Md,{optional:!0})!==null;titleStrategy=V(_y);options=V(pc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(Rd);createViewTransition=V(zC,{optional:!0});navigationErrorHandler=V(HC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new yd(i)),r=i=>this.events.next(new vd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ve(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new nt(null),this.transitions.pipe(Qt(r=>r!==null),Tt(r=>{let i=!1,o=!1;return ne(r).pipe(Tt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",zt.SupersededByNewNavigation),jt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ve(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let u="";return this.events.next(new fr(s.id,this.urlSerializer.serialize(s.rawUrl),u,tc.IgnoredSameUrlNavigation)),s.resolve(!1),jt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ne(s).pipe(Tt(u=>(this.events.next(new Li(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?jt:Promise.resolve(u))),$V(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),wt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ve(L({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new nc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:h,source:p,restoredState:g,extras:m}=s,_=new Li(u,this.urlSerializer.serialize(h),p,g);this.events.next(_);let D=SC(this.rootComponentType).snapshot;return this.currentTransition=r=ve(L({},s),{targetSnapshot:D,urlAfterRedirects:h,extras:ve(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ne(r)}else{let u="";return this.events.next(new fr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,tc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),jt}}),wt(s=>{let a=new fd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),he(s=>(this.currentTransition=r=ve(L({},s),{guards:cV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),_V(this.environmentInjector,s=>this.events.next(s)),wt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Td(this.urlSerializer,s.guardsResult);let a=new pd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Qt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",zt.GuardRejected),!1)),ty(s=>{if(s.guards.canActivateChecks.length!==0)return ne(s).pipe(wt(a=>{let l=new gd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Tt(a=>{let l=!1;return ne(a).pipe(zV(this.paramsInheritanceStrategy,this.environmentInjector),wt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",zt.NoDataFromResolver)}}))}),wt(a=>{let l=new md(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),ty(s=>{let a=l=>{let u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(wt(h=>{l.component=h}),he(()=>{})));for(let h of l.children)u.push(...a(h));return u};return mo(a(s.targetSnapshot.root)).pipe(Fr(null),tr(1))}),ty(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?ze(l).pipe(he(()=>r)):ne(r)}),he(s=>{let a=rV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ve(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),wt(()=>{this.events.next(new rc)}),aV(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),tr(1),wt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Np(this.transitionAbortSubject.pipe(wt(s=>{throw s}))),Vr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",zt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Or(s=>{if(this.destroyed)return r.resolve(!1),jt;if(o=!0,PC(s))this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),sV(s)?this.events.next(new Qo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ko(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Zt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Yo){let{message:u,cancellationCode:h}=Td(this.urlSerializer,l);this.events.next(new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new Qo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return jt}))}))}cancelNavigationTransition(t,r,i){let o=new Vn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QV(n){return n!==ud}var GC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(YV),providedIn:"root"})}return n})(),Ad=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},YV=(()=>{class n extends Ad{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ka(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WC=(()=>{class n{urlSerializer=V(uc);options=V(pc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=V(Lo);urlHandlingStrategy=V(Rd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ln;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Ln?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=SC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(ZV),providedIn:"root"})}return n})(),ZV=(()=>{class n extends WC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Li?this.updateStateMemento():t instanceof fr?this.commitTransition(r):t instanceof nc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof rc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vn&&(t.code===zt.GuardRejected||t.code===zt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ko?this.restoreHistory(r,!0):t instanceof hr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ka(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wy(n,e){n.events.pipe(Qt(t=>t instanceof hr||t instanceof Vn||t instanceof Ko||t instanceof fr),he(t=>t instanceof hr||t instanceof fr?0:(t instanceof Vn?t.code===zt.Redirect||t.code===zt.SupersededByNewNavigation:!1)?2:1),Qt(t=>t!==2),tr(1)).subscribe(()=>{e()})}var XV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(uD);stateManager=V(WC);options=V(pc,{optional:!0})||{};pendingTasks=V(lr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(qC);urlSerializer=V(uc);location=V(Lo);urlHandlingStrategy=V(Rd);_events=new tt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(GC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(gc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(Md,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ye;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Vn&&r.code!==zt.Redirect&&r.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hr)this.navigated=!0;else if(r instanceof Qo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QV(i.source)},s);this.scheduleNavigation(a,ud,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}tL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ud,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=L({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(vy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=IC(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return DC(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Wo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ud,null,r)}navigate(t,r={skipLocationChange:!1}){return eL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},XV):r===!1?i=L({},JV):i=r,Wo(t))return iC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return iC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,l=g});let h=this.pendingTasks.add();return wy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new F(4008,!1)}function tL(n){return!(n instanceof rc)&&!(n instanceof Qo)}var rL=new G("");function Ey(n,...e){return Na([{provide:gc,multi:!0,useValue:n},[],{provide:Kr,useFactory:iL,deps:[Mt]},{provide:Am,multi:!0,useFactory:oL},e.map(t=>t.\u0275providers)])}function iL(n){return n.routerState.root}function oL(){let n=V(or);return e=>{let t=n.get(Ei);if(e!==t.components[0])return;let r=n.get(Mt),i=n.get(sL);n.get(aL)===1&&r.initialNavigation(),n.get(cL,null,de.Optional)?.setUpPreloading(),n.get(rL,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sL=new G("",{factory:()=>new tt}),aL=new G("",{providedIn:"root",factory:()=>1});var cL=new G("");var fe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(fe||{}),Dn="*";function KC(n,e=null){return{type:fe.Sequence,steps:n,options:e}}function by(n){return{type:fe.Style,styles:n,offset:null}}var pr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ts=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},mc="!";function QC(n){return new F(3e3,!1)}function uL(){return new F(3100,!1)}function dL(){return new F(3101,!1)}function hL(n){return new F(3001,!1)}function fL(n){return new F(3003,!1)}function pL(n){return new F(3004,!1)}function ZC(n,e){return new F(3005,!1)}function XC(){return new F(3006,!1)}function JC(){return new F(3007,!1)}function eT(n,e){return new F(3008,!1)}function tT(n){return new F(3002,!1)}function nT(n,e,t,r,i){return new F(3010,!1)}function rT(){return new F(3011,!1)}function iT(){return new F(3012,!1)}function oT(){return new F(3200,!1)}function sT(){return new F(3202,!1)}function aT(){return new F(3013,!1)}function cT(n){return new F(3014,!1)}function lT(n){return new F(3015,!1)}function uT(n){return new F(3016,!1)}function dT(n,e){return new F(3404,!1)}function gL(n){return new F(3502,!1)}function hT(n){return new F(3503,!1)}function fT(){return new F(3300,!1)}function pT(n){return new F(3504,!1)}function gT(n){return new F(3301,!1)}function mT(n,e){return new F(3302,!1)}function yT(n){return new F(3303,!1)}function vT(n,e){return new F(3400,!1)}function _T(n){return new F(3401,!1)}function wT(n){return new F(3402,!1)}function ET(n,e){return new F(3505,!1)}function gr(n){switch(n.length){case 0:return new pr;case 1:return n[0];default:return new ts(n)}}function Ty(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),h=u==s,p=h&&a||new Map;l.forEach((g,m)=>{let _=m,D=g;if(m!=="offset")switch(_=n.normalizePropertyName(_,i),D){case mc:D=t.get(m);break;case Dn:D=r.get(m);break;default:D=n.normalizeStyleValue(m,_,D,i);break}p.set(_,D)}),h||o.push(p),a=p,s=u}),i.length)throw gL(i);return o}function Nd(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Iy(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Iy(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Iy(t,"destroy",n)));break}}function Iy(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Pd(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Pd(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ht(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Sy(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var mL=typeof document>"u"?null:document.documentElement;function Od(n){let e=n.parentNode||n.host||null;return e===mL?null:e}function yL(n){return n.substring(1,6)=="ebkit"}var ji=null,YC=!1;function bT(n){ji||(ji=vL()||{},YC=ji.style?"WebkitAppearance"in ji.style:!1);let e=!0;return ji.style&&!yL(n)&&(e=n in ji.style,!e&&YC&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ji.style)),e}function vL(){return typeof document<"u"?document.body:null}function Ay(n,e){for(;e;){if(e===n)return!0;e=Od(e)}return!1}function My(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var _L=1e3,xy="{{",wL="}}",Ry="ng-enter",kd="ng-leave",yc="ng-trigger",vc=".ng-trigger",Ny="ng-animating",Fd=".ng-animating";function jn(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Dy(parseFloat(e[1]),e[2])}function Dy(n,e){switch(e){case"s":return n*_L;default:return n}}function _c(n,e,t){return n.hasOwnProperty("duration")?n:EL(n,e,t)}function EL(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(QC(n)),{duration:0,delay:0,easing:""};i=Dy(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Dy(parseFloat(l),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(uL()),a=!0),o<0&&(e.push(dL()),a=!0),a&&e.splice(l,0,QC(n))}return{duration:i,delay:o,easing:s}}function IT(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Cn(n,e,t){e.forEach((r,i)=>{let o=Vd(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Yr(n,e){e.forEach((t,r)=>{let i=Vd(r);n.style[i]=""})}function ns(n){return Array.isArray(n)?n.length==1?n[0]:KC(n):n}function DT(n,e,t){let r=e.params||{},i=Py(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(hL(o))})}var Cy=new RegExp(`${xy}\\s*(.+?)\\s*${wL}`,"g");function Py(n){let e=[];if(typeof n=="string"){let t;for(;t=Cy.exec(n);)e.push(t[1]);Cy.lastIndex=0}return e}function rs(n,e,t){let r=`${n}`,i=r.replace(Cy,(o,s)=>{let a=e[s];return a==null&&(t.push(fL(s)),a=""),a.toString()});return i==r?n:i}var bL=/-+([a-z0-9])/g;function Vd(n){return n.replace(bL,(...e)=>e[1].toUpperCase())}function CT(n,e){return n===0||e===0}function TT(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Ld(n,a)))}}return e}function qt(n,e,t){switch(e.type){case fe.Trigger:return n.visitTrigger(e,t);case fe.State:return n.visitState(e,t);case fe.Transition:return n.visitTransition(e,t);case fe.Sequence:return n.visitSequence(e,t);case fe.Group:return n.visitGroup(e,t);case fe.Animate:return n.visitAnimate(e,t);case fe.Keyframes:return n.visitKeyframes(e,t);case fe.Style:return n.visitStyle(e,t);case fe.Reference:return n.visitReference(e,t);case fe.AnimateChild:return n.visitAnimateChild(e,t);case fe.AnimateRef:return n.visitAnimateRef(e,t);case fe.Query:return n.visitQuery(e,t);case fe.Stagger:return n.visitStagger(e,t);default:throw pL(e.type)}}function Ld(n,e){return window.getComputedStyle(n)[e]}var Yy=(()=>{class n{validateStyleProperty(t){return bT(t)}containsElement(t,r){return Ay(t,r)}getParentElement(t){return Od(t)}query(t,r,i){return My(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new pr(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Ui=class{static NOOP=new Yy},$i=class{};var IL=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),zd=class extends $i{normalizePropertyName(e,t){return Vd(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(IL.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(ZC(e,r))}return s+o}};var Hd="*";function DL(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>CL(r,t,e)):t.push(n),t}function CL(n,e,t){if(n[0]==":"){let l=TL(n,t);if(typeof l=="function"){e.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(lT(n)),e;let i=r[1],o=r[2],s=r[3];e.push(ST(i,s));let a=i==Hd&&s==Hd;o[0]=="<"&&!a&&e.push(ST(s,i))}function TL(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(uT(n)),"* => *"}}var jd=new Set(["true","1"]),Bd=new Set(["false","0"]);function ST(n,e){let t=jd.has(n)||Bd.has(n),r=jd.has(e)||Bd.has(e);return(i,o)=>{let s=n==Hd||n==i,a=e==Hd||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?jd.has(n):Bd.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?jd.has(e):Bd.has(e)),s&&a}}var VT=":self",SL=new RegExp(`s*${VT}s*,?`,"g");function LT(n,e,t,r){return new jy(n).build(e,t,r)}var AT="",jy=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new By(t);return this._resetContextStyleTimingState(i),qt(this,ns(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=AT,e.collectedStyles=new Map,e.collectedStyles.set(AT,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(XC()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==fe.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=u}else if(a.type==fe.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(JC())}),{type:fe.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Py(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(eT(e.name,[...o.values()]))}return{type:fe.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=qt(this,ns(e.animation),t),i=DL(e.expr,t.errors);return{type:fe.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Bi(e.options)}}visitSequence(e,t){return{type:fe.Sequence,steps:e.steps.map(r=>qt(this,r,t)),options:Bi(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=qt(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:fe.Group,steps:o,options:Bi(e.options)}}visitAnimate(e,t){let r=RL(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:by({});if(o.type==fe.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=by(u)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:fe.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Dn?r.push(a):t.errors.push(tT(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(xy)>=0){o=!0;break}}}),{type:fe.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(l),p=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(t.errors.push(nT(l,h.startTime,h.endTime,o,i)),p=!1),o=h.startTime),p&&u.set(l,{startTime:o,endTime:i}),t.options&&DT(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:fe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(rT()),r;let i=1,o=0,s=[],a=!1,l=!1,u=0,h=e.steps.map(k=>{let U=this._makeStyleAst(k,t),B=U.offset!=null?U.offset:xL(U.styles),te=0;return B!=null&&(o++,te=U.offset=B),l=l||te<0||te>1,a=a||te<u,u=te,s.push(te),U});l&&t.errors.push(iT()),a&&t.errors.push(oT());let p=e.steps.length,g=0;o>0&&o<p?t.errors.push(sT()):o==0&&(g=i/(p-1));let m=p-1,_=t.currentTime,D=t.currentAnimateTimings,A=D.duration;return h.forEach((k,U)=>{let B=g>0?U==m?1:g*U:s[U],te=B*A;t.currentTime=_+D.delay+te,D.duration=te,this._validateStyleAst(k,t),k.offset=B,r.styles.push(k)}),r}visitReference(e,t){return{type:fe.Reference,animation:qt(this,ns(e.animation),t),options:Bi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:fe.AnimateChild,options:Bi(e.options)}}visitAnimateRef(e,t){return{type:fe.AnimateRef,animation:this.visitReference(e.animation,t),options:Bi(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=AL(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Ht(t.collectedStyles,t.currentQuerySelector,new Map);let a=qt(this,ns(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:fe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Bi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(aT());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:_c(e.timings,t.errors,!0);return{type:fe.Stagger,animation:qt(this,ns(e.animation),t),timings:r,options:null}}};function AL(n){let e=!!n.split(/\s*,\s*/).find(t=>t==VT);return e&&(n=n.replace(SL,"")),n=n.replace(/@\*/g,vc).replace(/@\w+/g,t=>vc+"-"+t.slice(1)).replace(/:animating/g,Fd),[n,e]}function ML(n){return n?L({},n):null}var By=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function xL(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function RL(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=_c(n,e).duration;return Oy(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Oy(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=_c(t,e);return Oy(i.duration,i.delay,i.easing)}function Bi(n){return n?(n=L({},n),n.params&&(n.params=ML(n.params))):n={},n}function Oy(n,e,t){return{duration:n,delay:e,easing:t}}function Zy(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Ec=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},NL=1,PL=":enter",OL=new RegExp(PL,"g"),kL=":leave",FL=new RegExp(kL,"g");function jT(n,e,t,r,i,o=new Map,s=new Map,a,l,u=[]){return new Uy().buildKeyframes(n,e,t,r,i,o,s,a,l,u)}var Uy=class{buildKeyframes(e,t,r,i,o,s,a,l,u,h=[]){u=u||new Ec;let p=new $y(e,t,u,i,o,h,[]);p.options=l;let g=l.delay?jn(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,l),qt(this,r,p);let m=p.timelines.filter(_=>_.containsAnimation());if(m.length&&a.size){let _;for(let D=m.length-1;D>=0;D--){let A=m[D];if(A.element===t){_=A;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,p.errors,l)}return m.length?m.map(_=>_.buildKeyframes()):[Zy(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:jn(rs(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?jn(r.duration):null,a=r.delay!=null?jn(r.delay):null;return s!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),qt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==fe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qd);let s=jn(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>qt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?jn(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),qt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?rs(r,t.params,t.errors):r;return _c(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==fe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?jn(i.delay):0;o&&(t.previousNode.type===fe.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=qd);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{t.currentQueryIndex=h;let p=t.createSubContext(e.options,u);o&&p.delayNextStep(o),u===t.element&&(l=p.currentTimeline),qt(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let g=p.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let h=t.currentTimeline;l&&h.delayNextStep(l);let p=h.currentTime;qt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},qd={},$y=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=qd;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Gd(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=jn(r.duration)),r.delay!=null&&(i.delay=jn(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=rs(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=qd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new zy(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(OL,"."+this._enterClassName),e=e.replace(FL,"."+this._leaveClassName);let l=r!=1,u=this._driver.query(this.element,e,l);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(cT(t)),a}},Gd=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=NL,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Dn),this._currentKeyframe.set(t,Dn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=VL(e,this._globalTimelineStyles);for(let[a,l]of s){let u=rs(l,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Dn),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((h,p)=>{h===mc?e.add(p):h===Dn&&t.add(p)}),r||u.set("offset",l/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Zy(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},zy=class extends Gd{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let u=new Map(e[0]);u.set("offset",MT(a)),o.push(u);let h=e.length-1;for(let p=1;p<=h;p++){let g=new Map(e[p]),m=g.get("offset"),_=t+m*r;g.set("offset",MT(_/s)),o.push(g)}r=s,t=0,i="",e=o}return Zy(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function MT(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function VL(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Dn)}else for(let[o,s]of i)t.set(o,s)}),t}function xT(n,e,t,r,i,o,s,a,l,u,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:p,errors:g}}var ky={},Wd=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return LL(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,u,h){let p=[],g=this.ast.options&&this.ast.options.params||ky,m=a&&a.params||ky,_=this.buildStyles(r,m,p),D=l&&l.params||ky,A=this.buildStyles(i,D,p),k=new Set,U=new Map,B=new Map,te=i==="void",Je={params:BT(D,g),delay:this.ast.options?.delay},ge=h?[]:jT(e,t,this.ast.animation,o,s,_,A,Je,u,p),I=0;return ge.forEach(v=>{I=Math.max(v.duration+v.delay,I)}),p.length?xT(t,this._triggerName,r,i,te,_,A,[],[],U,B,I,p):(ge.forEach(v=>{let E=v.element,b=Ht(U,E,new Set);v.preStyleProps.forEach(S=>b.add(S));let C=Ht(B,E,new Set);v.postStyleProps.forEach(S=>C.add(S)),E!==t&&k.add(E)}),xT(t,this._triggerName,r,i,te,_,A,ge,[...k.values()],U,B,I))}};function LL(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function BT(n,e){let t=L({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var Hy=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=BT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=rs(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}};function jL(n,e,t){return new qy(n,e,t)}var qy=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Hy(i.style,o,r))}),RT(this.states,"true","1"),RT(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Wd(e,i,this.states))}),this.fallbackTransition=BL(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function BL(n,e,t){let r=[(s,a)=>!0],i={type:fe.Sequence,steps:[],options:null},o={type:fe.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Wd(n,o,e)}function RT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var UL=new Ec,Gy=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=LT(this._driver,t,r,i);if(r.length)throw hT(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=Ty(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=jT(this._driver,t,o,Ry,kd,new Map,new Map,r,UL,i),s.forEach(h=>{let p=Ht(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(i.push(fT()),s=[]),i.length)throw pT(i);a.forEach((h,p)=>{h.forEach((g,m)=>{h.set(m,this._driver.computeStyle(p,m,Dn))})});let l=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),u=gr(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw gT(e);return t}listen(e,t,r,i){let o=Pd(t,"","","");return Nd(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},NT="ng-animate-queued",$L=".ng-animate-queued",Fy="ng-animate-disabled",zL=".ng-animate-disabled",HL="ng-star-inserted",qL=".ng-star-inserted",GL=[],UT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tn="__ng_removed",bc=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=QL(i),r){let o=e,{value:s}=o,a=Yf(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},wc="void",Vy=new bc(wc),Wy=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,hn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw mT(r,t);if(r==null||r.length==0)throw yT(t);if(!YL(r))throw vT(r,t);let o=Ht(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Ht(this._engine.statesByElement,e,new Map);return a.has(t)||(hn(e,yc),hn(e,yc+"-"+t),a.set(t,Vy)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw _T(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Ic(this.id,t,e),a=this._engine.statesByElement.get(e);a||(hn(e,yc),hn(e,yc+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new bc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=Vy),!(u.value===wc)&&l.value===u.value){if(!JL(l.params,u.params)){let D=[],A=o.matchStyles(l.value,l.params,D),k=o.matchStyles(u.value,u.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Yr(e,A),Cn(e,k)})}return}let g=Ht(this._engine.playersByElement,e,[]);g.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let m=o.matchTransition(l.value,u.value,e,u.params),_=!1;if(!m){if(!i)return;m=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:l,toState:u,player:s,isFallbackTransition:_}),_||(hn(e,NT),s.onStart(()=>{is(e,NT)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);let A=this._engine.playersByElement.get(e);if(A){let k=A.indexOf(s);k>=0&&A.splice(k,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,vc,!0);r.forEach(i=>{if(i[Tn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){let h=this.trigger(e,u,wc,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&gr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,u=r.get(s)||Vy,h=new bc(wc),p=new Ic(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Tn];(!o||o===UT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){hn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let l=Pd(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Nd(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Ky=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Wy(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let u=r.indexOf(l);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Ud(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ud(t))return;let o=t[Tn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),hn(e,Fy)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),is(e,Fy))}removeNode(e,t,r){if(Ud(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Tn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Ud(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,vc,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Fd,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return gr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Tn];if(t&&t.setForRemoval){if(e[Tn]=UT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Fy)&&this.markElementAsDisabled(e,!1),this.driver.query(e,zL,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];hn(i,HL)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?gr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw wT(e)}_flushAnimations(e,t){let r=new Ec,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(H=>{h.add(H);let K=this.driver.query(H,$L,!0);for(let Z=0;Z<K.length;Z++)h.add(K[Z])});let p=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=kT(g,this.collectedEnterElements),_=new Map,D=0;m.forEach((H,K)=>{let Z=Ry+D++;_.set(K,Z),H.forEach(ye=>hn(ye,Z))});let A=[],k=new Set,U=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let K=this.collectedLeaveElements[H],Z=K[Tn];Z&&Z.setForRemoval&&(A.push(K),k.add(K),Z.hasAnimation?this.driver.query(K,qL,!0).forEach(ye=>k.add(ye)):U.add(K))}let B=new Map,te=kT(g,Array.from(k));te.forEach((H,K)=>{let Z=kd+D++;B.set(K,Z),H.forEach(ye=>hn(ye,Z))}),e.push(()=>{m.forEach((H,K)=>{let Z=_.get(K);H.forEach(ye=>is(ye,Z))}),te.forEach((H,K)=>{let Z=B.get(K);H.forEach(ye=>is(ye,Z))}),A.forEach(H=>{this.processLeaveNode(H)})});let Je=[],ge=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(t).forEach(Z=>{let ye=Z.player,et=Z.element;if(Je.push(ye),this.collectedEnterElements.length){let Ke=et[Tn];if(Ke&&Ke.setForMove){if(Ke.previousTriggersValues&&Ke.previousTriggersValues.has(Z.triggerName)){let Qn=Ke.previousTriggersValues.get(Z.triggerName),Vt=this.statesByElement.get(Z.element);if(Vt&&Vt.has(Z.triggerName)){let Yn=Vt.get(Z.triggerName);Yn.value=Qn,Vt.set(Z.triggerName,Yn)}}ye.destroy();return}}let rn=!p||!this.driver.containsElement(p,et),We=B.get(et),je=_.get(et),Be=this._buildInstruction(Z,r,je,We,rn);if(Be.errors&&Be.errors.length){ge.push(Be);return}if(rn){ye.onStart(()=>Yr(et,Be.fromStyles)),ye.onDestroy(()=>Cn(et,Be.toStyles)),i.push(ye);return}if(Z.isFallbackTransition){ye.onStart(()=>Yr(et,Be.fromStyles)),ye.onDestroy(()=>Cn(et,Be.toStyles)),i.push(ye);return}let Ar=[];Be.timelines.forEach(Ke=>{Ke.stretchStartingKeyframe=!0,this.disabledNodes.has(Ke.element)||Ar.push(Ke)}),Be.timelines=Ar,r.append(et,Be.timelines);let Cf={instruction:Be,player:ye,element:et};s.push(Cf),Be.queriedElements.forEach(Ke=>Ht(a,Ke,[]).push(ye)),Be.preStyleProps.forEach((Ke,Qn)=>{if(Ke.size){let Vt=l.get(Qn);Vt||l.set(Qn,Vt=new Set),Ke.forEach((Yn,Mr)=>Vt.add(Mr))}}),Be.postStyleProps.forEach((Ke,Qn)=>{let Vt=u.get(Qn);Vt||u.set(Qn,Vt=new Set),Ke.forEach((Yn,Mr)=>Vt.add(Mr))})});if(ge.length){let H=[];ge.forEach(K=>{H.push(ET(K.triggerName,K.errors))}),Je.forEach(K=>K.destroy()),this.reportError(H)}let I=new Map,v=new Map;s.forEach(H=>{let K=H.element;r.has(K)&&(v.set(K,K),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,I))}),i.forEach(H=>{let K=H.element;this._getPreviousPlayers(K,!1,H.namespaceId,H.triggerName,null).forEach(ye=>{Ht(I,K,[]).push(ye),ye.destroy()})});let E=A.filter(H=>FT(H,l,u)),b=new Map;OT(b,this.driver,U,u,Dn).forEach(H=>{FT(H,l,u)&&E.push(H)});let S=new Map;m.forEach((H,K)=>{OT(S,this.driver,new Set(H),l,mc)}),E.forEach(H=>{let K=b.get(H),Z=S.get(H);b.set(H,new Map([...K?.entries()??[],...Z?.entries()??[]]))});let w=[],nn=[],Sr={};s.forEach(H=>{let{element:K,player:Z,instruction:ye}=H;if(r.has(K)){if(h.has(K)){Z.onDestroy(()=>Cn(K,ye.toStyles)),Z.disabled=!0,Z.overrideTotalTime(ye.totalTime),i.push(Z);return}let et=Sr;if(v.size>1){let We=K,je=[];for(;We=We.parentNode;){let Be=v.get(We);if(Be){et=Be;break}je.push(We)}je.forEach(Be=>v.set(Be,et))}let rn=this._buildAnimation(Z.namespaceId,ye,I,o,S,b);if(Z.setRealPlayer(rn),et===Sr)w.push(Z);else{let We=this.playersByElement.get(et);We&&We.length&&(Z.parentPlayer=gr(We)),i.push(Z)}}else Yr(K,ye.fromStyles),Z.onDestroy(()=>Cn(K,ye.toStyles)),nn.push(Z),h.has(K)&&i.push(Z)}),nn.forEach(H=>{let K=o.get(H.element);if(K&&K.length){let Z=gr(K);H.setRealPlayer(Z)}}),i.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<A.length;H++){let K=A[H],Z=K[Tn];if(is(K,kd),Z&&Z.hasAnimation)continue;let ye=[];if(a.size){let rn=a.get(K);rn&&rn.length&&ye.push(...rn);let We=this.driver.query(K,Fd,!0);for(let je=0;je<We.length;je++){let Be=a.get(We[je]);Be&&Be.length&&ye.push(...Be)}}let et=ye.filter(rn=>!rn.destroyed);et.length?ZL(this,K,et):this.processLeaveNode(K)}return A.length=0,w.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let K=this.players.indexOf(H);this.players.splice(K,1)}),H.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==wc;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let u=l.element,h=u!==o,p=Ht(r,u,[]);this._getPreviousPlayers(u,h,s,a,t.toState).forEach(m=>{let _=m.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),m.destroy(),p.push(m)})}Yr(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,l=t.element,u=[],h=new Set,p=new Set,g=t.timelines.map(_=>{let D=_.element;h.add(D);let A=D[Tn];if(A&&A.removedBeforeQueried)return new pr(_.duration,_.delay);let k=D!==l,U=XL((r.get(D)||GL).map(I=>I.getRealPlayer())).filter(I=>{let v=I;return v.element?v.element===D:!1}),B=o.get(D),te=s.get(D),Je=Ty(this._normalizer,_.keyframes,B,te),ge=this._buildPlayer(_,Je,U);if(_.subTimeline&&i&&p.add(D),k){let I=new Ic(e,a,D);I.setRealPlayer(ge),u.push(I)}return ge});u.forEach(_=>{Ht(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>KL(this.playersByQueriedElement,_.element,_))}),h.forEach(_=>hn(_,Ny));let m=gr(g);return m.onDestroy(()=>{h.forEach(_=>is(_,Ny)),Cn(l,t.toStyles)}),p.forEach(_=>{Ht(i,_,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new pr(e.duration,e.delay)}},Ic=class{namespaceId;triggerName;element;_player=new pr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Nd(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ht(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function KL(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function QL(n){return n??null}function Ud(n){return n&&n.nodeType===1}function YL(n){return n=="start"||n=="done"}function PT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function OT(n,e,t,r,i){let o=[];t.forEach(l=>o.push(PT(l)));let s=[];r.forEach((l,u)=>{let h=new Map;l.forEach(p=>{let g=e.computeStyle(u,p,i);h.set(p,g),(!g||g.length==0)&&(u[Tn]=WL,s.push(u))}),n.set(u,h)});let a=0;return t.forEach(l=>PT(l,o[a++])),s}function kT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let l=o.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:i.has(u)?l=r:l=s(u),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==r&&t.get(l).push(a)}),t}function hn(n,e){n.classList?.add(e)}function is(n,e){n.classList?.remove(e)}function ZL(n,e,t){gr(t).onDone(()=>n.processLeaveNode(e))}function XL(n){let e=[];return $T(n,e),e}function $T(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof ts?$T(r.players,e):e.push(r)}}function JL(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function FT(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var os=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new Ky(e.body,t,r),this._timelineEngine=new Gy(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],u=[],h=LT(this._driver,o,l,u);if(l.length)throw dT(i,l);a=jL(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Sy(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Sy(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function e2(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Ly(e[0]),e.length>1&&(r=Ly(e[e.length-1]))):e instanceof Map&&(t=Ly(e)),t||r?new t2(n,t,r):null}var t2=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Cn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cn(this._element,this._initialStyles),this._endStyles&&(Cn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Yr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yr(this._element,this._endStyles),this._endStyles=null),Cn(this._element,this._initialStyles),this._state=3)}}return n})();function Ly(n){let e=null;return n.forEach((t,r)=>{n2(r)&&(e=e||new Map,e.set(r,t))}),e}function n2(n){return n==="display"||n==="position"}var Kd=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Ld(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Qd=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Ay(e,t)}getParentElement(e){return Od(e)}query(e,t,r){return My(e,t,r)}computeStyle(e,t,r){return Ld(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};o&&(l.easing=o);let u=new Map,h=s.filter(m=>m instanceof Kd);CT(r,i)&&h.forEach(m=>{m.currentSnapshot.forEach((_,D)=>u.set(D,_))});let p=IT(t).map(m=>new Map(m));p=TT(e,p,u);let g=e2(e,p);return new Kd(e,p,l,g)}};var $d="@",zT="@.disabled",Yd=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==$d&&t==zT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Qy=class extends Yd{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==$d?t.charAt(1)=="."&&t==zT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==$d){let o=r2(e),s=t.slice(1),a="";return s.charAt(0)!=$d&&([s,a]=i2(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let u=l._data||-1;this.factory.scheduleListenerCallback(u,r,l)})}return this.delegate.listen(e,t,r,i)}};function r2(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function i2(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Zd=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,h=u.get(i);if(!h){let p=()=>u.delete(i);h=new Yd(r,i,this.engine,p),u.set(i,h)}return h}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new Qy(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var s2=(()=>{class n extends os{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(X(st),X(Ui),X($i))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function a2(){return new zd}function c2(n,e,t){return new Zd(n,e,t)}var HT=[{provide:$i,useFactory:a2},{provide:os,useClass:s2},{provide:Ur,useFactory:c2,deps:[Ha,os,Ge]}],CW=[{provide:Ui,useClass:Yy},{provide:um,useValue:"NoopAnimations"},...HT],l2=[{provide:Ui,useFactory:()=>new Qd},{provide:um,useFactory:()=>"BrowserAnimations"},...HT];function qT(){return Ti("NgEagerAnimations"),[...l2]}var Xd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Se({type:n,selectors:[["app-header"]],decls:6,vars:0,consts:[[1,"header"],[1,"header-content"],["src","assets/img/bahn.png","alt",""]],template:function(t,r){t&1&&(N(0,"Section",0)(1,"div",1)(2,"span"),$(3,"Willkommen auf der L\xE4nder- und Wetter-App"),x(),N(4,"span"),re(5,"img",2),x()()())},styles:[".header[_ngcontent-%COMP%]{width:100%;height:100px;margin-top:30px;display:flex;justify-content:center;align-items:center;color:var(--white-color);font-size:var(--font-size-xl)}.header-content[_ngcontent-%COMP%]{width:calc(100% - 60px);height:100%;display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:var(--black-color);border:1px solid var(--grey-dark);border-radius:30px;box-shadow:0 0 0 2px var(--white-color);animation:_ngcontent-%COMP%_starts 2s ease-in-out}.header-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}@keyframes _ngcontent-%COMP%_starts{0%{opacity:0}to{opacity:1}}"]})};var u2=["chart"],GT=(()=>{class n{constructor(){this.chart=Le(),this.annotations=Le(),this.colors=Le(),this.dataLabels=Le(),this.series=Le(),this.stroke=Le(),this.labels=Le(),this.legend=Le(),this.markers=Le(),this.noData=Le(),this.fill=Le(),this.tooltip=Le(),this.plotOptions=Le(),this.responsive=Le(),this.xaxis=Le(),this.yaxis=Le(),this.forecastDataPoints=Le(),this.grid=Le(),this.states=Le(),this.title=Le(),this.subtitle=Le(),this.theme=Le(),this.autoUpdateSeries=Le(!0),this.chartReady=cI(),this.chartInstance=Di(null),this.chartElement=aD.required("chart"),this.ngZone=V(Ge),this.isBrowser=Vm(V(Ci))}ngOnChanges(t){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{Tp.schedule(()=>this.hydrate(t))})}ngOnDestroy(){this.destroy()}hydrate(t){if(this.autoUpdateSeries()&&Object.keys(t).filter(i=>i!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return R(this,null,function*(){let{default:t}=yield import("./chunk-OFYZ6HBG.js");window.ApexCharts||=t;let r={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(s=>{let a=this[s]();a&&(r[s]=a)}),this.destroy();let o=this.ngZone.runOutsideAngular(()=>new t(this.chartElement().nativeElement,r));this.chartInstance.set(o),this.render(),this.chartReady.emit({chartObj:o})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(t,r,i,o){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(t,r,i,o))}updateSeries(t,r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(t,r))}appendSeries(t,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(t,r))}appendData(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(t))}highlightSeries(t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(t))}toggleSeries(t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(t))}showSeries(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(t))}hideSeries(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(t))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(t,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(t,r))}toggleDataPointSelection(t,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(t,r))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(t))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(t,r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(t,r,i))}addYaxisAnnotation(t,r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(t,r,i))}addPointAnnotation(t,r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(t,r,i))}removeAnnotation(t,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(t,r))}clearAnnotations(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(t))}dataURI(t){return this.chartInstance()?.dataURI(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["apx-chart"]],viewQuery:function(r,i){r&1&&mD(i.chartElement,u2,5),r&2&&yD()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[Ii],decls:2,vars:0,consts:[["chart",""]],template:function(r,i){r&1&&re(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return n})();var WT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=bn({type:n})}static{this.\u0275inj=wn({})}}return n})();var He=class n{ismobile=!1;assistent;selbst;plz;ort;eingabe="";finalLand=!1;choiceLand=!1;choiceCity=!1;loading=!1;inputPlz="";wetterPlz;wetterOrt;tageForecastPlz=[];tageForecastOrt=[];ortOnly=!1;plzOnly=!1;constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var KT=()=>{};var ZT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},h2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(g=64)),r.push(t[h],t[p],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ZT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):h2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Xy;let g=o<<2|a>>4;if(r.push(g),u!==64){let m=a<<4&240|u>>2;if(r.push(m),p!==64){let _=u<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Xy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},f2=function(n){let e=ZT(n);return XT.encodeByteArray(e,!0)},Cc=function(n){return f2(n).replace(/\./g,"")},JT=function(n){try{return XT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var p2=()=>eS().__FIREBASE_DEFAULTS__,g2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},m2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&JT(n[1]);return e&&JSON.parse(e)},Jy=()=>{try{return KT()||p2()||g2()||m2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},y2=n=>{var e,t;return(t=(e=Jy())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},tS=n=>{let e=y2(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ev=()=>{var n;return(n=Jy())===null||n===void 0?void 0:n.config};var Jd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function eh(n){return n.endsWith(".cloudworkstations.dev")}function nS(n){return R(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function rS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Cc(JSON.stringify(t)),Cc(JSON.stringify(s)),""].join(".")}var Dc={};function v2(){let n={prod:[],emulator:[]};for(let e of Object.keys(Dc))Dc[e]?n.emulator.push(e):n.prod.push(e);return n}function _2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var QT=!1;function iS(n,e){if(typeof window>"u"||typeof document>"u"||!eh(window.location.host)||Dc[n]===e||Dc[n]||QT)return;Dc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=v2().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{QT=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=_2(r),m=t("text"),_=document.getElementById(m)||document.createElement("span"),D=t("learnmore"),A=document.getElementById(D)||document.createElement("a"),k=t("preprendIcon"),U=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let B=g.element;a(B),h(A,D);let te=u();l(U,k),B.append(U,_,A,te),document.body.appendChild(B)}o?(_.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function oS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w2(){var n;let e=(n=Jy())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return!w2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tv(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var E2="FirebaseError",mr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=E2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}},Tc=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?b2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new mr(i,a,r)}};function b2(n,e){return n.replace(I2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var I2=/\{\$([^}]+)}/g;function ss(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(YT(o)&&YT(s)){if(!ss(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function YT(n){return n!==null&&typeof n=="object"}var VW=4*60*60*1e3;function Bn(n){return n&&n._delegate?n._delegate:n}var yr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var zi="[DEFAULT]";var nv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Jd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C2(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return R(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function D2(n){return n===zi?void 0:n}function C2(n){return n.instantiationMode==="EAGER"}var th=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new nv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var T2=[],Ie=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ie||{}),S2={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},A2=Ie.INFO,M2={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},x2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=M2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},as=class{constructor(e){this.name=e,this._logLevel=A2,this._logHandler=x2,this._userLogHandler=null,T2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}};var R2=(n,e)=>e.some(t=>n instanceof t),cS,lS;function N2(){return cS||(cS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P2(){return lS||(lS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uS=new WeakMap,iv=new WeakMap,dS=new WeakMap,rv=new WeakMap,sv=new WeakMap;function O2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Un(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&uS.set(t,n)}).catch(()=>{}),sv.set(e,n),e}function k2(n){if(iv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});iv.set(n,e)}var ov={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return iv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Un(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hS(n){ov=n(ov)}function F2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(nh(this),e,...t);return dS.set(r,e.sort?e.sort():[e]),Un(r)}:P2().includes(n)?function(...e){return n.apply(nh(this),e),Un(uS.get(this))}:function(...e){return Un(n.apply(nh(this),e))}}function V2(n){return typeof n=="function"?F2(n):(n instanceof IDBTransaction&&k2(n),R2(n,N2())?new Proxy(n,ov):n)}function Un(n){if(n instanceof IDBRequest)return O2(n);if(rv.has(n))return rv.get(n);let e=V2(n);return e!==n&&(rv.set(n,e),sv.set(e,n)),e}var nh=n=>sv.get(n);function pS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Un(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Un(s.result),l.oldVersion,l.newVersion,Un(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var L2=["get","getKey","getAll","getAllKeys","count"],j2=["put","add","delete","clear"],av=new Map;function fS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(av.get(e))return av.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=j2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L2.includes(t)))return;let o=function(s,...a){return R(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return av.set(e,o),o}hS(n=>ve(L({},n),{get:(e,t,r)=>fS(e,t)||n.get(e,t,r),has:(e,t)=>!!fS(e,t)||n.has(e,t)}));var lv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function B2(n){let e=n.getComponent();return e?.type==="VERSION"}var uv="@firebase/app",gS="0.13.1";var vr=new as("@firebase/app"),U2="@firebase/app-compat",$2="@firebase/analytics-compat",z2="@firebase/analytics",H2="@firebase/app-check-compat",q2="@firebase/app-check",G2="@firebase/auth",W2="@firebase/auth-compat",K2="@firebase/database",Q2="@firebase/data-connect",Y2="@firebase/database-compat",Z2="@firebase/functions",X2="@firebase/functions-compat",J2="@firebase/installations",ej="@firebase/installations-compat",tj="@firebase/messaging",nj="@firebase/messaging-compat",rj="@firebase/performance",ij="@firebase/performance-compat",oj="@firebase/remote-config",sj="@firebase/remote-config-compat",aj="@firebase/storage",cj="@firebase/storage-compat",lj="@firebase/firestore",uj="@firebase/ai",dj="@firebase/firestore-compat",hj="firebase",fj="11.9.0";var dv="[DEFAULT]",pj={[uv]:"fire-core",[U2]:"fire-core-compat",[z2]:"fire-analytics",[$2]:"fire-analytics-compat",[q2]:"fire-app-check",[H2]:"fire-app-check-compat",[G2]:"fire-auth",[W2]:"fire-auth-compat",[K2]:"fire-rtdb",[Q2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[Z2]:"fire-fn",[X2]:"fire-fn-compat",[J2]:"fire-iid",[ej]:"fire-iid-compat",[tj]:"fire-fcm",[nj]:"fire-fcm-compat",[rj]:"fire-perf",[ij]:"fire-perf-compat",[oj]:"fire-rc",[sj]:"fire-rc-compat",[aj]:"fire-gcs",[cj]:"fire-gcs-compat",[lj]:"fire-fst",[dj]:"fire-fst-compat",[uj]:"fire-vertex","fire-js":"fire-js",[hj]:"fire-js-all"};var Sc=new Map,gj=new Map,hv=new Map;function mS(n,e){try{n.container.addComponent(e)}catch(t){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ac(n){let e=n.name;if(hv.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;hv.set(e,n);for(let t of Sc.values())mS(t,n);for(let t of gj.values())mS(t,n);return!0}function wS(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ES(n){return n==null?!1:n.settings!==void 0}var mj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Tc("app","Firebase",mj);var fv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}};var bS=fj;function mv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:dv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(t||(t=ev()),!t)throw Zr.create("no-options");let o=Sc.get(i);if(o){if(ss(t,o.options)&&ss(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}let s=new th(i);for(let l of hv.values())s.addComponent(l);let a=new fv(t,r,s);return Sc.set(i,a),a}function rh(n=dv){let e=Sc.get(n);if(!e&&n===dv&&ev())return mv();if(!e)throw Zr.create("no-app",{appName:n});return e}function IS(){return Array.from(Sc.values())}function Xr(n,e,t){var r;let i=(r=pj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}Ac(new yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var yj="firebase-heartbeat-database",vj=1,Mc="firebase-heartbeat-store",cv=null;function DS(){return cv||(cv=pS(yj,vj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Mc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zr.create("idb-open",{originalErrorMessage:n.message})})),cv}function _j(n){return R(this,null,function*(){try{let t=(yield DS()).transaction(Mc),r=yield t.objectStore(Mc).get(CS(n));return yield t.done,r}catch(e){if(e instanceof mr)vr.warn(e.message);else{let t=Zr.create("idb-get",{originalErrorMessage:e?.message});vr.warn(t.message)}}})}function yS(n,e){return R(this,null,function*(){try{let r=(yield DS()).transaction(Mc,"readwrite");yield r.objectStore(Mc).put(e,CS(n)),yield r.done}catch(t){if(t instanceof mr)vr.warn(t.message);else{let r=Zr.create("idb-set",{originalErrorMessage:t?.message});vr.warn(r.message)}}})}function CS(n){return`${n.name}!${n.options.appId}`}var wj=1024,Ej=30,pv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new gv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return R(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Ej){let s=Ij(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}})}getHeartbeatsHeader(){return R(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=vS(),{heartbeatsToSend:r,unsentEntries:i}=bj(this._heartbeatsCache.heartbeats),o=Cc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return vr.warn(t),""}})}};function vS(){return new Date().toISOString().substring(0,10)}function bj(n,e=wj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_S(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_S(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var gv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(this,null,function*(){return tv()?aS().then(()=>!0).catch(()=>!1):!1})}read(){return R(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield _j(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function _S(n){return Cc(JSON.stringify({version:2,heartbeats:n})).length}function Ij(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Dj(n){Ac(new yr("platform-logger",e=>new lv(e),"PRIVATE")),Ac(new yr("heartbeat",e=>new pv(e),"PRIVATE")),Xr(uv,gS,n),Xr(uv,gS,"esm2017"),Xr("fire-js","")}Dj("");var Cj="firebase",Tj="11.9.1";Xr(Cj,Tj,"app");var TS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SS={};var _r,yv;(function(){var n;function e(I,v){function E(){}E.prototype=v.prototype,I.D=v.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(b,C,S){for(var w=Array(arguments.length-2),nn=2;nn<arguments.length;nn++)w[nn-2]=arguments[nn];return v.prototype[C].apply(b,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,E){E||(E=0);var b=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)b[C]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(C=0;16>C;++C)b[C]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=I.g[0],E=I.g[1],C=I.g[2];var S=I.g[3],w=v+(S^E&(C^S))+b[0]+3614090360&4294967295;v=E+(w<<7&4294967295|w>>>25),w=S+(C^v&(E^C))+b[1]+3905402710&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(E^S&(v^E))+b[2]+606105819&4294967295,C=S+(w<<17&4294967295|w>>>15),w=E+(v^C&(S^v))+b[3]+3250441966&4294967295,E=C+(w<<22&4294967295|w>>>10),w=v+(S^E&(C^S))+b[4]+4118548399&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(C^v&(E^C))+b[5]+1200080426&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(E^S&(v^E))+b[6]+2821735955&4294967295,C=S+(w<<17&4294967295|w>>>15),w=E+(v^C&(S^v))+b[7]+4249261313&4294967295,E=C+(w<<22&4294967295|w>>>10),w=v+(S^E&(C^S))+b[8]+1770035416&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(C^v&(E^C))+b[9]+2336552879&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(E^S&(v^E))+b[10]+4294925233&4294967295,C=S+(w<<17&4294967295|w>>>15),w=E+(v^C&(S^v))+b[11]+2304563134&4294967295,E=C+(w<<22&4294967295|w>>>10),w=v+(S^E&(C^S))+b[12]+1804603682&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(C^v&(E^C))+b[13]+4254626195&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(E^S&(v^E))+b[14]+2792965006&4294967295,C=S+(w<<17&4294967295|w>>>15),w=E+(v^C&(S^v))+b[15]+1236535329&4294967295,E=C+(w<<22&4294967295|w>>>10),w=v+(C^S&(E^C))+b[1]+4129170786&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^C&(v^E))+b[6]+3225465664&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^E&(S^v))+b[11]+643717713&4294967295,C=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(C^S))+b[0]+3921069994&4294967295,E=C+(w<<20&4294967295|w>>>12),w=v+(C^S&(E^C))+b[5]+3593408605&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^C&(v^E))+b[10]+38016083&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^E&(S^v))+b[15]+3634488961&4294967295,C=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(C^S))+b[4]+3889429448&4294967295,E=C+(w<<20&4294967295|w>>>12),w=v+(C^S&(E^C))+b[9]+568446438&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^C&(v^E))+b[14]+3275163606&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^E&(S^v))+b[3]+4107603335&4294967295,C=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(C^S))+b[8]+1163531501&4294967295,E=C+(w<<20&4294967295|w>>>12),w=v+(C^S&(E^C))+b[13]+2850285829&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^C&(v^E))+b[2]+4243563512&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^E&(S^v))+b[7]+1735328473&4294967295,C=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(C^S))+b[12]+2368359562&4294967295,E=C+(w<<20&4294967295|w>>>12),w=v+(E^C^S)+b[5]+4294588738&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^C)+b[8]+2272392833&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^E)+b[11]+1839030562&4294967295,C=S+(w<<16&4294967295|w>>>16),w=E+(C^S^v)+b[14]+4259657740&4294967295,E=C+(w<<23&4294967295|w>>>9),w=v+(E^C^S)+b[1]+2763975236&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^C)+b[4]+1272893353&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^E)+b[7]+4139469664&4294967295,C=S+(w<<16&4294967295|w>>>16),w=E+(C^S^v)+b[10]+3200236656&4294967295,E=C+(w<<23&4294967295|w>>>9),w=v+(E^C^S)+b[13]+681279174&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^C)+b[0]+3936430074&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^E)+b[3]+3572445317&4294967295,C=S+(w<<16&4294967295|w>>>16),w=E+(C^S^v)+b[6]+76029189&4294967295,E=C+(w<<23&4294967295|w>>>9),w=v+(E^C^S)+b[9]+3654602809&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^C)+b[12]+3873151461&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^E)+b[15]+530742520&4294967295,C=S+(w<<16&4294967295|w>>>16),w=E+(C^S^v)+b[2]+3299628645&4294967295,E=C+(w<<23&4294967295|w>>>9),w=v+(C^(E|~S))+b[0]+4096336452&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~C))+b[7]+1126891415&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~E))+b[14]+2878612391&4294967295,C=S+(w<<15&4294967295|w>>>17),w=E+(S^(C|~v))+b[5]+4237533241&4294967295,E=C+(w<<21&4294967295|w>>>11),w=v+(C^(E|~S))+b[12]+1700485571&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~C))+b[3]+2399980690&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~E))+b[10]+4293915773&4294967295,C=S+(w<<15&4294967295|w>>>17),w=E+(S^(C|~v))+b[1]+2240044497&4294967295,E=C+(w<<21&4294967295|w>>>11),w=v+(C^(E|~S))+b[8]+1873313359&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~C))+b[15]+4264355552&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~E))+b[6]+2734768916&4294967295,C=S+(w<<15&4294967295|w>>>17),w=E+(S^(C|~v))+b[13]+1309151649&4294967295,E=C+(w<<21&4294967295|w>>>11),w=v+(C^(E|~S))+b[4]+4149444226&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~C))+b[11]+3174756917&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~E))+b[2]+718787259&4294967295,C=S+(w<<15&4294967295|w>>>17),w=E+(S^(C|~v))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var E=v-this.blockSize,b=this.B,C=this.h,S=0;S<v;){if(C==0)for(;S<=E;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<v;)if(b[C++]=I.charCodeAt(S++),C==this.blockSize){i(this,b),C=0;break}}else for(;S<v;)if(b[C++]=I[S++],C==this.blockSize){i(this,b),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var E=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=E&255,E/=256;for(this.u(I),I=Array(16),v=E=0;4>v;++v)for(var b=0;32>b;b+=8)I[E++]=this.g[v]>>>b&255;return I};function o(I,v){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=v(I)}function s(I,v){this.h=v;for(var E=[],b=!0,C=I.length-1;0<=C;C--){var S=I[C]|0;b&&S==v||(E[C]=S,b=!1)}this.g=E}var a={};function l(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return A(u(-I));for(var v=[],E=1,b=0;I>=E;b++)v[b]=I/E|0,E*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return A(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(v,8)),b=p,C=0;C<I.length;C+=8){var S=Math.min(8,I.length-C),w=parseInt(I.substring(C,C+S),v);8>S?(S=u(Math.pow(v,S)),b=b.j(S).add(u(w))):(b=b.j(E),b=b.add(u(w)))}return b}var p=l(0),g=l(1),m=l(16777216);n=s.prototype,n.m=function(){if(D(this))return-A(this).m();for(var I=0,v=1,E=0;E<this.g.length;E++){var b=this.i(E);I+=(0<=b?b:4294967296+b)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(D(this))return"-"+A(this).toString(I);for(var v=u(Math.pow(I,6)),E=this,b="";;){var C=te(E,v).g;E=k(E,C.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=C,_(E))return S+b;for(;6>S.length;)S="0"+S;b=S+b}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function D(I){return I.h==-1}n.l=function(I){return I=k(this,I),D(I)?-1:_(I)?0:1};function A(I){for(var v=I.g.length,E=[],b=0;b<v;b++)E[b]=~I.g[b];return new s(E,~I.h).add(g)}n.abs=function(){return D(this)?A(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0,C=0;C<=v;C++){var S=b+(this.i(C)&65535)+(I.i(C)&65535),w=(S>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);b=w>>>16,S&=65535,w&=65535,E[C]=w<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(I,v){return I.add(A(v))}n.j=function(I){if(_(this)||_(I))return p;if(D(this))return D(I)?A(this).j(A(I)):A(A(this).j(I));if(D(I))return A(this.j(A(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var v=this.g.length+I.g.length,E=[],b=0;b<2*v;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<I.g.length;C++){var S=this.i(b)>>>16,w=this.i(b)&65535,nn=I.i(C)>>>16,Sr=I.i(C)&65535;E[2*b+2*C]+=w*Sr,U(E,2*b+2*C),E[2*b+2*C+1]+=S*Sr,U(E,2*b+2*C+1),E[2*b+2*C+1]+=w*nn,U(E,2*b+2*C+1),E[2*b+2*C+2]+=S*nn,U(E,2*b+2*C+2)}for(b=0;b<v;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=v;b<2*v;b++)E[b]=0;return new s(E,0)};function U(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function B(I,v){this.g=I,this.h=v}function te(I,v){if(_(v))throw Error("division by zero");if(_(I))return new B(p,p);if(D(I))return v=te(A(I),v),new B(A(v.g),A(v.h));if(D(v))return v=te(I,A(v)),new B(A(v.g),v.h);if(30<I.g.length){if(D(I)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,b=v;0>=b.l(I);)E=Je(E),b=Je(b);var C=ge(E,1),S=ge(b,1);for(b=ge(b,2),E=ge(E,2);!_(b);){var w=S.add(b);0>=w.l(I)&&(C=C.add(E),S=w),b=ge(b,1),E=ge(E,1)}return v=k(I,C.j(v)),new B(C,v)}for(C=p;0<=I.l(v);){for(E=Math.max(1,Math.floor(I.m()/v.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),S=u(E),w=S.j(v);D(w)||0<w.l(I);)E-=b,S=u(E),w=S.j(v);_(S)&&(S=g),C=C.add(S),I=k(I,w)}return new B(C,I)}n.A=function(I){return te(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)&I.i(b);return new s(E,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)|I.i(b);return new s(E,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)^I.i(b);return new s(E,this.h^I.h)};function Je(I){for(var v=I.g.length+1,E=[],b=0;b<v;b++)E[b]=I.i(b)<<1|I.i(b-1)>>>31;return new s(E,I.h)}function ge(I,v){var E=v>>5;v%=32;for(var b=I.g.length-E,C=[],S=0;S<b;S++)C[S]=0<v?I.i(S+E)>>>v|I.i(S+E+1)<<32-v:I.i(S+E);return new s(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yv=SS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,_r=SS.Integer=s}).apply(typeof TS<"u"?TS:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wr={};var vv,Sj,cs,_v,xc,oh,wv,Ev,bv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var T=c[y];if(!(T in f))break e;f=f[T]}c=c[c.length-1],y=f[c],d=d(y),d!=y&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,y=!1,T={next:function(){if(!y&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return y=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,y),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function _(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(y,T,M){for(var j=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)j[ke-2]=arguments[ke];return d.prototype[T].apply(y,j)}}function D(c){let d=c.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=c[y];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(l(y)){let T=c.length||0,M=y.length||0;c.length=T+M;for(let j=0;j<M;j++)c[T+j]=y[j]}else c.push(y)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var Je=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ge(c,d,f){for(let y in c)d.call(f,c[y],y,c)}function I(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,y;for(let T=1;T<arguments.length;T++){y=arguments[T];for(f in y)c[f]=y[f];for(let M=0;M<E.length;M++)f=E[M],Object.prototype.hasOwnProperty.call(y,f)&&(c[f]=y[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function w(){var c=ye;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class nn{constructor(){this.h=this.g=null}add(d,f){let y=Sr.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Sr=new k(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let K,Z=!1,ye=new nn,et=()=>{let c=a.Promise.resolve(void 0);K=()=>{c.then(rn)}};var rn=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){S(f)}var d=Sr;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Z=!1};function We(){this.s=this.s,this.C=this.C}We.prototype.s=!1,We.prototype.ma=function(){this.s||(this.s=!0,this.N())},We.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ar(c,d){if(je.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Je){e:{try{te(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Cf[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ar.aa.h.call(this)}}_(Ar,je);var Cf={2:"touch",3:"pen",4:"mouse"};Ar.prototype.h=function(){Ar.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Qn=0;function Vt(c,d,f,y,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=T,this.key=++Qn,this.da=this.fa=!1}function Yn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Mr(c){this.src=c,this.g={},this.h=0}Mr.prototype.add=function(c,d,f,y,T){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var j=Sf(c,d,y,T);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new Vt(d,this.src,M,!!y,T),d.fa=f,c.push(d)),d};function Tf(c,d){var f=d.type;if(f in c.g){var y=c.g[f],T=Array.prototype.indexOf.call(y,d,void 0),M;(M=0<=T)&&Array.prototype.splice.call(y,T,1),M&&(Yn(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Sf(c,d,f,y){for(var T=0;T<c.length;++T){var M=c[T];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==y)return T}return-1}var Af="closure_lm_"+(1e6*Math.random()|0),Mf={};function Vw(c,d,f,y,T){if(y&&y.once)return jw(c,d,f,y,T);if(Array.isArray(d)){for(var M=0;M<d.length;M++)Vw(c,d[M],f,y,T);return null}return f=Pf(f),c&&c[Ke]?c.K(d,f,u(y)?!!y.capture:!!y,T):Lw(c,d,f,!1,y,T)}function Lw(c,d,f,y,T,M){if(!d)throw Error("Invalid event type");var j=u(T)?!!T.capture:!!T,ke=Rf(c);if(ke||(c[Af]=ke=new Mr(c)),f=ke.add(d,f,y,j,M),f.proxy)return f;if(y=gx(),f.proxy=y,y.src=c,y.listener=f,c.addEventListener)Be||(T=j),T===void 0&&(T=!1),c.addEventListener(d.toString(),y,T);else if(c.attachEvent)c.attachEvent(Uw(d.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gx(){function c(f){return d.call(c.src,c.listener,f)}let d=mx;return c}function jw(c,d,f,y,T){if(Array.isArray(d)){for(var M=0;M<d.length;M++)jw(c,d[M],f,y,T);return null}return f=Pf(f),c&&c[Ke]?c.L(d,f,u(y)?!!y.capture:!!y,T):Lw(c,d,f,!0,y,T)}function Bw(c,d,f,y,T){if(Array.isArray(d))for(var M=0;M<d.length;M++)Bw(c,d[M],f,y,T);else y=u(y)?!!y.capture:!!y,f=Pf(f),c&&c[Ke]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=Sf(M,f,y,T),-1<f&&(Yn(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=Rf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Sf(d,f,y,T)),(f=-1<c?d[c]:null)&&xf(f))}function xf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ke])Tf(d.i,c);else{var f=c.type,y=c.proxy;d.removeEventListener?d.removeEventListener(f,y,c.capture):d.detachEvent?d.detachEvent(Uw(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=Rf(d))?(Tf(f,c),f.h==0&&(f.src=null,d[Af]=null)):Yn(c)}}}function Uw(c){return c in Mf?Mf[c]:Mf[c]="on"+c}function mx(c,d){if(c.da)c=!0;else{d=new Ar(d,this);var f=c.listener,y=c.ha||c.src;c.fa&&xf(c),c=f.call(y,d)}return c}function Rf(c){return c=c[Af],c instanceof Mr?c:null}var Nf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pf(c){return typeof c=="function"?c:(c[Nf]||(c[Nf]=function(d){return c.handleEvent(d)}),c[Nf])}function It(){We.call(this),this.i=new Mr(this),this.M=this,this.F=null}_(It,We),It.prototype[Ke]=!0,It.prototype.removeEventListener=function(c,d,f,y){Bw(this,c,d,f,y)};function Pt(c,d){var f,y=c.F;if(y)for(f=[];y;y=y.F)f.push(y);if(c=c.M,y=d.type||d,typeof d=="string")d=new je(d,c);else if(d instanceof je)d.target=d.target||c;else{var T=d;d=new je(y,c),b(d,T)}if(T=!0,f)for(var M=f.length-1;0<=M;M--){var j=d.g=f[M];T=nl(j,y,!0,d)&&T}if(j=d.g=c,T=nl(j,y,!0,d)&&T,T=nl(j,y,!1,d)&&T,f)for(M=0;M<f.length;M++)j=d.g=f[M],T=nl(j,y,!1,d)&&T}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],y=0;y<f.length;y++)Yn(f[y]);delete c.g[d],c.h--}}this.F=null},It.prototype.K=function(c,d,f,y){return this.i.add(String(c),d,!1,f,y)},It.prototype.L=function(c,d,f,y){return this.i.add(String(c),d,!0,f,y)};function nl(c,d,f,y){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,M=0;M<d.length;++M){var j=d[M];if(j&&!j.da&&j.capture==f){var ke=j.listener,_t=j.ha||j.src;j.fa&&Tf(c.i,j),T=ke.call(_t,y)!==!1&&T}}return T&&!y.defaultPrevented}function $w(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function zw(c){c.g=$w(()=>{c.g=null,c.i&&(c.i=!1,zw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class yx extends We{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(c){We.call(this),this.h=c,this.g={}}_($s,We);var Hw=[];function qw(c){ge(c.g,function(d,f){this.g.hasOwnProperty(f)&&xf(d)},c),c.g={}}$s.prototype.N=function(){$s.aa.N.call(this),qw(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Of=a.JSON.stringify,vx=a.JSON.parse,_x=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function kf(){}kf.prototype.h=null;function Gw(c){return c.h||(c.h=c.i())}function Ww(){}var zs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ff(){je.call(this,"d")}_(Ff,je);function Vf(){je.call(this,"c")}_(Vf,je);var oi={},Kw=null;function rl(){return Kw=Kw||new It}oi.La="serverreachability";function Qw(c){je.call(this,oi.La,c)}_(Qw,je);function Hs(c){let d=rl();Pt(d,new Qw(d))}oi.STAT_EVENT="statevent";function Yw(c,d){je.call(this,oi.STAT_EVENT,c),this.stat=d}_(Yw,je);function Ot(c){let d=rl();Pt(d,new Yw(d,c))}oi.Ma="timingevent";function Zw(c,d){je.call(this,oi.Ma,c),this.size=d}_(Zw,je);function qs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Gs(){this.g=!0}Gs.prototype.xa=function(){this.g=!1};function wx(c,d,f,y,T,M){c.info(function(){if(c.g)if(M)for(var j="",ke=M.split("&"),_t=0;_t<ke.length;_t++){var Te=ke[_t].split("=");if(1<Te.length){var Dt=Te[0];Te=Te[1];var Ct=Dt.split("_");j=2<=Ct.length&&Ct[1]=="type"?j+(Dt+"="+Te+"&"):j+(Dt+"=redacted&")}}else j=null;else j=M;return"XMLHTTP REQ ("+y+") [attempt "+T+"]: "+d+`
`+f+`
`+j})}function Ex(c,d,f,y,T,M,j){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+T+"]: "+d+`
`+f+`
`+M+" "+j})}function no(c,d,f,y){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ix(c,f)+(y?" "+y:"")})}function bx(c,d){c.info(function(){return"TIMEOUT: "+d})}Gs.prototype.info=function(){};function Ix(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var y=f[c];if(!(2>y.length)){var T=y[1];if(Array.isArray(T)&&!(1>T.length)){var M=T[0];if(M!="noop"&&M!="stop"&&M!="close")for(var j=1;j<T.length;j++)T[j]=""}}}}return Of(f)}catch{return d}}var il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lf;function ol(){}_(ol,kf),ol.prototype.g=function(){return new XMLHttpRequest},ol.prototype.i=function(){return{}},Lf=new ol;function xr(c,d,f,y){this.j=c,this.i=d,this.l=f,this.R=y||1,this.U=new $s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jw}function Jw(){this.i=null,this.g="",this.h=!1}var eE={},jf={};function Bf(c,d,f){c.L=1,c.v=ll(Zn(d)),c.m=f,c.P=!0,tE(c,null)}function tE(c,d){c.F=Date.now(),sl(c),c.A=Zn(c.v);var f=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),gE(f.i,"t",y),c.C=0,f=c.j.J,c.h=new Jw,c.g=PE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new yx(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,y=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(Hw[0]=T.toString()),T=Hw);for(var M=0;M<T.length;M++){var j=Vw(f,T[M],y||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Hs(),wx(c.i,c.u,c.A,c.l,c.R,c.m)}xr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Xn(c)==3?d.j():this.Y(c)},xr.prototype.Y=function(c){try{if(c==this.g)e:{let Ct=Xn(this.g);var d=this.g.Ba();let oo=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||bE(this.g)))){this.J||Ct!=4||d==7||(d==8||0>=oo?Hs(3):Hs(2)),Uf(this);var f=this.g.Z();this.X=f;t:if(nE(this)){var y=bE(this.g);c="";var T=y.length,M=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),Ws(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(y[d],{stream:!(M&&d==T-1)});y.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,Ex(this.i,this.u,this.A,this.l,this.R,Ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,_t=this.g;if((ke=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(ke)){var Te=ke;break t}}Te=null}if(f=Te)no(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$f(this,f);else{this.o=!1,this.s=3,Ot(12),si(this),Ws(this);break e}}if(this.P){f=!0;let gn;for(;!this.J&&this.C<j.length;)if(gn=Dx(this,j),gn==jf){Ct==4&&(this.s=4,Ot(14),f=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==eE){this.s=4,Ot(15),no(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else no(this.i,this.l,gn,null),$f(this,gn);if(nE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||j.length!=0||this.h.h||(this.s=1,Ot(16),f=!1),this.o=this.o&&f,!f)no(this.i,this.l,j,"[Invalid Chunked Response]"),si(this),Ws(this);else if(0<j.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Kf(Dt),Dt.M=!0,Ot(11))}}else no(this.i,this.l,j,null),$f(this,j);Ct==4&&si(this),this.o&&!this.J&&(Ct==4?ME(this.j,this):(this.o=!1,sl(this)))}else Ux(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),si(this),Ws(this)}}}catch{}finally{}};function nE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Dx(c,d){var f=c.C,y=d.indexOf(`
`,f);return y==-1?jf:(f=Number(d.substring(f,y)),isNaN(f)?eE:(y+=1,y+f>d.length?jf:(d=d.slice(y,y+f),c.C=y+f,d)))}xr.prototype.cancel=function(){this.J=!0,si(this)};function sl(c){c.S=Date.now()+c.I,rE(c,c.I)}function rE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=qs(g(c.ba,c),d)}function Uf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}xr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(bx(this.i,this.A),this.L!=2&&(Hs(),Ot(17)),si(this),this.s=2,Ws(this)):rE(this,this.S-c)};function Ws(c){c.j.G==0||c.J||ME(c.j,c)}function si(c){Uf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,qw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function $f(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||zf(f.h,c))){if(!c.K&&zf(f.h,c)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var T=y;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)pl(f),hl(f);else break e;Wf(f),Ot(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=qs(g(f.Za,f),6e3));if(1>=sE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ci(f,11)}else if((c.K||f.g==c)&&pl(f),!U(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let Te=T[d];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];let Dt=Te[3];Dt!=null&&(f.la=Dt,f.j.info("VER="+f.la));let Ct=Te[4];Ct!=null&&(f.Aa=Ct,f.j.info("SVER="+f.Aa));let oo=Te[5];oo!=null&&typeof oo=="number"&&0<oo&&(y=1.5*oo,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let gn=c.g;if(gn){let ml=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var M=y.h;M.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Hf(M,M.h),M.h=null))}if(y.D){let Qf=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qf&&(y.ya=Qf,Ue(y.I,y.D,Qf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var j=c;if(y.qa=NE(y,y.J?y.ia:null,y.W),j.K){aE(y.h,j);var ke=j,_t=y.L;_t&&(ke.I=_t),ke.B&&(Uf(ke),sl(ke)),y.g=j}else SE(y);0<f.i.length&&fl(f)}else Te[0]!="stop"&&Te[0]!="close"||ci(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?ci(f,7):Gf(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}Hs(4)}catch{}}var Cx=class{constructor(c,d){this.g=c,this.map=d}};function iE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sE(c){return c.h?1:c.g?c.g.size:0}function zf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Hf(c,d){c.g?c.g.add(d):c.h=d}function aE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}iE.prototype.cancel=function(){if(this.i=cE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function cE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return D(c.i)}function Tx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,y=0;y<f;y++)d.push(c[y]);return d}d=[],f=0;for(y in c)d[f++]=c[y];return d}function Sx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let y in c)d[f++]=y;return d}}}function lE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Sx(c),y=Tx(c),T=y.length,M=0;M<T;M++)d.call(void 0,y[M],f&&f[M],c)}var uE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ax(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var y=c[f].indexOf("="),T=null;if(0<=y){var M=c[f].substring(0,y);T=c[f].substring(y+1)}else M=c[f];d(M,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ai(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ai){this.h=c.h,al(this,c.j),this.o=c.o,this.g=c.g,cl(this,c.s),this.l=c.l;var d=c.i,f=new Ys;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),dE(this,f),this.m=c.m}else c&&(d=String(c).match(uE))?(this.h=!1,al(this,d[1]||"",!0),this.o=Ks(d[2]||""),this.g=Ks(d[3]||"",!0),cl(this,d[4]),this.l=Ks(d[5]||"",!0),dE(this,d[6]||"",!0),this.m=Ks(d[7]||"")):(this.h=!1,this.i=new Ys(null,this.h))}ai.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Qs(d,hE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Qs(d,hE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Qs(f,f.charAt(0)=="/"?Rx:xx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Qs(f,Px)),c.join("")};function Zn(c){return new ai(c)}function al(c,d,f){c.j=f?Ks(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function cl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function dE(c,d,f){d instanceof Ys?(c.i=d,Ox(c.i,c.h)):(f||(d=Qs(d,Nx)),c.i=new Ys(d,c.h))}function Ue(c,d,f){c.i.set(d,f)}function ll(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ks(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Mx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hE=/[#\/\?@]/g,xx=/[#\?:]/g,Rx=/[#\?]/g,Nx=/[#\?@]/g,Px=/#/g;function Ys(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Rr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ax(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ys.prototype,n.add=function(c,d){Rr(this),this.i=null,c=ro(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function fE(c,d){Rr(c),d=ro(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function pE(c,d){return Rr(c),d=ro(c,d),c.g.has(d)}n.forEach=function(c,d){Rr(this),this.g.forEach(function(f,y){f.forEach(function(T){c.call(d,T,y,this)},this)},this)},n.na=function(){Rr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let T=c[y];for(let M=0;M<T.length;M++)f.push(d[y])}return f},n.V=function(c){Rr(this);let d=[];if(typeof c=="string")pE(this,c)&&(d=d.concat(this.g.get(ro(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Rr(this),this.i=null,c=ro(this,c),pE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function gE(c,d,f){fE(c,d),0<f.length&&(c.i=null,c.g.set(ro(c,d),D(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let M=encodeURIComponent(String(y)),j=this.V(y);for(y=0;y<j.length;y++){var T=M;j[y]!==""&&(T+="="+encodeURIComponent(String(j[y]))),c.push(T)}}return this.i=c.join("&")};function ro(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Ox(c,d){d&&!c.j&&(Rr(c),c.i=null,c.g.forEach(function(f,y){var T=y.toLowerCase();y!=T&&(fE(this,y),gE(this,T,f))},c)),c.j=d}function kx(c,d){let f=new Gs;if(a.Image){let y=new Image;y.onload=m(Nr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(Nr,f,"TestLoadImage: error",!1,d,y),y.onabort=m(Nr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(Nr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else d(!1)}function Fx(c,d){let f=new Gs,y=new AbortController,T=setTimeout(()=>{y.abort(),Nr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:y.signal}).then(M=>{clearTimeout(T),M.ok?Nr(f,"TestPingServer: ok",!0,d):Nr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Nr(f,"TestPingServer: error",!1,d)})}function Nr(c,d,f,y,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),y(f)}catch{}}function Vx(){this.g=new _x}function Lx(c,d,f){let y=f||"";try{lE(c,function(T,M){let j=T;u(T)&&(j=Of(T)),d.push(y+M+"="+encodeURIComponent(j))})}catch(T){throw d.push(y+"type="+encodeURIComponent("_badmap")),T}}function Zs(c){this.l=c.Ub||null,this.j=c.eb||!1}_(Zs,kf),Zs.prototype.g=function(){return new ul(this.l,this.j)},Zs.prototype.i=function(c){return function(){return c}}({});function ul(c,d){It.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ul,It),n=ul.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Js(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Xs(this):Js(this),this.readyState==3&&mE(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Xs(this))},n.Qa=function(c){this.g&&(this.response=c,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Js(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Js(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yE(c){let d="";return ge(c,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function qf(c,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=yE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ue(c,d,f))}function Qe(c){It.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Qe,It);var jx=/^https?$/i,Bx=["POST","PUT"];n=Qe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lf.g(),this.v=this.o?Gw(this.o):Gw(Lf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){vE(this,M);return}if(c=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var T in y)f.set(T,y[T]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let M of y.keys())f.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bx,d,void 0))||y||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,j]of f)this.g.setRequestHeader(M,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{EE(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){vE(this,M)}};function vE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,_E(c),dl(c)}function _E(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),dl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dl(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wE(this):this.bb())},n.bb=function(){wE(this)};function wE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)$w(c.Ea,0,c);else if(Pt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=j===0){var T=String(c.D).match(uE)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),y=!jx.test(T?T.toLowerCase():"")}f=y}if(f)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var M=2<Xn(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",_E(c)}}finally{dl(c)}}}}function dl(c,d){if(c.g){EE(c);let f=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Pt(c,"ready");try{f.onreadystatechange=y}catch{}}}function EE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),vx(d)}};function bE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ux(c){let d={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(U(c[y]))continue;var f=C(c[y]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[T]||[];d[T]=M,M.push(f)}I(d,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function IE(c){this.Aa=0,this.i=[],this.j=new Gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,c),this.cb=ea("retryDelaySeedMs",1e4,c),this.Wa=ea("forwardChannelMaxRetries",2,c),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new iE(c&&c.concurrentRequestLimit),this.Da=new Vx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=IE.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,y){Ot(0),this.W=c,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=NE(this,null,this.W),fl(this)};function Gf(c){if(DE(c),c.G==3){var d=c.U++,f=Zn(c.I);if(Ue(f,"SID",c.K),Ue(f,"RID",d),Ue(f,"TYPE","terminate"),ta(c,f),d=new xr(c,c.j,d),d.L=2,d.v=ll(Zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=PE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),sl(d)}RE(c)}function hl(c){c.g&&(Kf(c),c.g.cancel(),c.g=null)}function DE(c){hl(c),c.u&&(a.clearTimeout(c.u),c.u=null),pl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function fl(c){if(!oE(c.h)&&!c.s){c.s=!0;var d=c.Ga;K||et(),Z||(K(),Z=!0),ye.add(d,c),c.B=0}}function $x(c,d){return sE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=qs(g(c.Ga,c,d),xE(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new xr(this,this.j,c),M=this.o;if(this.S&&(M?(M=v(M),b(M,this.S)):M=this.S),this.m!==null||this.O||(T.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=TE(this,T,d),f=Zn(this.I),Ue(f,"RID",c),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),ta(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(yE(M)))+"&"+d:this.m&&qf(f,this.m,M)),Hf(this.h,T),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",d),Ue(f,"SID","null"),T.T=!0,Bf(T,f,null)):Bf(T,f,d),this.G=2}}else this.G==3&&(c?CE(this,c):this.i.length==0||oE(this.h)||CE(this))};function CE(c,d){var f;d?f=d.l:f=c.U++;let y=Zn(c.I);Ue(y,"SID",c.K),Ue(y,"RID",f),Ue(y,"AID",c.T),ta(c,y),c.m&&c.o&&qf(y,c.m,c.o),f=new xr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=TE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hf(c.h,f),Bf(f,y,d)}function ta(c,d){c.H&&ge(c.H,function(f,y){Ue(d,y,f)}),c.l&&lE({},function(f,y){Ue(d,y,f)})}function TE(c,d,f){f=Math.min(c.i.length,f);var y=c.l?g(c.l.Na,c.l,c):null;e:{var T=c.i;let M=-1;for(;;){let j=["count="+f];M==-1?0<f?(M=T[0].g,j.push("ofs="+M)):M=0:j.push("ofs="+M);let ke=!0;for(let _t=0;_t<f;_t++){let Te=T[_t].g,Dt=T[_t].map;if(Te-=M,0>Te)M=Math.max(0,T[_t].g-100),ke=!1;else try{Lx(Dt,j,"req"+Te+"_")}catch{y&&y(Dt)}}if(ke){y=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,y}function SE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;K||et(),Z||(K(),Z=!0),ye.add(d,c),c.v=0}}function Wf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=qs(g(c.Fa,c),xE(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,AE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=qs(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),hl(this),AE(this))};function Kf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function AE(c){c.g=new xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Zn(c.qa);Ue(d,"RID","rpc"),Ue(d,"SID",c.K),Ue(d,"AID",c.T),Ue(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(d,"TO",c.ja),Ue(d,"TYPE","xmlhttp"),ta(c,d),c.m&&c.o&&qf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ll(Zn(d)),f.m=null,f.P=!0,tE(f,c)}n.Za=function(){this.C!=null&&(this.C=null,hl(this),Wf(this),Ot(19))};function pl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ME(c,d){var f=null;if(c.g==d){pl(c),Kf(c),c.g=null;var y=2}else if(zf(c.h,d))f=d.D,aE(c.h,d),y=1;else return;if(c.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;y=rl(),Pt(y,new Zw(y,f)),fl(c)}else SE(c);else if(T=d.s,T==3||T==0&&0<d.X||!(y==1&&$x(c,d)||y==2&&Wf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:ci(c,5);break;case 4:ci(c,10);break;case 3:ci(c,6);break;default:ci(c,2)}}}function xE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ci(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),y=c.Xa;let T=!y;y=new ai(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||al(y,"https"),ll(y),T?kx(y.toString(),f):Fx(y.toString(),f)}else Ot(2);c.G=0,c.l&&c.l.sa(d),RE(c),DE(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function RE(c){if(c.G=0,c.ka=[],c.l){let d=cE(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function NE(c,d,f){var y=f instanceof ai?Zn(f):new ai(f);if(y.g!="")d&&(y.g=d+"."+y.g),cl(y,y.s);else{var T=a.location;y=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var M=new ai(null);y&&al(M,y),d&&(M.g=d),T&&cl(M,T),f&&(M.l=f),y=M}return f=c.D,d=c.ya,f&&d&&Ue(y,f,d),Ue(y,"VER",c.la),ta(c,y),y}function PE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Qe(new Zs({eb:f})):new Qe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function OE(){}n=OE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gl(){}gl.prototype.g=function(c,d){return new Wt(c,d)};function Wt(c,d){It.call(this),this.g=new IE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new io(this)}_(Wt,It),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Gf(this.g)},Wt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Of(c),c=f);d.i.push(new Cx(d.Ya++,c)),d.G==3&&fl(d)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Gf(this.g),delete this.g,Wt.aa.N.call(this)};function kE(c){Ff.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}_(kE,Ff);function FE(){Vf.call(this),this.status=1}_(FE,Vf);function io(c){this.g=c}_(io,OE),io.prototype.ua=function(){Pt(this.g,"a")},io.prototype.ta=function(c){Pt(this.g,new kE(c))},io.prototype.sa=function(c){Pt(this.g,new FE)},io.prototype.ra=function(){Pt(this.g,"b")},gl.prototype.createWebChannel=gl.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,bv=wr.createWebChannelTransport=function(){return new gl},Ev=wr.getStatEventTarget=function(){return rl()},wv=wr.Event=oi,oh=wr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},il.NO_ERROR=0,il.TIMEOUT=8,il.HTTP_ERROR=6,xc=wr.ErrorCode=il,Xw.COMPLETE="complete",_v=wr.EventType=Xw,Ww.EventType=zs,zs.OPEN="a",zs.CLOSE="b",zs.ERROR="c",zs.MESSAGE="d",It.prototype.listen=It.prototype.K,cs=wr.WebChannel=Ww,Sj=wr.FetchXmlHttpFactory=Zs,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,vv=wr.XhrIo=Qe}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});var AS="@firebase/firestore",MS="4.7.17";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var Ns="11.9.0";var Ki=new as("@firebase/firestore");function ls(){return Ki.logLevel}function z(n,...e){if(Ki.logLevel<=Ie.DEBUG){let t=e.map(aw);Ki.debug(`Firestore (${Ns}): ${n}`,...t)}}function Er(n,...e){if(Ki.logLevel<=Ie.ERROR){let t=e.map(aw);Ki.error(`Firestore (${Ns}): ${n}`,...t)}}function ms(n,...e){if(Ki.logLevel<=Ie.WARN){let t=e.map(aw);Ki.warn(`Firestore (${Ns}): ${n}`,...t)}}function aw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function J(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_A(n,r,t)}function _A(n,e,t){let r=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Er(r),new Error(r)}function Ne(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||_A(e,i,r)}function ie(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var hh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Sv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yt.UNAUTHENTICATED))}shutdown(){}},Av=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Mv=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ne(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>R(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new hh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new yt(e)}},xv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Rv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new xv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},fh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Nv=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ES(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ne(this.o===void 0,3512);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new fh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Aj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function wA(){return new TextEncoder}var ph=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Aj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function Pv(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return pe(r,i);{let o=wA(),s=Mj(o.encode(xS(n,t)),o.encode(xS(e,t)));return s!==0?s:pe(r,i)}}t+=r>65535?2:1}return pe(n.length,e.length)}function xS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Mj(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return pe(n[t],e[t]);return pe(n.length,e.length)}function ys(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var RS=-62135596800,NS=1e6,bt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*NS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<RS)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NS}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-RS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new bt(0,0))}static max(){return new n(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var PS="__name__",gh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&J(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&J(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return pe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Pv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}},Ze=class n extends gh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},xj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tn=class n extends gh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return xj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PS}static keyField(){return new n([PS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Y(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ee=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ze.fromString(e))}static fromName(e){return new n(Ze.fromString(e).popFirst(5))}static empty(){return new n(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ze(e.slice()))}};var Fc=-1,Ov=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Ov.UNKNOWN_ID=-1;function Rj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new Qi(i,ee.empty(),e)}function Nj(n){return new Qi(n.readTime,n.key,Fc)}var Qi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),ee.empty(),Fc)}static max(){return new n(ae.max(),ee.empty(),Fc)}};function Pj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ee.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var Oj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ps(n){return R(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==Oj)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function kj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Os(n){return n.name==="IndexedDbTransactionError"}var cw=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),lw=-1;function Yh(n){return n==null}function Vc(n){return n===0&&1/n==-1/0}function Fj(n){return typeof n=="number"&&Number.isInteger(n)&&!Vc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var EA="";function Vj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OS(e)),e=Lj(n.get(t),e);return OS(e)}function Lj(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case EA:t+="";break;default:t+=o}}return t}function OS(n){return n+EA+""}var jj="remoteDocuments",bA="owner";var IA="mutationQueues";var DA="mutations";var CA="documentMutations",Bj="remoteDocumentsV14";var TA="remoteDocumentGlobal";var SA="targets";var AA="targetDocuments";var MA="targetGlobal",xA="collectionParents";var RA="clientMetadata";var NA="bundles";var PA="namedQueries";var Uj="indexConfiguration";var $j="indexState";var zj="indexEntries";var OA="documentOverlays";var Hj="globals";var qj=[IA,DA,CA,jj,SA,bA,MA,AA,RA,TA,xA,NA,PA],b7=[...qj,OA],Gj=[IA,DA,CA,Bj,SA,bA,MA,AA,RA,TA,xA,NA,PA,OA],Wj=Gj,Kj=[...Wj,Uj,$j,zj];var I7=[...Kj,Hj];function kS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ii(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Xe=class n{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}},fs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Hn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}};Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vt=class n{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mh(this.data.getIterator())}getIteratorFrom(e){return new mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},mh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var $n=class n{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new n([])}unionWith(e){let t=new vt(tn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var yh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Rt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Rt.EMPTY_BYTE_STRING=new Rt("");var Qj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(n){if(Ne(!!n,39018),typeof n=="string"){let e=0,t=Qj.exec(n);if(Ne(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(n.seconds),nanos:qe(n.nanos)}}function qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ir(n){return typeof n=="string"?Rt.fromBase64String(n):Rt.fromUint8Array(n)}var FA="server_timestamp",VA="__type__",LA="__previous_value__",jA="__local_write_time__";function uw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[VA])===null||t===void 0?void 0:t.stringValue)===FA}function Zh(n){let e=n.mapValue.fields[LA];return uw(e)?Zh(e):e}function Lc(n){let e=br(n.mapValue.fields[jA].timestampValue);return new bt(e.seconds,e.nanos)}var Fv=class{constructor(e,t,r,i,o,s,a,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}},vh="(default)",_h=class n{constructor(e,t){this.projectId=e,this.database=t||vh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var dw="__type__",BA="__max__",sh={mapValue:{fields:{__type__:{stringValue:BA}}}},hw="__vector__",vs="value";function ti(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uw(n)?4:$A(n)?9007199254740991:UA(n)?10:11:J(28295,{value:n})}function Wn(n,e){if(n===e)return!0;let t=ti(n);if(t!==ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lc(n).isEqual(Lc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=br(i.timestampValue),a=br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ir(i.bytesValue).isEqual(Ir(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return qe(i.geoPointValue.latitude)===qe(o.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return qe(i.integerValue)===qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=qe(i.doubleValue),a=qe(o.doubleValue);return s===a?Vc(s)===Vc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ys(n.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(kS(s)!==kS(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Wn(s[l],a[l])))return!1;return!0}(n,e);default:return J(52216,{left:n})}}function jc(n,e){return(n.values||[]).find(t=>Wn(t,e))!==void 0}function _s(n,e){if(n===e)return 0;let t=ti(n),r=ti(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=qe(o.integerValue||o.doubleValue),l=qe(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return FS(n.timestampValue,e.timestampValue);case 4:return FS(Lc(n),Lc(e));case 5:return Pv(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ir(o),l=Ir(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=pe(a[u],l[u]);if(h!==0)return h}return pe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=pe(qe(o.latitude),qe(s.latitude));return a!==0?a:pe(qe(o.longitude),qe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return VS(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let p=o.fields||{},g=s.fields||{},m=(a=p[vs])===null||a===void 0?void 0:a.arrayValue,_=(l=g[vs])===null||l===void 0?void 0:l.arrayValue,D=pe(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((h=_?.values)===null||h===void 0?void 0:h.length)||0);return D!==0?D:VS(m,_)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===sh.mapValue&&s===sh.mapValue)return 0;if(o===sh.mapValue)return 1;if(s===sh.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let g=Pv(l[p],h[p]);if(g!==0)return g;let m=_s(a[l[p]],u[h[p]]);if(m!==0)return m}return pe(l.length,h.length)}(n.mapValue,e.mapValue);default:throw J(23264,{Pe:t})}}function FS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=br(n),r=br(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function VS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=_s(t[i],r[i]);if(o)return o}return pe(t.length,r.length)}function ws(n){return Vv(n)}function Vv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=br(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ir(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Vv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Vv(t.fields[s])}`;return i+"}"}(n.mapValue):J(61005,{value:n})}function lh(n){switch(ti(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Zh(n);return e?16+lh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ir(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+lh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ii(r.fields,(o,s)=>{i+=o.length+lh(s)}),i}(n.mapValue);default:throw J(13486,{value:n})}}function Lv(n){return!!n&&"integerValue"in n}function fw(n){return!!n&&"arrayValue"in n}function LS(n){return!!n&&"nullValue"in n}function jS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uh(n){return!!n&&"mapValue"in n}function UA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[dw])===null||t===void 0?void 0:t.stringValue)===hw}function Nc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ii(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $A(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===BA}var C7={mapValue:{fields:{[dw]:{stringValue:hw},[vs]:{arrayValue:{}}}}};var pn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(t)}setAll(e){let t=tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Nc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ii(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Nc(this.value))}};function zA(n){let e=[];return ii(n.fields,(t,r)=>{let i=new tn([t]);if(uh(r)){let o=zA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new $n(e)}var An=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),pn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Es=class{constructor(e,t){this.position=e,this.inclusive=t}};function BS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),t.key):r=_s(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function US(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wn(n.position[t],e.position[t]))return!1;return!0}var bs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Yj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var wh=class{},ft=class n extends wh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Bv(e,t,r):t==="array-contains"?new zv(e,r):t==="in"?new Hv(e,r):t==="not-in"?new qv(e,r):t==="array-contains-any"?new Gv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Uv(e,r):new $v(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(_s(t,this.value)):t!==null&&ti(this.value)===ti(t)&&this.matchesComparison(_s(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Kn=class n extends wh{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return HA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function HA(n){return n.op==="and"}function qA(n){return Zj(n)&&HA(n)}function Zj(n){for(let e of n.filters)if(e instanceof Kn)return!1;return!0}function jv(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+ws(n.value);if(qA(n))return n.filters.map(e=>jv(e)).join(",");{let e=n.filters.map(t=>jv(t)).join(",");return`${n.op}(${e})`}}function GA(n,e){return n instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&Wn(r.value,i.value)}(n,e):n instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&GA(s,i.filters[a]),!0):!1}(n,e):void J(19439)}function WA(n){return n instanceof ft?function(t){return`${t.field.canonicalString()} ${t.op} ${ws(t.value)}`}(n):n instanceof Kn?function(t){return t.op.toString()+" {"+t.getFilters().map(WA).join(" ,")+"}"}(n):"Filter"}var Bv=class extends ft{constructor(e,t,r){super(e,t,r),this.key=ee.fromName(r.referenceValue)}matches(e){let t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}},Uv=class extends ft{constructor(e,t){super(e,"in",t),this.keys=KA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},$v=class extends ft{constructor(e,t){super(e,"not-in",t),this.keys=KA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function KA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ee.fromName(r.referenceValue))}var zv=class extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return fw(t)&&jc(t.arrayValue,this.value)}},Hv=class extends ft{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&jc(this.value.arrayValue,t)}},qv=class extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!jc(this.value.arrayValue,t)}},Gv=class extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!fw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>jc(this.value.arrayValue,r))}};var Wv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function $S(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Wv(n,e,t,r,i,o,s)}function pw(n){let e=ie(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ws(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ws(r)).join(",")),e.Ie=t}return e.Ie}function gw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!US(n.startAt,e.startAt)&&US(n.endAt,e.endAt)}function Kv(n){return ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Is=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function Xj(n,e,t,r,i,o,s,a){return new Is(n,e,t,r,i,o,s,a)}function Xh(n){return new Is(n)}function zS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Jj(n){return n.collectionGroup!==null}function Pc(n){let e=ie(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new vt(tn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new bs(o,r))}),t.has(tn.keyField().canonicalString())||e.Ee.push(new bs(tn.keyField(),r))}return e.Ee}function qn(n){let e=ie(n);return e.de||(e.de=eB(e,Pc(n))),e.de}function eB(n,e){if(n.limitType==="F")return $S(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new bs(i.field,o)});let t=n.endAt?new Es(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Es(n.startAt.position,n.startAt.inclusive):null;return $S(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Qv(n,e,t){return new Is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jh(n,e){return gw(qn(n),qn(e))&&n.limitType===e.limitType}function QA(n){return`${pw(qn(n))}|lt:${n.limitType}`}function us(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>WA(i)).join(", ")}]`),Yh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ws(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ws(i)).join(",")),`Target(${r})`}(qn(n))}; limitType=${n.limitType})`}function ef(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Pc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=BS(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Pc(r),i)||r.endAt&&!function(s,a,l){let u=BS(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Pc(r),i))}(n,e)}function tB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YA(n){return(e,t)=>{let r=!1;for(let i of Pc(n)){let o=nB(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nB(n,e,t){let r=n.field.isKeyField()?ee.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?_s(l,u):J(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:n.dir})}}var Dr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return kA(this.inner)}size(){return this.innerSize}};var rB=new Xe(ee.comparator);function Cr(){return rB}var ZA=new Xe(ee.comparator);function Rc(...n){let e=ZA;for(let t of n)e=e.insert(t.key,t);return e}function XA(n){let e=ZA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hi(){return Oc()}function JA(){return Oc()}function Oc(){return new Dr(n=>n.toString(),(n,e)=>n.isEqual(e))}var iB=new Xe(ee.comparator),oB=new vt(ee.comparator);function Ee(...n){let e=oB;for(let t of n)e=e.add(t);return e}var sB=new vt(pe);function aB(){return sB}function mw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function eM(n){return{integerValue:""+n}}function cB(n,e){return Fj(e)?eM(e):mw(n,e)}var Ds=class{constructor(){this._=void 0}};function lB(n,e,t){return n instanceof Cs?function(i,o){let s={fields:{[VA]:{stringValue:FA},[jA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uw(o)&&(o=Zh(o)),o&&(s.fields[LA]=o),{mapValue:s}}(t,e):n instanceof Yi?nM(n,e):n instanceof Zi?rM(n,e):function(i,o){let s=tM(i,o),a=HS(s)+HS(i.Re);return Lv(s)&&Lv(i.Re)?eM(a):mw(i.serializer,a)}(n,e)}function uB(n,e,t){return n instanceof Yi?nM(n,e):n instanceof Zi?rM(n,e):t}function tM(n,e){return n instanceof Ts?function(r){return Lv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Cs=class extends Ds{},Yi=class extends Ds{constructor(e){super(),this.elements=e}};function nM(n,e){let t=iM(e);for(let r of n.elements)t.some(i=>Wn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Zi=class extends Ds{constructor(e){super(),this.elements=e}};function rM(n,e){let t=iM(e);for(let r of n.elements)t=t.filter(i=>!Wn(i,r));return{arrayValue:{values:t}}}var Ts=class extends Ds{constructor(e,t){super(),this.serializer=e,this.Re=t}};function HS(n){return qe(n.integerValue||n.doubleValue)}function iM(n){return fw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function dB(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Yi&&i instanceof Yi||r instanceof Zi&&i instanceof Zi?ys(r.elements,i.elements,Wn):r instanceof Ts&&i instanceof Ts?Wn(r.Re,i.Re):r instanceof Cs&&i instanceof Cs}(n.transform,e.transform)}var Yv=class{constructor(e,t){this.version=e,this.transformResults=t}},Wi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ss=class{};function oM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Eh(n.key,Wi.none()):new As(n.key,n.data,Wi.none());{let t=n.data,r=pn.empty(),i=new vt(tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Tr(n.key,r,new $n(i.toArray()),Wi.none())}}function hB(n,e,t){n instanceof As?function(i,o,s){let a=i.value.clone(),l=GS(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Tr?function(i,o,s){if(!dh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=GS(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(sM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function kc(n,e,t,r){return n instanceof As?function(o,s,a,l){if(!dh(o.precondition,s))return a;let u=o.value.clone(),h=WS(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Tr?function(o,s,a,l){if(!dh(o.precondition,s))return a;let u=WS(o.fieldTransforms,l,s),h=s.data;return h.setAll(sM(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return dh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function fB(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=tM(r.transform,i||null);o!=null&&(t===null&&(t=pn.empty()),t.set(r.field,o))}return t||null}function qS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ys(r,i,(o,s)=>dB(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var As=class extends Ss{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Tr=class extends Ss{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function sM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function GS(n,e,t){let r=new Map;Ne(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,uB(s,a,t[i]))}return r}function WS(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,lB(o,s,e))}return r}var Eh=class extends Ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Zv=class extends Ss{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Xv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&hB(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=kc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=kc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=JA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=oM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(t,r)=>qS(t,r))&&ys(this.baseMutations,e.baseMutations,(t,r)=>qS(t,r))}},Jv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ne(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return iB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var e_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var t_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var at,De;function pB(n){switch(n){case P.OK:return J(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return J(15467,{code:n})}}function aM(n){if(n===void 0)return Er("GRPC error has no .code"),P.UNKNOWN;switch(n){case at.OK:return P.OK;case at.CANCELLED:return P.CANCELLED;case at.UNKNOWN:return P.UNKNOWN;case at.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case at.INTERNAL:return P.INTERNAL;case at.UNAVAILABLE:return P.UNAVAILABLE;case at.UNAUTHENTICATED:return P.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case at.NOT_FOUND:return P.NOT_FOUND;case at.ALREADY_EXISTS:return P.ALREADY_EXISTS;case at.PERMISSION_DENIED:return P.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case at.ABORTED:return P.ABORTED;case at.OUT_OF_RANGE:return P.OUT_OF_RANGE;case at.UNIMPLEMENTED:return P.UNIMPLEMENTED;case at.DATA_LOSS:return P.DATA_LOSS;default:return J(39323,{code:n})}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var KS=null;var gB=new _r([4294967295,4294967295],0);function QS(n){let e=wA().encode(n),t=new yv;return t.update(e),new Uint8Array(t.digest())}function YS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _r([t,r],0),new _r([i,o],0)]}var n_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new qi(`Invalid padding: ${t}`);if(r<0)throw new qi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new qi(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=_r.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(_r.fromNumber(r)));return i.compare(gB)===1&&(i=new _r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=QS(e),[r,i]=YS(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=QS(e),[r,i]=YS(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},qi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new Xe(pe),Cr(),Ee())}},Bc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ee(),Ee(),Ee())}};var ps=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Ih=class{constructor(e,t){this.targetId=e,this.Ce=t}},Dh=class{constructor(e,t,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ch=class{constructor(){this.Fe=0,this.Me=ZS(),this.xe=Rt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ee(),t=Ee(),r=Ee();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:J(38017,{changeType:o})}}),new Bc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=ZS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},r_=class{constructor(e){this.ze=e,this.je=new Map,this.He=Cr(),this.Je=ah(),this.Ye=ah(),this.Ze=new Xe(pe)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(Kv(o))if(r===0){let s=new ee(o.path);this.tt(t,s,An.newNoDocument(s,ae.min()))}else Ne(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}KS?.ht(function(h,p,g,m,_){var D,A,k,U,B,te;let Je={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ge=p.unchangedNames;return ge&&(Je.bloomFilter={applied:_===0,hashCount:(D=ge?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(U=(k=(A=ge?.bits)===null||A===void 0?void 0:A.bitmap)===null||k===void 0?void 0:k.length)!==null&&U!==void 0?U:0,padding:(te=(B=ge?.bits)===null||B===void 0?void 0:B.padding)!==null&&te!==void 0?te:0,mightContain:I=>{var v;return(v=m?.mightContain(I))!==null&&v!==void 0&&v}}),Je}(s,e.Ce,this.ze.Pt(),a,l))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ir(r).toUint8Array()}catch(l){if(l instanceof yh)return ms("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new n_(s,i,o)}catch(l){return ms(l instanceof qi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&Kv(a.target)){let l=new ee(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,An.newNoDocument(l,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=Ee();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new bh(e,t,this.Ze,this.He,r);return this.He=Cr(),this.Je=ah(),this.Ye=ah(),this.Ze=new Xe(pe),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ch,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new vt(pe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new vt(pe),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ch),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function ah(){return new Xe(ee.comparator)}function ZS(){return new Xe(ee.comparator)}var mB={asc:"ASCENDING",desc:"DESCENDING"},yB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vB={and:"AND",or:"OR"},i_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function o_(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function Th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _B(n,e){return Th(n,e.toTimestamp())}function Gn(n){return Ne(!!n,49232),ae.fromTimestamp(function(t){let r=br(t);return new bt(r.seconds,r.nanos)}(n))}function yw(n,e){return s_(n,e).canonicalString()}function s_(n,e){let t=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lM(n){let e=Ze.fromString(n);return Ne(pM(e),10190,{key:e.toString()}),e}function a_(n,e){return yw(n.databaseId,e.path)}function Iv(n,e){let t=lM(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ee(dM(t))}function uM(n,e){return yw(n.databaseId,e)}function wB(n){let e=lM(n);return e.length===4?Ze.emptyPath():dM(e)}function c_(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dM(n){return Ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function XS(n,e,t){return{name:a_(n,e),fields:t.value.mapValue.fields}}function EB(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Ne(h===void 0||typeof h=="string",58123),Rt.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?P.UNKNOWN:aM(u.code);return new Y(h,u.message||"")}(s);t=new Dh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Iv(n,r.document.name),o=Gn(r.document.updateTime),s=r.document.createTime?Gn(r.document.createTime):ae.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=An.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new ps(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Iv(n,r.document),o=r.readTime?Gn(r.readTime):ae.min(),s=An.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Iv(n,r.document),o=r.removedTargetIds||[];t=new ps([],o,i,null)}else{if(!("filter"in e))return J(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new t_(i,o),a=r.targetId;t=new Ih(a,s)}}return t}function bB(n,e){let t;if(e instanceof As)t={update:XS(n,e.key,e.value)};else if(e instanceof Eh)t={delete:a_(n,e.key)};else if(e instanceof Tr)t={update:XS(n,e.key,e.data),updateMask:RB(e.fieldMask)};else{if(!(e instanceof Zv))return J(16599,{ft:e.type});t={verify:a_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Cs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw J(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_B(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:J(27497)}(n,e.precondition)),t}function IB(n,e){return n&&n.length>0?(Ne(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Gn(i.updateTime):Gn(o);return s.isEqual(ae.min())&&(s=Gn(o)),new Yv(s,i.transformResults||[])}(t,e))):[]}function DB(n,e){return{documents:[uM(n,e.path)]}}function CB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uM(n,i);let o=function(u){if(u.length!==0)return fM(Kn.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:ds(g.field),direction:AB(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=o_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:i}}function TB(n){let e=wB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ne(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=hM(p);return g instanceof Kn&&qA(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(_){return new bs(hs(_.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Yh(g)?null:g}(t.limit));let l=null;t.startAt&&(l=function(p){let g=!!p.before,m=p.values||[];return new Es(m,g)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let g=!p.before,m=p.values||[];return new Es(m,g)}(t.endAt)),Xj(e,i,s,o,a,"F",l,u)}function SB(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=hs(t.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hs(t.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=hs(t.unaryFilter.field);return ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=hs(t.unaryFilter.field);return ft.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(n):n.fieldFilter!==void 0?function(t){return ft.create(hs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Kn.create(t.compositeFilter.filters.map(r=>hM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(t.compositeFilter.op))}(n):J(30097,{filter:n})}function AB(n){return mB[n]}function MB(n){return yB[n]}function xB(n){return vB[n]}function ds(n){return{fieldPath:n.canonicalString()}}function hs(n){return tn.fromServerFormat(n.fieldPath)}function fM(n){return n instanceof ft?function(t){if(t.op==="=="){if(jS(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NAN"}};if(LS(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jS(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NOT_NAN"}};if(LS(t.value))return{unaryFilter:{field:ds(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(t.field),op:MB(t.op),value:t.value}}}(n):n instanceof Kn?function(t){let r=t.getFilters().map(i=>fM(i));return r.length===1?r[0]:{compositeFilter:{op:xB(t.op),filters:r}}}(n):J(54877,{filter:n})}function RB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Uc=class n{constructor(e,t,r,i,o=ae.min(),s=ae.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var l_=class{constructor(e){this.wt=e}};function NB(n){let e=TB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qv(e,e.limit,"L"):e}var Sh=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(qe(e.integerValue));else if("doubleValue"in e){let r=qe(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Vc(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=br(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ir(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?$A(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):UA(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):J(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=vs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(qe(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ee.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Sh.Wt=new Sh;var u_=class{constructor(){this.Cn=new d_}addToCollectionParentIndex(e,t){return this.Cn.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(Qi.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},d_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vt(Ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Ze.comparator)).toArray()}};var T7=new Uint8Array(0);var JS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gM=41943040,fn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(gM,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var $c=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var eA="LruGarbageCollector",PB=1048576;function tA([n,e],[t,r]){let i=pe(n,t);return i===0?pe(e,r):i}var h_=class{constructor(e){this.Er=e,this.buffer=new vt(tA),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();tA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},f_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){z(eA,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>R(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Os(t)?z(eA,"Ignoring IndexedDB error during garbage collection: ",t):yield Ps(t)}yield this.mr(3e5)}))}},p_=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return O.resolve(cw.le);let r=new h_(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(JS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JS):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,l,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),ls()<=Ie.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function OB(n,e){return new p_(n,e)}var g_=class{constructor(){this.changes=new Dr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var m_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var y_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&kc(r.mutation,i,$n.empty(),bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ee()){let i=Hi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Rc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Hi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ee()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Cr(),s=Oc(),a=function(){return Oc()}();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Tr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),kc(h.mutation,u,h.mutation.getFieldMask(),bt.now())):s.set(u.key,$n.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new m_(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Oc(),i=new Xe((s,a)=>s-a),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||$n.empty();h=a.applyToLocalView(u,h),r.set(l,h);let p=(i.get(a.batchId)||Ee()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=JA();h.forEach(g=>{if(!o.has(g)){let m=oM(t.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):O.resolve(Hi()),a=Fc,l=o;return s.next(u=>O.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ee())).next(h=>({batchId:a,changes:XA(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Rc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,l=>{let u=function(p,g){return new Is(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,An.newInvalidDocument(h)))});let a=Rc();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&kc(h.mutation,u,$n.empty(),bt.now()),ef(t,u)&&(a=a.insert(l,u))}),a})}};var v_=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return O.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:NB(i.bundledQuery),readTime:Gn(i.readTime)}}(t)),O.resolve()}};var __=class{constructor(){this.overlays=new Xe(ee.comparator),this.Qr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Hi();return O.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let i=Hi(),o=t.length+1,s=new ee(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Xe((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Hi(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Hi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return O.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new e_(t,r));let o=this.Qr.get(t);o===void 0&&(o=Ee(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var w_=class{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var zc=class{constructor(){this.$r=new vt(ct.Ur),this.Kr=new vt(ct.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new ct(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new ct(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new ee(new Ze([])),r=new ct(t,e),i=new ct(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new ee(new Ze([])),r=new ct(t,e),i=new ct(t,e+1),o=Ee();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ct(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ct=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ee.comparator(e.key,t.key)||pe(e.Zr,t.Zr)}static Wr(e,t){return pe(e.Zr,t.Zr)||ee.comparator(e.key,t.key)}};var E_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new vt(ct.Ur)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Xv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?lw:this.nr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ct(t,0),i=new ct(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vt(pe);return t.forEach(i=>{let o=new ct(i,0),s=new ct(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),O.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new ct(new ee(o),0),a=new vt(pe);return this.Xr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},s),O.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ne(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return O.forEach(t.mutations,i=>{let o=new ct(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new ct(t,0),i=this.Xr.firstAfterOrEqual(r);return O.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var b_=class{constructor(e){this.ii=e,this.docs=function(){return new Xe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=Cr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():An.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Cr(),s=t.path,a=new ee(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Pj(Nj(h),r)<=0||(i.has(h.key)||ef(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,r,i){J(9500)}si(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new I_(this)}getSize(e){return O.resolve(this.size)}},I_=class extends g_{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var D_=class{constructor(e){this.persistence=e,this.oi=new Dr(t=>pw(t),gw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this._i=0,this.ai=new zc,this.targetCount=0,this.ui=$c.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),O.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new $c(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.Tr(t),O.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.ai.containsKey(t))}};var Ah=class{constructor(e,t){this.ci={},this.overlays={},this.li=new cw(0),this.hi=!1,this.hi=!0,this.Pi=new w_,this.referenceDelegate=e(this),this.Ti=new D_(this),this.indexManager=new u_,this.remoteDocumentCache=function(i){return new b_(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new l_(t),this.Ei=new v_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new __,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new E_(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new C_(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return O.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},C_=class extends kv{constructor(e){super(),this.currentSequenceNumber=e}},T_=class n{constructor(e){this.persistence=e,this.Vi=new zc,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw J(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),O.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.gi,r=>{let i=ee.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ae.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return O.or([()=>O.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Mh=class n{constructor(e,t){this.persistence=e,this.yi=new Dr(r=>Vj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OB(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return O.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return O.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?O.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),O.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),O.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lh(e.data.value)),t}Dr(e,t,r){return O.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var S_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ee(),i=Ee();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var A_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var M_=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return sS()?8:kj(oS())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new A_;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ls()<=Ie.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",us(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),O.resolve()):(ls()<=Ie.DEBUG&&z("QueryEngine","Query:",us(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ls()<=Ie.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",us(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(t))):O.resolve())}ws(e,t){if(zS(t))return O.resolve(null);let r=qn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Qv(t,null,"F"),r=qn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ee(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.vs(t,a);return this.Cs(t,u,s,l.readTime)?this.ws(e,Qv(t,null,"F")):this.Fs(e,u,t,l)}))})))}bs(e,t,r,i){return zS(t)||i.isEqual(ae.min())?O.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?O.resolve(null):(ls()<=Ie.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),us(t)),this.Fs(e,s,t,Rj(i,Fc)).next(a=>a))})}vs(e,t){let r=new vt(YA(e));return t.forEach((i,o)=>{ef(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return ls()<=Ie.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",us(t)),this.ys.getDocumentsMatchingQuery(e,t,Qi.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vw="LocalStore",kB=3e8,x_=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Xe(pe),this.Os=new Dr(o=>pw(o),gw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y_(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function FB(n,e,t,r){return new x_(n,e,t,r)}function mM(n,e){return R(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Ee();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})})}function VB(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,g=p.keys(),m=O.resolve();return g.forEach(_=>{m=m.next(()=>h.getEntry(l,_)).next(D=>{let A=u.docVersions.get(_);Ne(A!==null,48541),D.version.compareTo(A)<0&&(p.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),h.addEntry(D)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function yM(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function LB(n,e){let t=ie(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Rt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(D,A,k){return D.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=kB?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,m,h)&&a.push(t.Ti.updateTargetData(o,m))});let l=Cr(),u=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(jB(o,s,e.documentUpdates).next(h=>{l=h.qs,u=h.Qs})),!r.isEqual(ae.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.xs=i,o))}function jB(n,e,t){let r=Ee(),i=Ee();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Cr();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):z(vw,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function BB(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UB(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Uc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function R_(n,e,t){return R(this,null,function*(){let r=ie(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Os(s))throw s;z(vw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function nA(n,e,t){let r=ie(n),i=ae.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=ie(l),g=p.Os.get(h);return g!==void 0?O.resolve(p.xs.get(g)):p.Ti.getTargetData(u,h)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ae.min(),t?o:Ee())).next(a=>($B(r,tB(e),a),{documents:a,$s:o})))}function $B(n,e,t){let r=n.Ns.get(e)||ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var xh=class{constructor(){this.activeTargetIds=aB()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var N_=class{constructor(){this.xo=new xh,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new xh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var P_=class{No(e){}shutdown(){}};var rA="ConnectivityMonitor",Rh=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){z(rA,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){z(rA,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ch=null;function O_(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}var Dv="RestConnection",zB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},k_=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===vh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=O_(),a=this.jo(e,t.toUriEncodedString());z(Dv,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);let{host:u}=new URL(a),h=eh(u);return this.Jo(e,a,l,r,h).then(p=>(z(Dv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ms(Dv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=zB[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var F_=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var xt="WebChannelConnection",V_=class extends k_{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=O_();return new Promise((a,l)=>{let u=new vv;u.setWithCredentials(!0),u.listenOnce(_v.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xc.NO_ERROR:let p=u.getResponseJson();z(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case xc.TIMEOUT:z(xt,`RPC '${e}' ${s} timed out`),l(new Y(P.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:let g=u.getStatus();if(z(xt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let D=function(k){let U=k.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(U)>=0?U:P.UNKNOWN}(_.status);l(new Y(D,_.message))}else l(new Y(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(P.UNAVAILABLE,"Connection failed."));break;default:J(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{z(xt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);z(xt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",h,r,15)})}I_(e,t,r){let i=O_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bv(),a=Ev(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");z(xt,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l);this.E_(p);let g=!1,m=!1,_=new F_({Zo:A=>{m?z(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(z(xt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),z(xt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Xo:()=>p.close()}),D=(A,k,U)=>{A.listen(k,B=>{try{U(B)}catch(te){setTimeout(()=>{throw te},0)}})};return D(p,cs.EventType.OPEN,()=>{m||(z(xt,`RPC '${e}' stream ${i} transport opened.`),_.__())}),D(p,cs.EventType.CLOSE,()=>{m||(m=!0,z(xt,`RPC '${e}' stream ${i} transport closed`),_.u_(),this.d_(p))}),D(p,cs.EventType.ERROR,A=>{m||(m=!0,ms(xt,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),_.u_(new Y(P.UNAVAILABLE,"The operation could not be completed")))}),D(p,cs.EventType.MESSAGE,A=>{var k;if(!m){let U=A.data[0];Ne(!!U,16349);let B=U,te=B?.error||((k=B[0])===null||k===void 0?void 0:k.error);if(te){z(xt,`RPC '${e}' stream ${i} received error:`,te);let Je=te.status,ge=function(E){let b=at[E];if(b!==void 0)return aM(b)}(Je),I=te.message;ge===void 0&&(ge=P.INTERNAL,I="Unknown error status: "+Je+" with message "+te.message),m=!0,_.u_(new Y(ge,I)),p.close()}else z(xt,`RPC '${e}' stream ${i} received:`,U),_.c_(U)}}),D(a,wv.STAT_EVENT,A=>{A.stat===oh.PROXY?z(xt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===oh.NOPROXY&&z(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function Cv(){return typeof document<"u"?document:null}function tf(n){return new i_(n,!0)}var Nh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var iA="PersistentStream",Ph=class{constructor(e,t,r,i,o,s,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Nh(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return R(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return R(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return R(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new Y(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>R(this,null,function*(){this.state=0,this.start()}))}j_(e){return z(iA,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(z(iA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},L_=class extends Ph{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=EB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Gn(s.readTime):ae.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=c_(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=Kv(l)?{documents:DB(o,l)}:{query:CB(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=cM(o,s.resumeToken);let u=o_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Th(o,s.snapshotVersion.toTimestamp());let u=o_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=SB(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=c_(this.serializer),t.removeTarget=e,this.Q_(t)}},j_=class extends Ph{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=IB(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=c_(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>bB(this.serializer,r))};this.Q_(t)}};var B_=class{},U_=class extends B_{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,s_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(P.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,s_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(P.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},$_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Er(t),this.ua=!1):z("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Xi="RemoteStore",z_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>R(this,null,function*(){eo(this)&&(z(Xi,"Restarting streams for network reachability change."),yield function(l){return R(this,null,function*(){let u=ie(l);u.da.add(4),yield Kc(u),u.Va.set("Unknown"),u.da.delete(4),yield nf(u)})}(this))}))}),this.Va=new $_(r,i)}};function nf(n){return R(this,null,function*(){if(eo(n))for(let e of n.Aa)yield e(!0)})}function Kc(n){return R(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function vM(n,e){let t=ie(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),bw(t)?Ew(t):ks(t).N_()&&ww(t,e))}function _w(n,e){let t=ie(n),r=ks(t);t.Ea.delete(e),r.N_()&&_M(t,e),t.Ea.size===0&&(r.N_()?r.k_():eo(t)&&t.Va.set("Unknown"))}function ww(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ks(n).Z_(e)}function _M(n,e){n.ma.Ke(e),ks(n).X_(e)}function Ew(n){n.ma=new r_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ks(n).start(),n.Va.ca()}function bw(n){return eo(n)&&!ks(n).O_()&&n.Ea.size>0}function eo(n){return ie(n).da.size===0}function wM(n){n.ma=void 0}function HB(n){return R(this,null,function*(){n.Va.set("Online")})}function qB(n){return R(this,null,function*(){n.Ea.forEach((e,t)=>{ww(n,e)})})}function GB(n,e){return R(this,null,function*(){wM(n),bw(n)?(n.Va.Pa(e),Ew(n)):n.Va.set("Unknown")})}function WB(n,e,t){return R(this,null,function*(){if(n.Va.set("Online"),e instanceof Dh&&e.state===2&&e.cause)try{yield function(i,o){return R(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){z(Xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Oh(n,r)}else if(e instanceof ps?n.ma.Xe(e):e instanceof Ih?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ae.min()))try{let r=yield yM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.Ea.get(u);h&&o.Ea.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.Ea.get(l);if(!h)return;o.Ea.set(l,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),_M(o,l);let p=new Uc(h.target,l,u,h.sequenceNumber);ww(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){z(Xi,"Failed to raise snapshot:",r),yield Oh(n,r)}})}function Oh(n,e,t){return R(this,null,function*(){if(!Os(e))throw e;n.da.add(1),yield Kc(n),n.Va.set("Offline"),t||(t=()=>yM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>R(null,null,function*(){z(Xi,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield nf(n)}))})}function EM(n,e){return e().catch(t=>Oh(n,t,e))}function rf(n){return R(this,null,function*(){let e=ie(n),t=ni(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:lw;for(;KB(e);)try{let i=yield BB(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,QB(e,i)}catch(i){yield Oh(e,i)}bM(e)&&IM(e)})}function KB(n){return eo(n)&&n.Ia.length<10}function QB(n,e){n.Ia.push(e);let t=ni(n);t.N_()&&t.ea&&t.ta(e.mutations)}function bM(n){return eo(n)&&!ni(n).O_()&&n.Ia.length>0}function IM(n){ni(n).start()}function YB(n){return R(this,null,function*(){ni(n).ia()})}function ZB(n){return R(this,null,function*(){let e=ni(n);for(let t of n.Ia)e.ta(t.mutations)})}function XB(n,e,t){return R(this,null,function*(){let r=n.Ia.shift(),i=Jv.from(r,e,t);yield EM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield rf(n)})}function JB(n,e){return R(this,null,function*(){e&&ni(n).ea&&(yield function(r,i){return R(this,null,function*(){if(function(s){return pB(s)&&s!==P.ABORTED}(i.code)){let o=r.Ia.shift();ni(r).L_(),yield EM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield rf(r)}})}(n,e)),bM(n)&&IM(n)})}function oA(n,e){return R(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),z(Xi,"RemoteStore received new credentials");let r=eo(t);t.da.add(3),yield Kc(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield nf(t)})}function eU(n,e){return R(this,null,function*(){let t=ie(n);e?(t.da.delete(2),yield nf(t)):e||(t.da.add(2),yield Kc(t),t.Va.set("Unknown"))})}function ks(n){return n.fa||(n.fa=function(t,r,i){let o=ie(t);return o.oa(),new L_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:HB.bind(null,n),n_:qB.bind(null,n),i_:GB.bind(null,n),Y_:WB.bind(null,n)}),n.Aa.push(e=>R(null,null,function*(){e?(n.fa.L_(),bw(n)?Ew(n):n.Va.set("Unknown")):(yield n.fa.stop(),wM(n))}))),n.fa}function ni(n){return n.ga||(n.ga=function(t,r,i){let o=ie(t);return o.oa(),new j_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:YB.bind(null,n),i_:JB.bind(null,n),na:ZB.bind(null,n),ra:XB.bind(null,n)}),n.Aa.push(e=>R(null,null,function*(){e?(n.ga.L_(),yield rf(n)):(yield n.ga.stop(),n.Ia.length>0&&(z(Xi,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var H_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Iw(n,e){if(Er("AsyncQueue",`${e}: ${n}`),Os(n))return new Y(P.UNAVAILABLE,`${e}: ${n}`);throw n}var kh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ee.comparator(t.key,r.key):(t,r)=>ee.comparator(t.key,r.key),this.keyedMap=Rc(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Fh=class{constructor(){this.pa=new Xe(ee.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):J(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ms=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,kh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var q_=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},G_=class{constructor(){this.queries=sA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=sA(),o.forEach((s,a)=>{for(let l of a.Sa)l.onError(r)})})(this,new Y(P.ABORTED,"Firestore shutting down"))}};function sA(){return new Dr(n=>QA(n),Jh)}function DM(n,e){return R(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new q_,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Iw(s,`Initialization of query '${us(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&Dw(t)})}function CM(n,e){return R(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function tU(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&Dw(t)}function nU(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function Dw(n){n.Ca.forEach(e=>{e.next()})}var W_,aA;(aA=W_||(W_={})).xa="default",aA.Cache="cache";var Vh=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==W_.Cache}};var Lh=class{constructor(e){this.key=e}},jh=class{constructor(e){this.key=e}},K_=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ee(),this.mutatedKeys=Ee(),this.Za=YA(e),this.Xa=new kh(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new Fh,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=ef(this.query,p)?p:null,_=!!g&&this.mutatedKeys.has(g.key),D=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),A=!1;g&&m?g.data.isEqual(m.data)?_!==D&&(r.track({type:3,doc:m}),A=!0):this.ru(g,m)||(r.track({type:2,doc:m}),A=!0,(l&&this.Za(m,l)>0||u&&this.Za(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),A=!0):g&&!m&&(r.track({type:1,doc:g}),A=!0,(l||u)&&(a=!0)),A&&(m?(s=s.add(m),o=D?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(m,_){let D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Vt:A})}};return D(m)-D(_)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,s.length!==0||u?{snapshot:new Ms(this.query,e.Xa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Fh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=Ee(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new jh(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Lh(r))}),t}au(e){this.Ha=e.$s,this.Ya=Ee();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ms.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},Cw="SyncEngine",Q_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Y_=class{constructor(e){this.key=e,this.cu=!1}},Z_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Dr(a=>QA(a),Jh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Xe(ee.comparator),this.Eu=new Map,this.du=new zc,this.Au={},this.Ru=new Map,this.Vu=$c.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function rU(n,e,t=!0){return R(this,null,function*(){let r=RM(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield TM(r,e,t,!0),i})}function iU(n,e){return R(this,null,function*(){let t=RM(n);yield TM(t,e,!0,!1)})}function TM(n,e,t,r){return R(this,null,function*(){let i=yield UB(n.localStore,qn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield oU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&vM(n.remoteStore,i),a})}function oU(n,e,t,r,i){return R(this,null,function*(){n.fu=(p,g,m)=>function(D,A,k,U){return R(this,null,function*(){let B=A.view.tu(k);B.Cs&&(B=yield nA(D.localStore,A.query,!1).then(({documents:I})=>A.view.tu(I,B)));let te=U&&U.targetChanges.get(A.targetId),Je=U&&U.targetMismatches.get(A.targetId)!=null,ge=A.view.applyChanges(B,D.isPrimaryClient,te,Je);return lA(D,A.targetId,ge.ou),ge.snapshot})}(n,p,g,m);let o=yield nA(n.localStore,e,!0),s=new K_(e,o.$s),a=s.tu(o.documents),l=Bc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);lA(n,t,u.ou);let h=new Q_(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),u.snapshot})}function sU(n,e,t){return R(this,null,function*(){let r=ie(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Jh(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield R_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_w(r.remoteStore,i.targetId),X_(r,i.targetId)}).catch(Ps))):(X_(r,i.targetId),yield R_(r.localStore,i.targetId,!0))})}function aU(n,e){return R(this,null,function*(){let t=ie(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_w(t.remoteStore,r.targetId))})}function cU(n,e,t){return R(this,null,function*(){let r=gU(n);try{let i=yield function(s,a){let l=ie(s),u=bt.now(),h=a.reduce((m,_)=>m.add(_.key),Ee()),p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=Cr(),D=Ee();return l.Bs.getEntries(m,h).next(A=>{_=A,_.forEach((k,U)=>{U.isValidDocument()||(D=D.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(A=>{p=A;let k=[];for(let U of a){let B=fB(U,p.get(U.key).overlayedDocument);B!=null&&k.push(new Tr(U.key,B,zA(B.value.mapValue),Wi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,k,a)}).next(A=>{g=A;let k=A.applyToLocalDocumentSet(p,D);return l.documentOverlayCache.saveOverlays(m,A.batchId,k)})}).then(()=>({batchId:g.batchId,changes:XA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Au[s.currentUser.toKey()];u||(u=new Xe(pe)),u=u.insert(a,l),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Qc(r,i.changes),yield rf(r.remoteStore)}catch(i){let o=Iw(i,"Failed to persist write");t.reject(o)}})}function SM(n,e){return R(this,null,function*(){let t=ie(n);try{let r=yield LB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Ne(s.cu,14607):i.removedDocuments.size>0&&(Ne(s.cu,42227),s.cu=!1))}),yield Qc(t,r,e)}catch(r){yield Ps(r)}})}function cA(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=ie(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(u=!0)}),u&&Dw(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lU(n,e,t){return R(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Xe(ee.comparator);s=s.insert(o,An.newNoDocument(o,ae.min()));let a=Ee().add(o),l=new bh(ae.min(),new Map,new Xe(pe),s,a);yield SM(r,l),r.Iu=r.Iu.remove(o),r.Eu.delete(e),Tw(r)}else yield R_(r.localStore,e,!1).then(()=>X_(r,e,t)).catch(Ps)})}function uU(n,e){return R(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield VB(t.localStore,e);MM(t,r,null),AM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Qc(t,i)}catch(i){yield Ps(i)}})}function dU(n,e,t){return R(this,null,function*(){let r=ie(n);try{let i=yield function(s,a){let l=ie(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Ne(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);MM(r,e,t),AM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Qc(r,i)}catch(i){yield Ps(i)}})}function AM(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function MM(n,e,t){let r=ie(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function X_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||xM(n,r)})}function xM(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(_w(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Tw(n))}function lA(n,e,t){for(let r of t)r instanceof Lh?(n.du.addReference(r.key,e),hU(n,r)):r instanceof jh?(z(Cw,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||xM(n,r.key)):J(19791,{pu:r})}function hU(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(z(Cw,"New document in limbo: "+t),n.Tu.add(r),Tw(n))}function Tw(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new ee(Ze.fromString(e)),r=n.Vu.next();n.Eu.set(r,new Y_(t)),n.Iu=n.Iu.insert(t,r),vM(n.remoteStore,new Uc(qn(Xh(t.path)),r,"TargetPurposeLimboResolution",cw.le))}}function Qc(n,e,t){return R(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{s.push(r.fu(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=S_.Rs(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(l,u){return R(this,null,function*(){let h=ie(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(u,g=>O.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>O.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!Os(p))throw p;z(vw,"Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let m=h.xs.get(g),_=m.snapshotVersion,D=m.withLastLimboFreeSnapshotVersion(_);h.xs=h.xs.insert(g,D)}}})}(r.localStore,o))})}function fU(n,e){return R(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){z(Cw,"User change. New user:",e.toKey());let r=yield mM(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(l=>{l.reject(new Y(P.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qc(t,r.ks)}})}function pU(n,e){let t=ie(n),r=t.Eu.get(e);if(r&&r.cu)return Ee().add(r.key);{let i=Ee(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function RM(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lU.bind(null,e),e.lu.Y_=tU.bind(null,e.eventManager),e.lu.gu=nU.bind(null,e.eventManager),e}function gU(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dU.bind(null,e),e}var NM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return R(this,null,function*(){this.serializer=tf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return FB(this.persistence,new M_,t.initialUser,this.serializer)}Su(t){return new Ah(T_.fi,this.serializer)}bu(t){return new N_}terminate(){return R(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),J_=class extends NM{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ne(this.persistence.referenceDelegate instanceof Mh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new f_(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Ah(r=>Mh.fi(r,t),this.serializer)}};var mU=(()=>{class n{initialize(t,r){return R(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fU.bind(null,this.syncEngine),yield eU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new G_}()}createDatastore(t){let r=tf(t.databaseInfo.databaseId),i=function(s){return new V_(s)}(t.databaseInfo);return function(s,a,l,u){return new U_(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new z_(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>cA(this.syncEngine,r,0),function(){return Rh.C()?new Rh:new P_}())}createSyncEngine(t,r){return function(o,s,a,l,u,h,p){let g=new Z_(o,s,a,l,u,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return R(this,null,function*(){var t,r;yield function(o){return R(this,null,function*(){let s=ie(o);z(Xi,"RemoteStore shutting down."),s.da.add(5),yield Kc(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Bh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ri="FirestoreClient",ew=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=ph.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>R(this,null,function*(){z(ri,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z(ri,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Iw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Tv(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z(ri,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>R(null,null,function*(){r.isEqual(i)||(yield mM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function uA(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield yU(n);z(ri,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>oA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>oA(e.remoteStore,i)),n._onlineComponents=e})}function yU(n){return R(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z(ri,"Using user provided OfflineComponentProvider");try{yield Tv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ms("Error using user provided cache. Falling back to memory cache: "+t),yield Tv(n,new NM)}}else z(ri,"Using default OfflineComponentProvider"),yield Tv(n,new J_(void 0));return n._offlineComponents})}function PM(n){return R(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z(ri,"Using user provided OnlineComponentProvider"),yield uA(n,n._uninitializedComponentsProvider._online)):(z(ri,"Using default OnlineComponentProvider"),yield uA(n,new mU))),n._onlineComponents})}function vU(n){return PM(n).then(e=>e.syncEngine)}function tw(n){return R(this,null,function*(){let e=yield PM(n),t=e.eventManager;return t.onListen=rU.bind(null,e.syncEngine),t.onUnlisten=sU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aU.bind(null,e.syncEngine),t})}function _U(n,e,t={}){let r=new zn;return n.asyncQueue.enqueueAndForget(()=>R(null,null,function*(){return function(o,s,a,l,u){let h=new Bh({next:g=>{h.xu(),s.enqueueAndForget(()=>CM(o,p));let m=g.docs.has(a);!m&&g.fromCache?u.reject(new Y(P.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?u.reject(new Y(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new Vh(Xh(a.path),h,{includeMetadataChanges:!0,Qa:!0});return DM(o,p)}(yield tw(n),n.asyncQueue,e,t,r)})),r.promise}function OM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var dA=new Map;function kM(n,e,t){if(!t)throw new Y(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wU(n,e,t,r){if(e===!0&&r===!0)throw new Y(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hA(n){if(!ee.isDocumentKey(n))throw new Y(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fA(n){if(ee.isDocumentKey(n))throw new Y(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":J(12329,{type:typeof n})}function Jr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Sw(n);throw new Y(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var FM="firestore.googleapis.com",pA=!0,Uh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FM,this.ssl=pA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:pA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PB)throw new Y(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},xs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Sv;switch(r.type){case"firstParty":return new Rv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return R(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=dA.get(t);r&&(z("ComponentProvider","Removing Datastore"),dA.delete(t),r.terminate())}(this),Promise.resolve()}};function EU(n,e,t,r={}){var i;n=Jr(n,xs);let o=eh(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(nS(`https://${l}`),iS("Firestore",!0)),s.host!==FM&&s.host!==l&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!ss(u,a)&&(n._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=yt.MOCK_USER;else{h=rS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Y(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new yt(g)}n._authCredentials=new Av(new hh(h,p))}}var $h=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Gt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ei=class n extends $h{constructor(e,t,r){super(e,t,Xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ee(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Aw(n,e,...t){if(n=Bn(n),kM("collection","path",e),n instanceof xs){let r=Ze.fromString(e,...t);return fA(r),new ei(n,null,r)}{if(!(n instanceof Gt||n instanceof ei))throw new Y(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return fA(r),new ei(n.firestore,null,r)}}function VM(n,e,...t){if(n=Bn(n),arguments.length===1&&(e=ph.newId()),kM("doc","path",e),n instanceof xs){let r=Ze.fromString(e,...t);return hA(r),new Gt(n,null,new ee(r))}{if(!(n instanceof Gt||n instanceof ei))throw new Y(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return hA(r),new Gt(n.firestore,n instanceof ei?n.converter:null,new ee(r))}}var gA="AsyncQueue",zh=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Nh(this,"async_queue_retry"),this.rc=()=>{let r=Cv();r&&z(gA,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=Cv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=Cv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new zn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return R(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Os(e))throw e;z(gA,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Er("INTERNAL UNHANDLED ERROR: ",mA(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=H_.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&J(47125,{cc:mA(this.Xu)})}verifyOperationInProgress(){}lc(){return R(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function mA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function yA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ji=class extends xs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return R(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new zh(e),this._firestoreClient=void 0,yield e}})}};function LM(n,e){let t=typeof n=="object"?n:rh(),r=typeof n=="string"?n:e||vh,i=wS(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=tS("firestore");o&&EU(i,...o)}return i}function Mw(n){if(n._terminated)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bU(n),n._firestoreClient}function bU(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,h){return new Fv(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,OM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ew(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var Hc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Rt.fromBase64String(e))}catch(t){throw new Y(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Rs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qc=class{constructor(e){this._methodName=e}};var Gc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}};var Wc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var IU=/^__.*__$/;var Hh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Tr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function jM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ic:n})}}var nw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Gh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(jM(this.Ic)&&IU.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},rw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tf(e)}bc(e,t,r,i=!1){return new nw({Ic:e,methodName:t,wc:r,path:tn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function DU(n){let e=n._freezeSettings(),t=tf(n._databaseId);return new rw(n._databaseId,!!e.ignoreUndefinedProperties,t)}var qh=class n extends qc{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function CU(n,e,t,r){let i=n.bc(1,e,t);UM("Data must be an object, but it was:",i,r);let o=[],s=pn.empty();ii(r,(l,u)=>{let h=xw(e,l,t);u=Bn(u);let p=i.mc(h);if(u instanceof qh)o.push(h);else{let g=of(u,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new $n(o);return new Hh(s,a,i.fieldTransforms)}function TU(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[vA(e,r,t)],l=[i];if(o.length%2!=0)throw new Y(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(vA(e,o[g])),l.push(o[g+1]);let u=[],h=pn.empty();for(let g=a.length-1;g>=0;--g)if(!MU(u,a[g])){let m=a[g],_=l[g];_=Bn(_);let D=s.mc(m);if(_ instanceof qh)u.push(m);else{let A=of(_,D);A!=null&&(u.push(m),h.set(m,A))}}let p=new $n(u);return new Hh(h,p,s.fieldTransforms)}function of(n,e){if(BM(n=Bn(n)))return UM("Unsupported field value:",e,n),SU(n,e);if(n instanceof qc)return function(r,i){if(!jM(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=of(a,i.fc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=bt.fromDate(r);return{timestampValue:Th(i.serializer,o)}}if(r instanceof bt){let o=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(i.serializer,o)}}if(r instanceof Gc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hc)return{bytesValue:cM(i.serializer,r._byteString)};if(r instanceof Gt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wc)return function(s,a){return{mapValue:{fields:{[dw]:{stringValue:hw},[vs]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return mw(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Sw(r)}`)}(n,e)}function SU(n,e){let t={};return kA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(n,(r,i)=>{let o=of(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function BM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof Gc||n instanceof Hc||n instanceof Gt||n instanceof qc||n instanceof Wc)}function UM(n,e,t){if(!BM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Sw(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function vA(n,e,t){if((e=Bn(e))instanceof Rs)return e._internalPath;if(typeof e=="string")return xw(n,e);throw Gh("Field path arguments must be of type string or ",n,!1,void 0,t)}var AU=new RegExp("[~\\*/\\[\\]]");function xw(n,e,t){if(e.search(AU)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rs(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Y(P.INVALID_ARGUMENT,a+n+l)}function MU(n,e){return n.some(t=>t.isEqual(e))}var Wh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new iw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field($M("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},iw=class extends Wh{data(){return super.data()}};function $M(n,e){return typeof e=="string"?xw(n,e):e instanceof Rs?e._internalPath:e._delegate._internalPath}function xU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Y(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ow=class{convertValue(e,t="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ii(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[vs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>qe(s.doubleValue));return new Wc(o)}convertGeoPoint(e){return new Gc(qe(e.latitude),qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Zh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){let t=br(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ze.fromString(e);Ne(pM(r),9688,{name:e});let i=new _h(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(t)||Er(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Gi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Kh=class extends Wh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new gs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field($M("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},gs=class extends Kh{data(e={}){return super.data(e)}},sw=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Gi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gs(this._firestore,this._userDataWriter,r.key,r,new Gi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Y(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:RU(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function RU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:n})}}function zM(n){n=Jr(n,Gt);let e=Jr(n.firestore,Ji);return _U(Mw(e),n._key).then(t=>qM(e,n,t))}var Qh=class extends ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}};function HM(n,e,t,...r){n=Jr(n,Gt);let i=Jr(n.firestore,Ji),o=DU(i),s;return s=typeof(e=Bn(e))=="string"||e instanceof Rs?TU(o,"updateDoc",n._key,e,t,r):CU(o,"updateDoc",n._key,e),NU(i,[s.toMutation(n._key,Wi.exists(!0))])}function Rw(n,...e){var t,r,i;n=Bn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||yA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(yA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,h;if(n instanceof Gt)u=Jr(n.firestore,Ji),h=Xh(n._key.path),l={next:p=>{e[s]&&e[s](qM(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Jr(n,$h);u=Jr(p.firestore,Ji),h=p._query;let g=new Qh(u);l={next:m=>{e[s]&&e[s](new sw(u,g,p,m))},error:e[s+1],complete:e[s+2]},xU(n._query)}return function(g,m,_,D){let A=new Bh(D),k=new Vh(m,A,_);return g.asyncQueue.enqueueAndForget(()=>R(null,null,function*(){return DM(yield tw(g),k)})),()=>{A.xu(),g.asyncQueue.enqueueAndForget(()=>R(null,null,function*(){return CM(yield tw(g),k)}))}}(Mw(u),h,a,l)}function NU(n,e){return function(r,i){let o=new zn;return r.asyncQueue.enqueueAndForget(()=>R(null,null,function*(){return cU(yield vU(r),i,o)})),o.promise}(Mw(n),e)}function qM(n,e,t){let r=t.docs.get(e._key),i=new Qh(n);return new Kh(n,i,e._key,r,new Gi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ns=i})(bS),Ac(new yr("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ji(new Mv(r.getProvider("auth-internal")),new Nv(s,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xr(AS,MS,e),Xr(AS,MS,"esm2017")})();var GM={apiKey:"AIzaSyCIhwy11lJyks7swugXDODWeqnctpNFHyQ",authDomain:"db-app-d0f89.firebaseapp.com",projectId:"db-app-d0f89",storageBucket:"db-app-d0f89.appspot.com",messagingSenderId:"850883525069",appId:"1:850883525069:web:44d96611ac4b4fb6fe2c84",measurementId:"G-QPDH3KHRFS"};var Nt=class n{app;firestore;assistentSubject=new nt([]);assistentSubject$=this.assistentSubject.asObservable();selfSubject=new nt([]);selfSubject$=this.selfSubject.asObservable();constructor(){this.app=IS().length?rh():mv(GM),this.firestore=LM(this.app)}loadAssistent(){let e=Aw(this.firestore,"assistent");Rw(e,t=>{let r=t.docs.map(i=>L({id:i.id},i.data()));this.assistentSubject.next(r)},t=>{console.error('Fehler beim \xDCberwachen der "assistent"-Collection:',t)})}loadSelf(){let e=Aw(this.firestore,"selbst");Rw(e,t=>{let r=t.docs.map(i=>L({id:i.id},i.data()));this.selfSubject.next(r)},t=>{console.error('Fehler beim \xDCberwachen der "selbst"-Collection:',t)})}updateCount(e,t){return R(this,null,function*(){let r=VM(this.firestore,`${e}/${t}`),i=yield zM(r);if(i.exists()){let s=i.data().count??0;yield HM(r,{count:s+1})}else console.warn("Dokument existiert nicht")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var sf=class n{constructor(e,t,r){this.mainVariable=e;this.firestoreService=t;this.cdr=r}chartSeries=[];chartLabels=["L\xE4nder App","Wetter App"];ngOnInit(){mo([this.firestoreService.assistentSubject$,this.firestoreService.selfSubject$]).subscribe(([e,t])=>{let r=e?.[0]?.count??0,i=t?.[0]?.count??0;this.mainVariable.assistent=e,this.mainVariable.selbst=t,this.chartSeries=[r,i]})}chartDetails={type:"donut",width:290};dataLabels={enabled:!1};chartfill={colors:["var(--primary-color)","var(--white-color)"]};tooltip={enabled:!0,theme:"dark",style:{fontSize:"14px",fontFamily:"Arial"},fillSeriesColor:!1,onDatasetHover:{highlightDataSeries:!0}};chartLegend={position:"right",fontSize:"18px",offsetX:-50,offsetY:10,labels:{useSeriesColors:!0},markers:{offsetX:-10,fillColors:["var(--primary-color)","var(--white-color)"]}};responsive=[{breakpoint:480,options:{chart:{width:300},legend:{position:"right"}}}];static \u0275fac=function(t){return new(t||n)(Q(He),Q(Nt),Q(xi))};static \u0275cmp=Se({type:n,selectors:[["app-chart"]],decls:1,vars:8,consts:[[3,"series","chart","labels","responsive","legend","fill","tooltip","dataLabels"]],template:function(t,r){t&1&&re(0,"apx-chart",0),t&2&&Et("series",r.chartSeries)("chart",r.chartDetails)("labels",r.chartLabels)("responsive",r.responsive)("legend",r.chartLegend)("fill",r.chartfill)("tooltip",r.tooltip)("dataLabels",r.dataLabels)},dependencies:[WT,GT],encapsulation:2})};var af=class n{constructor(e,t){this.mainVariable=e;this.firestoreService=t}static \u0275fac=function(t){return new(t||n)(Q(He),Q(Nt))};static \u0275cmp=Se({type:n,selectors:[["app-status"]],decls:5,vars:0,consts:[[1,"status"],[1,"status-content"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1)(2,"span"),$(3,"Statistik: "),x(),re(4,"app-chart"),x()())},dependencies:[sf],styles:[".status[_ngcontent-%COMP%]{width:100%;height:100px;margin-top:30px;margin-bottom:30px;display:flex;justify-content:center;align-items:center;color:var(--white-color);font-size:var(--font-size-xl)}.status-content[_ngcontent-%COMP%]{width:calc(100% - 60px);height:100%;display:flex;justify-content:space-evenly;align-items:center;padding:10px 20px;background-color:var(--black-color);border:1px solid var(--grey-dark);border-radius:30px;box-shadow:0 0 0 2px var(--white-color);animation:_ngcontent-%COMP%_starts 1.5s ease-in-out 2s;opacity:0;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_starts{0%{opacity:0;transform:translateY(110px)}to{opacity:1;transform:translateY(0)}}"]})};function PU(n,e){if(n&1){let t=gt();N(0,"button",5),Re("click",function(){it(t);let i=_e();return ot(i.routesDashboard("assent"))}),$(1,"Land erstellen"),x()}}function OU(n,e){if(n&1){let t=gt();N(0,"button",5),Re("click",function(){it(t);let i=_e();return ot(i.routesDashboard("dash"))}),$(1,"Land erstellen"),x()}}var cf=class n{constructor(e,t,r){this.router=e;this.mainVariable=t;this.firestoreService=r}routesDashboard(e){if(e=="assent"){let t=this.mainVariable.assistent;this.firestoreService.updateCount("assistent",t[0].id),this.router.navigate(["/dashboard"])}else if(e=="dash"){let t=this.mainVariable.selbst;this.firestoreService.updateCount("selbst",t[0].id),this.router.navigate(["/dashboard-self"])}}static \u0275fac=function(t){return new(t||n)(Q(Mt),Q(He),Q(Nt))};static \u0275cmp=Se({type:n,selectors:[["app-welcome"]],decls:14,vars:2,consts:[[1,"welcome"],[1,"welcome-main-content"],[1,"welcome-content",3,"click"],[1,"welcome-text"],[1,"button-primary"],[1,"button-primary",3,"click"]],template:function(t,r){t&1&&(N(0,"section",0),re(1,"app-header"),N(2,"div",1)(3,"div",2),Re("click",function(){return r.routesDashboard("assent")}),N(4,"div",3)(5,"span"),$(6,"Probiere meine L\xE4nder App aus!"),x()(),$e(7,PU,2,0,"button",4),x(),N(8,"div",2),Re("click",function(){return r.routesDashboard("dash")}),N(9,"div",3)(10,"span"),$(11,"Schau dir das Wetter deiner Stadt an"),x()(),$e(12,OU,2,0,"button",4),x()(),re(13,"app-status"),x()),t&2&&(q(7),Me(r.mainVariable.ismobile==!0?7:-1),q(5),Me(r.mainVariable.ismobile==!0?12:-1))},dependencies:[Xd,af,dn],styles:[".welcome[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;overflow:hidden}.welcome-main-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center;align-items:center;gap:50px}.welcome-content[_ngcontent-%COMP%]{width:500px;height:400px;border:1px solid var(--grey-dark);background-color:var(--black-color);border-radius:30px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:50px;color:var(--white-color);animation:_ngcontent-%COMP%_starts 1.5s ease-in-out 1.5s;opacity:0;animation-fill-mode:forwards;cursor:pointer;font-family:karla}.welcome-content[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px 5px var(--white-color)}.welcome-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;font-size:var(--font-size-ml)}.welcome-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}@keyframes _ngcontent-%COMP%_starts{0%{transform:translate(100Vh);opacity:0}50%{opacity:.5}to{transform:translate(0);opacity:1}}"]})};var ex=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Q(zu),Q(Hr))};static \u0275dir=ur({type:n})}return n})(),kU=(()=>{class n extends ex{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ka(n)))(i||n)}})();static \u0275dir=ur({type:n,features:[Fo]})}return n})(),tx=new G("");var FU={provide:tx,useExisting:xa(()=>js),multi:!0};function VU(){let n=un()?un().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var LU=new G(""),js=(()=>{class n extends ex{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!VU())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Q(zu),Q(Hr),Q(LU,8))};static \u0275dir=ur({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Pm([FU]),Fo]})}return n})();var jU=new G(""),BU=new G("");function nx(n){return n!=null}function rx(n){return Vo(n)?ze(n):n}function ix(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function ox(n,e){return e.map(t=>t(n))}function UU(n){return!n.validate}function sx(n){return n.map(e=>UU(e)?e:t=>e.validate(t))}function $U(n){if(!n)return null;let e=n.filter(nx);return e.length==0?null:function(t){return ix(ox(t,e))}}function ax(n){return n!=null?$U(sx(n)):null}function zU(n){if(!n)return null;let e=n.filter(nx);return e.length==0?null:function(t){let r=ox(t,e).map(rx);return Ap(r).pipe(he(ix))}}function cx(n){return n!=null?zU(sx(n)):null}function WM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function HU(n){return n._rawValidators}function qU(n){return n._rawAsyncValidators}function Nw(n){return n?Array.isArray(n)?n:[n]:[]}function uf(n,e){return Array.isArray(n)?n.includes(e):n===e}function KM(n,e){let t=Nw(e);return Nw(n).forEach(i=>{uf(t,i)||t.push(i)}),t}function QM(n,e){return Nw(e).filter(t=>!uf(n,t))}var df=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ax(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Pw=class extends df{name;get formDirective(){return null}get path(){return null}},el=class extends df{_parent=null;name=null;valueAccessor=null},Ow=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bK=ve(L({},GU),{"[class.ng-submitted]":"isSubmitted"}),ff=(()=>{class n extends Ow{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Q(el,2))};static \u0275dir=ur({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Mm("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Fo]})}return n})();var Yc="VALID",lf="INVALID",Fs="PENDING",Zc="DISABLED",Ls=class{},hf=class extends Ls{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Xc=class extends Ls{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Jc=class extends Ls{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Vs=class extends Ls{status;source;constructor(e,t){super(),this.status=e,this.source=t}};function WU(n){return(pf(n)?n.validators:n)||null}function KU(n){return Array.isArray(n)?ax(n):n||null}function QU(n,e){return(pf(e)?e.asyncValidators:n)||null}function YU(n){return Array.isArray(n)?cx(n):n||null}function pf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var kw=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ri(this.statusReactive)}set status(e){Ri(()=>this.statusReactive.set(e))}_status=Gu(()=>this.statusReactive());statusReactive=Di(void 0);get valid(){return this.status===Yc}get invalid(){return this.status===lf}get pending(){return this.status==Fs}get disabled(){return this.status===Zc}get enabled(){return this.status!==Zc}errors;get pristine(){return Ri(this.pristineReactive)}set pristine(e){Ri(()=>this.pristineReactive.set(e))}_pristine=Gu(()=>this.pristineReactive());pristineReactive=Di(!0);get dirty(){return!this.pristine}get touched(){return Ri(this.touchedReactive)}set touched(e){Ri(()=>this.touchedReactive.set(e))}_touched=Gu(()=>this.touchedReactive());touchedReactive=Di(!1);get untouched(){return!this.touched}_events=new tt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QM(e,this._rawAsyncValidators))}hasValidator(e){return uf(this._rawValidators,e)}hasAsyncValidator(e){return uf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Jc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Jc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xc(!0,r))}markAsPending(e={}){this.status=Fs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this.errors=null,this._forEachChild(i=>{i.disable(ve(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hf(this.value,r)),this._events.next(new Vs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yc,this._forEachChild(r=>{r.enable(ve(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yc||this.status===Fs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hf(this.value,t)),this._events.next(new Vs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zc:Yc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Fs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=rx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Vs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new pt,this.statusChanges=new pt}_calculateStatus(){return this._allControlsDisabled()?Zc:this.errors?lf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fs)?Fs:this._anyControlsHaveStatus(lf)?lf:Yc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Xc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Jc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=YU(this._rawAsyncValidators)}};var lx=new G("",{providedIn:"root",factory:()=>Fw}),Fw="always";function ZU(n,e){return[...e.path,n]}function XU(n,e,t=Fw){e$(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),t$(n,e),r$(n,e),n$(n,e),JU(n,e)}function YM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function JU(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function e$(n,e){let t=HU(n);e.validator!==null?n.setValidators(WM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=qU(n);e.asyncValidator!==null?n.setAsyncValidators(WM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();YM(e._rawValidators,i),YM(e._rawAsyncValidators,i)}function t$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ux(n,e)})}function n$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ux(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ux(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function r$(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function i$(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function o$(n){return Object.getPrototypeOf(n.constructor)===kU}function s$(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===js?t=o:o$(o)?r=o:i=o}),i||r||t||null}function ZM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var a$=class extends kw{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(WU(t),QU(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(XM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){XM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var c$={provide:el,useExisting:xa(()=>tl)},JM=Promise.resolve(),tl=(()=>{class n extends el{_changeDetectorRef;callSetDisabledState;control=new a$;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new pt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=s$(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),i$(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){XU(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){JM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Om(r);JM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ZU(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Q(Pw,9),Q(jU,10),Q(BU,10),Q(tx,10),Q(xi,8),Q(lx,8))};static \u0275dir=ur({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pm([c$]),Fo,Ii]})}return n})();var l$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=bn({type:n});static \u0275inj=wn({})}return n})();var gf=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:lx,useValue:t.callSetDisabledState??Fw}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=bn({type:n});static \u0275inj=wn({imports:[l$]})}return n})();function u$(n,e){if(n&1){let t=gt();N(0,"input",8),La("ngModelChange",function(i){it(t);let o=_e();return qu(o.eingabe,i)||(o.eingabe=i),ot(i)}),Re("ngModelChange",function(i){it(t);let o=_e();return ot(o.onInputChange(i))}),x()}if(n&2){let t=_e();Va("ngModel",t.eingabe)}}function d$(n,e){if(n&1){let t=gt();N(0,"div",12),Re("click",function(){let i=it(t).$implicit,o=_e(2);return ot(o.landSelect(i))}),$(1),x()}if(n&2){let t=e.$implicit;q(),Rm(t)}}function h$(n,e){n&1&&(N(0,"span"),$(1,"Keine Land gefunden"),x())}function f$(n,e){if(n&1){let t=gt();N(0,"div",5)(1,"div",9),Re("click",function(){it(t);let i=_e();return ot(i.closeSelect())}),re(2,"img",10),x(),Ai(3,d$,2,1,"div",11,Si,!1,h$,2,0,"span"),x()}if(n&2){let t=_e();q(3),Mi(t.filterLand)}}function p$(n,e){n&1&&(N(0,"div",6)(1,"span"),$(2,"Bitte schreiben sie das Land auf Englisch! in der Eingabe"),x()())}function g$(n,e){if(n&1){let t=gt();N(0,"button",13),Re("click",function(){it(t);let i=_e();return ot(i.next())}),$(1,"weiter"),x()}if(n&2){let t=_e();Et("disabled",!t.active())}}var mf=class n{constructor(e){this.mainVariable=e}land;filterLand;eingabe="";selectLand=!1;selectCity=!1;searchLand=!0;isHovered=!1;ngOnInit(){return R(this,null,function*(){this.land=yield this.loadData()})}loadData(){return R(this,null,function*(){let t=yield(yield fetch("https://countriesnow.space/api/v0.1/countries/iso")).json();if(t.error)throw new Error("API-Fehler");return t.data.map(r=>r.name)})}onInputChange(e){e.length>2&&(this.searchLand=!1,this.selectLand=!0,this.filterLand=this.land.filter(t=>t.toLowerCase().includes(e.toLowerCase())))}landSelect(e){this.selectLand=!1,this.eingabe=e,this.searchLand=!0}onLeave(){this.isHovered=!1,this.selectLand=!1,this.searchLand=!0}onIdee(){this.isHovered=!0,this.selectLand=!1,this.searchLand=!1}closeSelect(){this.selectLand=!1,this.searchLand=!0}active(){return this.eingabe&&this.eingabe.length>3}next(){this.mainVariable.eingabe=this.eingabe,this.mainVariable.choiceLand=!1,this.mainVariable.finalLand=!0}static \u0275fac=function(t){return new(t||n)(Q(He))};static \u0275cmp=Se({type:n,selectors:[["app-land"]],decls:10,vars:4,consts:[[1,"land"],[1,"land-content"],[1,"land-img",3,"mouseenter","mouseleave"],["src","assets/img/idee.png","alt",""],["type","text",3,"ngModel"],[1,"land-select"],[1,"land-idee"],[1,"button-primary",3,"disabled"],["type","text",3,"ngModelChange","ngModel"],[1,"land-select-closeApp",3,"click"],["src","assets/img/closeApp.png","alt",""],[1,"land-select-item"],[1,"land-select-item",3,"click"],[1,"button-primary",3,"click","disabled"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1)(2,"div",2),Re("mouseenter",function(){return r.onIdee()})("mouseleave",function(){return r.onLeave()}),re(3,"img",3),x(),N(4,"span"),$(5,"w\xE4hle bitte dein Land aus "),x(),$e(6,u$,1,1,"input",4)(7,f$,6,1,"div",5)(8,p$,3,0,"div",6)(9,g$,2,1,"button",7),x()()),t&2&&(q(6),Me(r.searchLand?6:-1),q(),Me(r.selectLand?7:-1),q(),Me(r.isHovered?8:-1),q(),Me(r.searchLand?9:-1))},dependencies:[gf,js,ff,tl,dn],styles:[".land[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_starts 1.5s ease-in-out}.land-content[_ngcontent-%COMP%]{position:relative;width:500px;height:400px;font-size:var(--font-size-l);border:1px solid var(--grey-dark);background-color:var(--black-color);border-radius:30px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:50px;color:var(--white-color)}.land-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:var(--black-color);border:1px solid var(--grey-dark);border-radius:30px;padding:10px 20px;width:300px;color:var(--white-color)}.land-img[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background-color:var(--white-color);cursor:pointer;border-radius:30px;width:40px;height:40px}.land-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.land-img[_ngcontent-%COMP%]:hover{background-color:var(--hoverIdee-color)}.land-idee[_ngcontent-%COMP%]{width:350px;height:150px;background-color:var(--black-color);border:1px solid var(--grey-dark);border-radius:30px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10px;color:var(--white-color)}.land-select[_ngcontent-%COMP%]{position:relative;width:400px;height:200px;background-color:var(--black-color);border:1px solid var(--grey-dark);border-radius:30px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px;color:var(--white-color);overflow:auto}.land-select-item[_ngcontent-%COMP%]{cursor:pointer;text-align:center}.land-select-closeApp[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;cursor:pointer;width:30px;height:30px;display:flex;justify-content:center;align-items:center;background-color:var(--white-color);border-radius:30px}.land-select-closeApp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.land-select-closeApp[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);box-shadow:0 0 0 2px var(--white-color)}@keyframes _ngcontent-%COMP%_starts{0%{opacity:0}to{opacity:1}}"]})};function m$(n,e){n&1&&(N(0,"div",2)(1,"div",4)(2,"span"),$(3,"Loading..."),x(),N(4,"span",5),re(5,"img",6),x()()())}function y$(n,e){if(n&1&&(N(0,"span"),$(1),x()),n&2){let t=_e(2);q(),Pe("Es gibt mehre L\xE4nder zu deiner Eingabe: ",t.finalLand.length,"")}}function v$(n,e){if(n&1&&(N(0,"span"),$(1),x(),N(2,"div",7)(3,"span"),$(4),x(),N(5,"span"),$(6),x(),N(7,"span"),$(8),x(),N(9,"span"),$(10),x(),N(11,"span"),$(12),x(),N(13,"span"),$(14),x(),N(15,"span"),$(16),x(),N(17,"span",8),$(18,"Flage: "),re(19,"img",9),x(),N(20,"span"),$(21),x(),N(22,"span"),$(23),x()()),n&2){let t=e.$implicit,r=_e(2);q(),Pe(" Alle wichtigen Informationen von ",t==null?null:t.name.common,":"),q(3),Pe("Landesname: ",t==null?null:t.name.common,""),q(2),Pe("Landessprache: ",r.getLanguage(),""),q(2),Pe("Einwohner: ",t==null?null:t.population,""),q(2),Pe("Region: ",t==null?null:t.region,""),q(2),Pe("Abk\xFCrzung: ",t==null?null:t.cca2,""),q(2),Pe("Auto Fahrseite: ",t==null?null:t.car.side,""),q(2),Pe("Haupstadt: ",t==null?null:t.capital[0],""),q(3),xm("src",t==null?null:t.flags.png,ln),q(2),Nm("W\xE4hrung: ",r.getCurrency()," ",r.getCurrencySymbol(),""),q(2),Pe("Kontinent: ",t==null?null:t.continents[0],"")}}function _$(n,e){if(n&1&&($e(0,y$,2,1,"span"),Ai(1,v$,24,12,null,null,Si)),n&2){let t=_e();Me(t.finalLand.length>1?0:-1),q(),Mi(t.finalLand)}}var yf=class n{constructor(e,t){this.mainVariable=e;this.router=t}finalLand=[];loading=!1;ngOnInit(){return R(this,null,function*(){this.load()})}loadData(){return R(this,null,function*(){let t=yield(yield fetch(`https://restcountries.com/v3.1/name/${this.mainVariable.eingabe}`)).json();if(t.error)throw new Error("API-Fehler");return t})}getLanguage(){let e=this.finalLand[0],t=e?.name?.nativeName,r=t?Object.keys(t)[0].toLowerCase():"deu";return e?.languages[r]}getCurrency(){let e=this.finalLand[0],t=e?.currencies,r=t?Object.keys(t)[0].toUpperCase():"deu";return e?.currencies[r].name}getCurrencySymbol(){let e=this.finalLand[0],t=e?.currencies,r=t?Object.keys(t)[0].toUpperCase():"deu";return e?.currencies[r].symbol}routesWelcome(){this.mainVariable.choiceLand=!1,this.mainVariable.choiceCity=!1,this.mainVariable.finalLand=!1,this.router.navigate(["/welcome"])}load(){return R(this,null,function*(){this.loading=!0,this.finalLand=yield this.loadData(),this.loading=!1})}static \u0275fac=function(t){return new(t||n)(Q(He),Q(Mt))};static \u0275cmp=Se({type:n,selectors:[["app-final-land"]],decls:6,vars:1,consts:[[1,"final"],[1,"final-content"],[1,"loading"],[1,"button-primary","btn",3,"click"],[1,"loading-content"],[1,"loading-img"],["src","assets/img/loading.png","alt",""],[1,"final-info"],[1,"flag-info"],["alt","",1,"flag",3,"src"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1),$e(2,m$,6,0,"div",2)(3,_$,3,1),N(4,"button",3),Re("click",function(){return r.routesWelcome()}),$(5,"zur Startseite"),x()()()),t&2&&(q(2),Me(r.loading?2:3))},dependencies:[dn],styles:[".final[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_starts2 1.5s ease-in-out}.final-content[_ngcontent-%COMP%]{position:relative;width:700px;height:600px;border:1px solid var(--grey-dark);background-color:var(--black-color);border-radius:30px;display:flex;padding:20px;flex-direction:column;overflow:auto;gap:50px;color:var(--white-color)}.final-info[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;gap:25px}.flag-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.flag[_ngcontent-%COMP%]{width:50px;height:50px}.btn[_ngcontent-%COMP%]{position:sticky;bottom:0;left:50%;transform:translate(-50%);width:200px;height:50px}.loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.loading-content[_ngcontent-%COMP%]{width:200px;height:100px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px}.loading-img[_ngcontent-%COMP%]{width:50px;height:50px;background-color:var(--white-color);border:1px solid var(--grey-dark);border-radius:30px;display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_starts 2s ease-in-out infinite}.loading-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}@keyframes _ngcontent-%COMP%_starts{0%{transform:rotate(0)}to{transform:rotate(180deg)}}@keyframes _ngcontent-%COMP%_starts2{0%{opacity:0}to{opacity:1}}"]})};function w$(n,e){if(n&1){let t=gt();N(0,"div",3)(1,"span"),$(2,"Willkommen auf der L\xE4nder App"),x(),N(3,"button",5),Re("click",function(){it(t);let i=_e();return ot(i.next())}),$(4,"Los geht's"),x()()}}function E$(n,e){if(n&1){let t=gt();N(0,"div",4)(1,"span"),$(2,"W\xE4hle ein Land"),x(),N(3,"div",6)(4,"button",5),Re("click",function(){it(t);let i=_e();return ot(i.land())}),$(5,"Land w\xE4hlen"),x()()()}}function b$(n,e){n&1&&re(0,"app-land")}function I$(n,e){n&1&&re(0,"app-final-land")}var vf=class n{constructor(e,t,r){this.mainVariable=e;this.firestoreService=t;this.router=r}welcome=!0;firstCheck=!1;next(){this.welcome=!1,this.firstCheck=!0}closeApp(){this.welcome=!1,this.firstCheck=!1,this.mainVariable.choiceLand=!1,this.mainVariable.choiceCity=!1,this.mainVariable.finalLand=!1,this.router.navigate(["/welcome"])}land(){this.welcome=!1,this.firstCheck=!1,this.mainVariable.choiceLand=!0}city(){this.welcome=!1,this.firstCheck=!1,this.mainVariable.choiceCity=!0}static \u0275fac=function(t){return new(t||n)(Q(He),Q(Nt),Q(Mt))};static \u0275cmp=Se({type:n,selectors:[["app-dashboard"]],decls:7,vars:4,consts:[[1,"dashboard"],[1,"closeApp",3,"click"],["src","assets/img/closeApp.png","alt",""],[1,"dashboard-welcome"],[1,"dashboard-welcome","first"],[1,"button-primary",3,"click"],[1,"buttons"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1),Re("click",function(){return r.closeApp()}),re(2,"img",2),x(),$e(3,w$,5,0,"div",3)(4,E$,6,0,"div",4)(5,b$,1,0,"app-land")(6,I$,1,0,"app-final-land"),x()),t&2&&(q(3),Me(r.welcome?3:-1),q(),Me(r.firstCheck?4:-1),q(),Me(r.mainVariable.choiceLand?5:-1),q(),Me(r.mainVariable.finalLand?6:-1))},dependencies:[mf,yf],styles:[".dashboard[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;position:relative;animation:_ngcontent-%COMP%_starts 1.5s ease-in-out}.dashboard-welcome[_ngcontent-%COMP%]{padding:10px;font-family:FiraCode;font-size:var(--font-size-xl);width:500px;height:400px;border:1px solid var(--grey-dark);background-color:var(--black-color);border-radius:30px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:50px;color:var(--white-color)}.dashboard-welcome[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.closeApp[_ngcontent-%COMP%]{position:absolute;top:20px;right:40px;cursor:pointer;width:60px;height:60px;display:flex;justify-content:center;align-items:center;background-color:var(--white-color);border-radius:30px}.closeApp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.closeApp[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);box-shadow:0 0 0 2px var(--white-color)}.buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;gap:20px}.first[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_starts 1.5s ease-in-out;opacity:0;animation-fill-mode:forwards;font-size:var(--font-size-xl)}@keyframes _ngcontent-%COMP%_starts{0%{opacity:0}to{opacity:1}}"]})};var _f=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Se({type:n,selectors:[["app-header-wetter"]],decls:6,vars:0,consts:[[1,"header"],[1,"header-content"],["src","assets/img/wetter.jpg","alt",""]],template:function(t,r){t&1&&(N(0,"Section",0)(1,"div",1)(2,"span"),$(3,"Willkommen auf der Wetter-App"),x(),N(4,"span"),re(5,"img",2),x()()())},styles:[".header[_ngcontent-%COMP%]{width:100%;height:100px;display:flex;justify-content:center;color:var(--white-color);font-size:var(--font-size-xl)}.header-content[_ngcontent-%COMP%]{width:calc(100% - 60px);height:100%;display:flex;justify-content:space-between;align-items:center;margin-top:30px;padding:10px 20px;background-color:var(--black-color);border:1px solid var(--grey-dark);border-radius:30px;box-shadow:0 0 0 2px var(--white-color);animation:_ngcontent-%COMP%_starts 1.5s ease-in-out}.header-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:90px;border-radius:30px;object-fit:cover}@keyframes _ngcontent-%COMP%_starts{0%{opacity:0}to{opacity:1}}"]})};var Bs=class n{constructor(e){this.http=e}apiKey="b18218290c746c6759b1a32fe2f57236";getCurrentWeatherByCity(e){return this.http.get(`https://api.openweathermap.org/data/2.5/weather?q=${e},DE&units=metric&appid=${this.apiKey}`)}getCoordsByPlz(e){return this.http.get(`https://api.openweathermap.org/geo/1.0/zip?zip=${e},DE&appid=${this.apiKey}`)}getCurrentWeatherByPlz(e){return this.getCoordsByPlz(e).pipe(Tt(({lat:t,lon:r})=>this.http.get(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${r}&units=metric&appid=${this.apiKey}`)))}get3DayForecastByCoords(e,t){return this.http.get(`https://api.openweathermap.org/data/2.5/forecast?lat=${e}&lon=${t}&units=metric&appid=${this.apiKey}`)}static \u0275fac=function(t){return new(t||n)(X($o))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function D$(n,e){if(n&1){let t=gt();N(0,"span",7),Re("click",function(){let i=it(t).$implicit,o=_e(3);return ot(o.plzSelect(i))}),$(1),x()}if(n&2){let t=e.$implicit;q(),Pe("PLZ: ",t,"")}}function C$(n,e){if(n&1&&Ai(0,D$,2,1,"span",6,Si),n&2){let t=_e(2);Mi(t.filterPlz)}}function T$(n,e){if(n&1){let t=gt();N(0,"span",7),Re("click",function(){let i=it(t).$implicit,o=_e(3);return ot(o.ortSelect(i))}),$(1),x()}if(n&2){let t=e.$implicit;q(),Pe("Stadt: ",t,"")}}function S$(n,e){if(n&1&&Ai(0,T$,2,1,"span",6,Si),n&2){let t=_e(2);Mi(t.filterCity)}}function A$(n,e){if(n&1&&(N(0,"div",5),$e(1,C$,2,0)(2,S$,2,0),x()),n&2){let t=_e();q(),Me(t.filterPlz.length>0?1:t.filterCity.length>0?2:-1)}}var wf=class n{constructor(e,t){this.mainVariable=e;this.wetter=t}eingabe="";filterPlz=[];filterCity=[];select=!1;aktuellesWetter=null;forecast3Tage=[];fehler="";onInputChange(e){if(e.length<3){this.filterPlz=[],this.filterCity=[],this.select=!1;return}/^[0-9]+$/.test(e)?(this.filterPlz=this.mainVariable.plz?.filter(t=>t&&String(t).includes(e))||[],this.filterPlz=[...new Set(this.filterPlz)],this.select=!0):/^[a-zA-ZäöüÄÖÜß0-9.\-&\s]+$/.test(e)?(this.filterCity=this.mainVariable.ort.filter(t=>t.toLowerCase().includes(e.toLowerCase())),this.select=!0):(alert("Es darf nur Zahlen oder Buchstaben eingegeben werden!"),this.select=!0)}plzSelect(e){this.eingabe=e,this.select=!1}ortSelect(e){this.eingabe=e,this.select=!1}active(){return this.eingabe&&this.eingabe.length>3}search(){return R(this,null,function*(){if(this.eingabe){this.clear();try{if(/^\d+$/.test(this.eingabe)){let e=yield this.wetter.getCoordsByPlz(this.eingabe).toPromise();this.aktuellesWetter=yield this.wetter.getCurrentWeatherByPlz(this.eingabe).toPromise(),this.mainVariable.wetterPlz=this.aktuellesWetter;let t=yield this.wetter.get3DayForecastByCoords(e.lat,e.lon).toPromise();this.forecast3Tage=this.filter3TageForecast(t),this.mainVariable.tageForecastPlz=this.forecast3Tage,this.mainVariable.plzOnly=!0,console.log(this.mainVariable.wetterPlz),console.log(this.mainVariable.tageForecastPlz)}else{this.aktuellesWetter=yield this.wetter.getCurrentWeatherByCity(this.eingabe).toPromise(),this.mainVariable.wetterOrt=this.aktuellesWetter;let e=this.aktuellesWetter.coord.lat,t=this.aktuellesWetter.coord.lon,r=yield this.wetter.get3DayForecastByCoords(e,t).toPromise();this.forecast3Tage=this.filter3TageForecast(r),this.mainVariable.tageForecastOrt=this.forecast3Tage,this.mainVariable.ortOnly=!0,console.log(this.mainVariable.wetterOrt),console.log(this.mainVariable.tageForecastOrt)}}catch{this.fehler="Wetter konnte nicht geladen werden.",alert(this.fehler)}finally{this.eingabe="",this.mainVariable.loading=!1}}})}filter3TageForecast(e){return e?.list?e.list.filter(t=>t.dt_txt.includes("12:00:00")).slice(0,3):[]}clear(){this.mainVariable.loading=!0,this.fehler="",this.aktuellesWetter=null,this.forecast3Tage=[],this.mainVariable.wetterPlz=null,this.mainVariable.wetterOrt=null,this.mainVariable.tageForecastPlz=[],this.mainVariable.tageForecastOrt=[],this.mainVariable.inputPlz=this.eingabe,this.mainVariable.plzOnly=!1,this.mainVariable.ortOnly=!1}static \u0275fac=function(t){return new(t||n)(Q(He),Q(Bs))};static \u0275cmp=Se({type:n,selectors:[["app-searchbar"]],decls:7,vars:3,consts:[[1,"search"],[1,"search-content"],[1,"search-input"],["type","text","placeholder","Suche mit Postleitzahl oder Stadtname",3,"ngModelChange","ngModel"],[1,"button-primary","btn",3,"click","disabled"],[1,"search-icon"],[1,"search-icon-item"],[1,"search-icon-item",3,"click"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1)(2,"div",2)(3,"input",3),La("ngModelChange",function(o){return qu(r.eingabe,o)||(r.eingabe=o),o}),Re("ngModelChange",function(o){return r.onInputChange(o)}),x(),N(4,"button",4),Re("click",function(){return r.search()}),$(5,"Suchen"),x()(),$e(6,A$,3,1,"div",5),x()()),t&2&&(q(3),Va("ngModel",r.eingabe),q(),Et("disabled",!r.active()),q(2),Me(r.select?6:-1))},dependencies:[gf,js,ff,tl],styles:[".search[_ngcontent-%COMP%]{width:100%;height:50px;display:flex;justify-content:center;margin-top:80px}.search-content[_ngcontent-%COMP%]{width:calc(100% - 60px);height:50px;display:flex;justify-content:center;align-items:center;border:1px solid var(--grey-dark);border-radius:30px;color:var(--white-color);font-size:var(--font-size-l);position:relative}.search-input[_ngcontent-%COMP%]{position:relative;width:calc(100% - 60px);height:100%}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--grey-dark);color:var(--white-color);padding-left:20px;font-size:var(--font-size-l)}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--black-color)}.search-icon[_ngcontent-%COMP%]{width:300px;max-height:400px;position:absolute;left:30px;top:60px;display:flex;flex-direction:column;gap:10px;overflow:auto;padding:10px;animation:_ngcontent-%COMP%_height 1.5s ease forwards;background-color:var(--black-color)}.search-icon-item[_ngcontent-%COMP%]{cursor:pointer}.search-icon-item[_ngcontent-%COMP%]:hover{color:#ff0}@keyframes _ngcontent-%COMP%_height{0%{height:0px}to{height:400px}}.btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:30px;width:150px;height:45px}"]})};function M$(n,e){if(n&1&&(N(0,"span"),$(1),x(),N(2,"div",2)(3,"span"),$(4),x(),N(5,"span"),re(6,"img",3),x()()),n&2){let t=_e();q(),Pe("Das ist das Wetter mit der PLZ: ",t.mainVariable.inputPlz,""),q(3),Pe("",t.mainVariable.wetterPlz.main.temp," \xB0C"),q(2),Et("src",t.iconUrl(t.mainVariable.wetterPlz.weather[0].icon),ln)}}function x$(n,e){if(n&1&&(N(0,"span"),$(1),x(),N(2,"div",2)(3,"span"),$(4),x(),N(5,"span"),re(6,"img",3),x()()),n&2){let t=_e();q(),Pe("Das ist das Wetter in: ",t.mainVariable.wetterOrt.name,""),q(3),Pe("",t.mainVariable.wetterOrt.main.temp," \xB0C"),q(2),Et("src",t.iconUrl(t.mainVariable.wetterOrt.weather[0].icon),ln)}}var Ef=class n{constructor(e){this.mainVariable=e}iconUrl(e){return`https://openweathermap.org/img/wn/${e}@2x.png`}static \u0275fac=function(t){return new(t||n)(Q(He))};static \u0275cmp=Se({type:n,selectors:[["app-currently-weather"]],decls:7,vars:1,consts:[[1,"currently"],[1,"currently-content"],[1,"currently-wetter"],["alt","",3,"src"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div")(2,"span"),$(3,"Aktuelle Wetterdaten:"),x()(),N(4,"div",1),$e(5,M$,7,3)(6,x$,7,3),x()()),t&2&&(q(5),Me(r.mainVariable.wetterPlz!=null?5:r.mainVariable.wetterOrt!=null?6:-1))},styles:[".currently[_ngcontent-%COMP%]{align-self:start;width:calc(100vw - 20px);flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;color:var(--white-color)}.currently-wetter[_ngcontent-%COMP%]{width:100%;height:100px;display:flex;align-items:center;justify-content:center;gap:20px;font-size:var(--font-size-xl)}"]})};function R$(n,e){if(n&1&&(N(0,"div",1)(1,"div",2)(2,"span"),$(3,"Wetter heute:"),x(),N(4,"div",3)(5,"span"),$(6),x(),N(7,"span"),re(8,"img",4),x()()(),N(9,"div",2)(10,"span"),$(11,"Wetter morgen:"),x(),N(12,"div",3)(13,"span"),$(14),x(),N(15,"span"),re(16,"img",4),x()()(),N(17,"div",2)(18,"span"),$(19,"Wetter u\u0308bermorgen:"),x(),N(20,"div",3)(21,"span"),$(22),x(),N(23,"span"),re(24,"img",4),x()()()()),n&2){let t=_e();q(6),Pe(" ",t.mainVariable.tageForecastPlz[0].main.temp," \xB0C"),q(2),Et("src",t.iconUrl(t.mainVariable.tageForecastPlz[0].weather[0].icon),ln),q(6),Pe(" ",t.mainVariable.tageForecastPlz[1].main.temp," \xB0C"),q(2),Et("src",t.iconUrl(t.mainVariable.tageForecastPlz[1].weather[0].icon),ln),q(6),Pe(" ",t.mainVariable.tageForecastPlz[2].main.temp," \xB0C"),q(2),Et("src",t.iconUrl(t.mainVariable.tageForecastPlz[2].weather[0].icon),ln)}}function N$(n,e){if(n&1&&(N(0,"div",1)(1,"div",2)(2,"span"),$(3,"Wetter heute:"),x(),N(4,"div",3)(5,"span"),$(6),x(),N(7,"span"),re(8,"img",4),x()()(),N(9,"div",2)(10,"span"),$(11,"Wetter morgen:"),x(),N(12,"div",3)(13,"span"),$(14),x(),N(15,"span"),re(16,"img",4),x()()(),N(17,"div",2)(18,"span"),$(19,"Wetter u\u0308bermorgen:"),x(),N(20,"div",3)(21,"span"),$(22),x(),N(23,"span"),re(24,"img",4),x()()()()),n&2){let t=_e();q(6),Pe(" ",t.mainVariable.tageForecastOrt[0].main.temp," \xB0C"),q(2),Et("src",t.iconUrl(t.mainVariable.tageForecastOrt[0].weather[0].icon),ln),q(6),Pe(" ",t.mainVariable.tageForecastOrt[1].main.temp," \xB0C"),q(2),Et("src",t.iconUrl(t.mainVariable.tageForecastOrt[1].weather[0].icon),ln),q(6),Pe(" ",t.mainVariable.tageForecastOrt[2].main.temp," \xB0C"),q(2),Et("src",t.iconUrl(t.mainVariable.tageForecastOrt[2].weather[0].icon),ln)}}var bf=class n{constructor(e){this.mainVariable=e}iconUrl(e){return`https://openweathermap.org/img/wn/${e}@2x.png`}static \u0275fac=function(t){return new(t||n)(Q(He))};static \u0275cmp=Se({type:n,selectors:[["app-forcast-weather"]],decls:5,vars:2,consts:[[1,"forcast"],[1,"forcast-main"],[1,"forcast-content"],[1,"forcast-wetter"],["alt","",3,"src"]],template:function(t,r){t&1&&(N(0,"Section",0)(1,"span"),$(2,"Wetter fu\u0308r die na\u0308chsten Tage:"),x(),$e(3,R$,25,6,"div",1)(4,N$,25,6,"div",1),x()),t&2&&(q(3),Me(r.mainVariable.plzOnly?3:-1),q(),Me(r.mainVariable.ortOnly?4:-1))},styles:[".forcast[_ngcontent-%COMP%]{width:calc(100vw - 20px);display:flex;flex-direction:column;gap:30px;color:var(--white-color);margin-top:50px}.forcast-content[_ngcontent-%COMP%]{width:33%;height:100%;display:flex;flex-direction:column}.forcast-main[_ngcontent-%COMP%]{width:100%;display:flex}.forcast-wetter[_ngcontent-%COMP%]{width:100%;height:100px;display:flex;align-items:center;gap:20px;font-size:var(--font-size-ml)}"]})};function P$(n,e){n&1&&(N(0,"div",2)(1,"span"),$(2,"Loading..."),x(),N(3,"span",3),re(4,"img",4),x()())}function O$(n,e){if(n&1){let t=gt();N(0,"div",5),re(1,"app-currently-weather")(2,"app-forcast-weather"),x(),N(3,"div",6)(4,"button",7),Re("click",function(){it(t);let i=_e(2);return ot(i.goStart())}),$(5,"Startseite"),x(),N(6,"button",7),Re("click",function(){it(t);let i=_e(2);return ot(i.goSearch())}),$(7,"Neue Suche starten"),x()()}}function k$(n,e){if(n&1&&$e(0,O$,8,0),n&2){let t=_e();Me(t.mainVariable.wetterPlz!=null||t.mainVariable.wetterOrt!=null?0:-1)}}var If=class n{constructor(e,t,r,i,o){this.http=e;this.mainVariable=t;this.firestoreService=r;this.router=i;this.wetter=o}ngOnInit(){this.http.get("assets/text/DE.txt",{responseType:"text"}).subscribe(e=>{let r=e.split(`
`).map(i=>i.split("	")[1]);this.mainVariable.plz=r}),this.http.get("assets/text/DE.txt",{responseType:"text"}).subscribe(e=>{let r=e.split(`
`).map(o=>o.split("	")[2]).filter(Boolean),i=[...new Set(r)];this.mainVariable.ort=i})}goStart(){this.clear(),this.router.navigate(["/welcome"])}clear(){this.mainVariable.eingabe="",this.mainVariable.wetterPlz=null,this.mainVariable.wetterOrt=null,this.mainVariable.tageForecastPlz=[],this.mainVariable.tageForecastOrt=[],this.mainVariable.inputPlz="",this.mainVariable.plzOnly=!1,this.mainVariable.ortOnly=!1}goSearch(){this.clear()}static \u0275fac=function(t){return new(t||n)(Q($o),Q(He),Q(Nt),Q(Mt),Q(Bs))};static \u0275cmp=Se({type:n,selectors:[["app-dashboard-self"]],decls:6,vars:1,consts:[[1,"wetter"],[1,"wetter-content"],[1,"loading-content"],[1,"loading-img"],["src","assets/img/loading.png","alt",""],[1,"wetter-info"],[1,"wetter-buttons"],[1,"button-primary",3,"click"]],template:function(t,r){t&1&&(N(0,"Section",0),re(1,"app-header-wetter")(2,"app-searchbar"),N(3,"div",1),$e(4,P$,5,0,"div",2)(5,k$,1,1),x()()),t&2&&(q(4),Me(r.mainVariable.loading?4:5))},dependencies:[_f,wf,Ef,bf],styles:[".wetter[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column}.wetter-content[_ngcontent-%COMP%]{width:100%;flex-grow:1;display:flex;justify-content:center;flex-direction:column;gap:50px;margin-top:100px}.wetter-info[_ngcontent-%COMP%]{padding:10px}.wetter-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin-top:100px;gap:20px}.loading-content[_ngcontent-%COMP%]{width:350px;height:350px;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:30px;gap:20px;background-color:var(--black-color);color:var(--white-color);opacity:0;animation:_ngcontent-%COMP%_begins 2s ease-in-out;animation-fill-mode:forwards}.loading-img[_ngcontent-%COMP%]{width:50px;height:50px;background-color:var(--white-color);border:1px solid var(--grey-dark);border-radius:30px;display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_starts 2s ease-in-out infinite}.loading-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}@keyframes _ngcontent-%COMP%_starts{0%{transform:rotate(0)}to{transform:rotate(180deg)}}@keyframes _ngcontent-%COMP%_begins{0%{opacity:0}to{opacity:1}}"]})};function F$(n,e){n&1&&(N(0,"span"),$(1,"Loading..."),x(),N(2,"span",2),re(3,"img",3),x())}function V$(n,e){if(n&1){let t=gt();N(0,"span"),$(1,"Willkommen auf der L\xE4nder- und Wetter-App"),x(),N(2,"button",4),Re("click",function(){it(t);let i=_e();return ot(i.next())}),$(3,"Los geht's"),x()}}var Df=class n{constructor(e,t){this.firestoreService=e;this.router=t}start=!1;startOn=!1;ngOnInit(){}next(){return R(this,null,function*(){this.start=!0,this.firestoreService.loadAssistent(),this.firestoreService.loadSelf(),this.start=!1,this.router.navigate(["/welcome"])})}static \u0275fac=function(t){return new(t||n)(Q(Nt),Q(Mt))};static \u0275cmp=Se({type:n,selectors:[["app-start"]],decls:4,vars:1,consts:[[1,"start"],[1,"start-content"],[1,"loading-img"],["src","assets/img/loading.png","alt",""],[1,"button-primary",3,"click"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1),$e(2,F$,4,0)(3,V$,4,0),x()()),t&2&&(q(2),Me(r.start?2:3))},dependencies:[dn],styles:[".start[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;justify-content:center;align-items:center}.start-content[_ngcontent-%COMP%]{width:500px;height:400px;border:1px solid var(--grey-dark);background-color:var(--black-color);border-radius:30px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:50px;color:var(--white-color)}.loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.loading-content[_ngcontent-%COMP%]{width:200px;height:100px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px}.loading-img[_ngcontent-%COMP%]{width:50px;height:50px;background-color:var(--white-color);border:1px solid var(--grey-dark);border-radius:30px;display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_starts 2s ease-in-out infinite}.loading-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}@keyframes _ngcontent-%COMP%_starts{0%{transform:rotate(0)}to{transform:rotate(180deg)}}"]})};function L$(n,e){n&1&&(N(0,"section",0)(1,"div",1)(2,"span",2),re(3,"img",3),x(),N(4,"div",4)(5,"span",5),$(6,"Willkommen auf der L\xE4nder- und Wetter-App"),x()()()())}function j$(n,e){n&1&&re(0,"router-outlet")}var Us=class n{constructor(e,t,r){this.firestoreService=e;this.mainVariable=t;this.router=r}startAnimation=!0;ngOnInit(){setTimeout(()=>{this.startAnimation=!1,this.router.navigate(["/start"])},3e3)}static \u0275fac=function(t){return new(t||n)(Q(Nt),Q(He),Q(Mt))};static \u0275cmp=Se({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[1,"start-app"],[1,"start-Animation"],[1,"start-Animation-img"],["src","assets/img/start.png","alt",""],[1,"start-Animation-text"],[1,"animation-text"]],template:function(t,r){t&1&&$e(0,L$,7,0,"section",0)(1,j$,1,0,"router-outlet"),t&2&&Me(r.startAnimation?0:1)},dependencies:[hc,dn],styles:[".start-app[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.start-Animation-img[_ngcontent-%COMP%]{width:200px;height:200px}.start-Animation-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;animation:_ngcontent-%COMP%_animation 2s linear infinite;object-fit:cover}.start-Animation[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}.start-Animation-text[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:center;align-items:center;font-size:var(--font-size-xl);color:var(--white-color);text-align:center}.animation-text[_ngcontent-%COMP%]{width:50ch;animation:_ngcontent-%COMP%_tippen 2s steps(15);white-space:nowrap;overflow:hidden}@keyframes _ngcontent-%COMP%_tippen{0%{width:0}}@keyframes _ngcontent-%COMP%_animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 1200px){.start-Animation[_ngcontent-%COMP%]{flex-direction:column}}"]})};var fx=[{path:"",component:Us},{path:"start",component:Df},{path:"welcome",component:cf},{path:"dashboard",component:vf},{path:"dashboard-self",component:If}];var px={providers:[bD({eventCoalescing:!0}),Ey(fx),qT(),Ym(Zm())]};Hm(Us,px).catch(n=>console.error(n));
